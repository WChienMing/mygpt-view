(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function s(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(o){if(o.ep)return;o.ep=!0;const a=s(o);fetch(o.href,a)}})();/**
* @vue/shared v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function il(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const Ie={},ds=[],St=()=>{},bo=()=>!1,_n=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),al=e=>e.startsWith("onUpdate:"),nt=Object.assign,rl=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},ta=Object.prototype.hasOwnProperty,Se=(e,t)=>ta.call(e,t),re=Array.isArray,cs=e=>Vs(e)==="[object Map]",gs=e=>Vs(e)==="[object Set]",Ml=e=>Vs(e)==="[object Date]",ve=e=>typeof e=="function",Ne=e=>typeof e=="string",Tt=e=>typeof e=="symbol",Ue=e=>e!==null&&typeof e=="object",wo=e=>(Ue(e)||ve(e))&&ve(e.then)&&ve(e.catch),ko=Object.prototype.toString,Vs=e=>ko.call(e),sa=e=>Vs(e).slice(8,-1),$o=e=>Vs(e)==="[object Object]",ul=e=>Ne(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ts=il(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),mn=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},na=/-\w/g,mt=mn(e=>e.replace(na,t=>t.slice(1).toUpperCase())),la=/\B([A-Z])/g,Zt=mn(e=>e.replace(la,"-$1").toLowerCase()),gn=mn(e=>e.charAt(0).toUpperCase()+e.slice(1)),Dn=mn(e=>e?`on${gn(e)}`:""),Jt=(e,t)=>!Object.is(e,t),en=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Co=(e,t,s,l=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:l,value:s})},hn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Dl;const yn=()=>Dl||(Dl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function bn(e){if(re(e)){const t={};for(let s=0;s<e.length;s++){const l=e[s],o=Ne(l)?ra(l):bn(l);if(o)for(const a in o)t[a]=o[a]}return t}else if(Ne(e)||Ue(e))return e}const oa=/;(?![^(]*\))/g,ia=/:([^]+)/,aa=/\/\*[^]*?\*\//g;function ra(e){const t={};return e.replace(aa,"").split(oa).forEach(s=>{if(s){const l=s.split(ia);l.length>1&&(t[l[0].trim()]=l[1].trim())}}),t}function Le(e){let t="";if(Ne(e))t=e;else if(re(e))for(let s=0;s<e.length;s++){const l=Le(e[s]);l&&(t+=l+" ")}else if(Ue(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const ua="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",da=il(ua);function So(e){return!!e||e===""}function ca(e,t){if(e.length!==t.length)return!1;let s=!0;for(let l=0;s&&l<e.length;l++)s=os(e[l],t[l]);return s}function os(e,t){if(e===t)return!0;let s=Ml(e),l=Ml(t);if(s||l)return s&&l?e.getTime()===t.getTime():!1;if(s=Tt(e),l=Tt(t),s||l)return e===t;if(s=re(e),l=re(t),s||l)return s&&l?ca(e,t):!1;if(s=Ue(e),l=Ue(t),s||l){if(!s||!l)return!1;const o=Object.keys(e).length,a=Object.keys(t).length;if(o!==a)return!1;for(const r in e){const u=e.hasOwnProperty(r),v=t.hasOwnProperty(r);if(u&&!v||!u&&v||!os(e[r],t[r]))return!1}}return String(e)===String(t)}function dl(e,t){return e.findIndex(s=>os(s,t))}const To=e=>!!(e&&e.__v_isRef===!0),y=e=>Ne(e)?e:e==null?"":re(e)||Ue(e)&&(e.toString===ko||!ve(e.toString))?To(e)?y(e.value):JSON.stringify(e,xo,2):String(e),xo=(e,t)=>To(t)?xo(e,t.value):cs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[l,o],a)=>(s[Rn(l,a)+" =>"]=o,s),{})}:gs(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Rn(s))}:Tt(t)?Rn(t):Ue(t)&&!re(t)&&!$o(t)?String(t):t,Rn=(e,t="")=>{var s;return Tt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ot;class fa{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ot,!t&&ot&&(this.index=(ot.scopes||(ot.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=ot;try{return ot=this,t()}finally{ot=s}}}on(){++this._on===1&&(this.prevScope=ot,ot=this)}off(){this._on>0&&--this._on===0&&(ot=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,l;for(s=0,l=this.effects.length;s<l;s++)this.effects[s].stop();for(this.effects.length=0,s=0,l=this.cleanups.length;s<l;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,l=this.scopes.length;s<l;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function pa(){return ot}let Pe;const Ln=new WeakSet;class Eo{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ot&&ot.active&&ot.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ln.has(this)&&(Ln.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Io(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Rl(this),Ao(this);const t=Pe,s=yt;Pe=this,yt=!0;try{return this.fn()}finally{Po(this),Pe=t,yt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)pl(t);this.deps=this.depsTail=void 0,Rl(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ln.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){zn(this)&&this.run()}get dirty(){return zn(this)}}let Oo=0,xs,Es;function Io(e,t=!1){if(e.flags|=8,t){e.next=Es,Es=e;return}e.next=xs,xs=e}function cl(){Oo++}function fl(){if(--Oo>0)return;if(Es){let t=Es;for(Es=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;xs;){let t=xs;for(xs=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(l){e||(e=l)}t=s}}if(e)throw e}function Ao(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Po(e){let t,s=e.depsTail,l=s;for(;l;){const o=l.prevDep;l.version===-1?(l===s&&(s=o),pl(l),va(l)):t=l,l.dep.activeLink=l.prevActiveLink,l.prevActiveLink=void 0,l=o}e.deps=t,e.depsTail=s}function zn(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Uo(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Uo(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Fs)||(e.globalVersion=Fs,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!zn(e))))return;e.flags|=2;const t=e.dep,s=Pe,l=yt;Pe=e,yt=!0;try{Ao(e);const o=e.fn(e._value);(t.version===0||Jt(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{Pe=s,yt=l,Po(e),e.flags&=-3}}function pl(e,t=!1){const{dep:s,prevSub:l,nextSub:o}=e;if(l&&(l.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=l,e.nextSub=void 0),s.subs===e&&(s.subs=l,!l&&s.computed)){s.computed.flags&=-5;for(let a=s.computed.deps;a;a=a.nextDep)pl(a,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function va(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let yt=!0;const Fo=[];function jt(){Fo.push(yt),yt=!1}function Vt(){const e=Fo.pop();yt=e===void 0?!0:e}function Rl(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Pe;Pe=void 0;try{t()}finally{Pe=s}}}let Fs=0;class _a{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class vl{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Pe||!yt||Pe===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Pe)s=this.activeLink=new _a(Pe,this),Pe.deps?(s.prevDep=Pe.depsTail,Pe.depsTail.nextDep=s,Pe.depsTail=s):Pe.deps=Pe.depsTail=s,Mo(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const l=s.nextDep;l.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=l),s.prevDep=Pe.depsTail,s.nextDep=void 0,Pe.depsTail.nextDep=s,Pe.depsTail=s,Pe.deps===s&&(Pe.deps=l)}return s}trigger(t){this.version++,Fs++,this.notify(t)}notify(t){cl();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{fl()}}}function Mo(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let l=t.deps;l;l=l.nextDep)Mo(l)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Wn=new WeakMap,ns=Symbol(""),Jn=Symbol(""),Ms=Symbol("");function Ze(e,t,s){if(yt&&Pe){let l=Wn.get(e);l||Wn.set(e,l=new Map);let o=l.get(s);o||(l.set(s,o=new vl),o.map=l,o.key=s),o.track()}}function Mt(e,t,s,l,o,a){const r=Wn.get(e);if(!r){Fs++;return}const u=v=>{v&&v.trigger()};if(cl(),t==="clear")r.forEach(u);else{const v=re(e),w=v&&ul(s);if(v&&s==="length"){const m=Number(l);r.forEach((S,A)=>{(A==="length"||A===Ms||!Tt(A)&&A>=m)&&u(S)})}else switch((s!==void 0||r.has(void 0))&&u(r.get(s)),w&&u(r.get(Ms)),t){case"add":v?w&&u(r.get("length")):(u(r.get(ns)),cs(e)&&u(r.get(Jn)));break;case"delete":v||(u(r.get(ns)),cs(e)&&u(r.get(Jn)));break;case"set":cs(e)&&u(r.get(ns));break}}fl()}function rs(e){const t=Ce(e);return t===e?t:(Ze(t,"iterate",Ms),vt(e)?t:t.map(bt))}function wn(e){return Ze(e=Ce(e),"iterate",Ms),e}function Bt(e,t){return Nt(e)?ls(e)?vs(bt(t)):vs(t):bt(t)}const ma={__proto__:null,[Symbol.iterator](){return jn(this,Symbol.iterator,e=>Bt(this,e))},concat(...e){return rs(this).concat(...e.map(t=>re(t)?rs(t):t))},entries(){return jn(this,"entries",e=>(e[1]=Bt(this,e[1]),e))},every(e,t){return Ut(this,"every",e,t,void 0,arguments)},filter(e,t){return Ut(this,"filter",e,t,s=>s.map(l=>Bt(this,l)),arguments)},find(e,t){return Ut(this,"find",e,t,s=>Bt(this,s),arguments)},findIndex(e,t){return Ut(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ut(this,"findLast",e,t,s=>Bt(this,s),arguments)},findLastIndex(e,t){return Ut(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ut(this,"forEach",e,t,void 0,arguments)},includes(...e){return Vn(this,"includes",e)},indexOf(...e){return Vn(this,"indexOf",e)},join(e){return rs(this).join(e)},lastIndexOf(...e){return Vn(this,"lastIndexOf",e)},map(e,t){return Ut(this,"map",e,t,void 0,arguments)},pop(){return $s(this,"pop")},push(...e){return $s(this,"push",e)},reduce(e,...t){return Ll(this,"reduce",e,t)},reduceRight(e,...t){return Ll(this,"reduceRight",e,t)},shift(){return $s(this,"shift")},some(e,t){return Ut(this,"some",e,t,void 0,arguments)},splice(...e){return $s(this,"splice",e)},toReversed(){return rs(this).toReversed()},toSorted(e){return rs(this).toSorted(e)},toSpliced(...e){return rs(this).toSpliced(...e)},unshift(...e){return $s(this,"unshift",e)},values(){return jn(this,"values",e=>Bt(this,e))}};function jn(e,t,s){const l=wn(e),o=l[t]();return l!==e&&!vt(e)&&(o._next=o.next,o.next=()=>{const a=o._next();return a.done||(a.value=s(a.value)),a}),o}const ga=Array.prototype;function Ut(e,t,s,l,o,a){const r=wn(e),u=r!==e&&!vt(e),v=r[t];if(v!==ga[t]){const S=v.apply(e,a);return u?bt(S):S}let w=s;r!==e&&(u?w=function(S,A){return s.call(this,Bt(e,S),A,e)}:s.length>2&&(w=function(S,A){return s.call(this,S,A,e)}));const m=v.call(r,w,l);return u&&o?o(m):m}function Ll(e,t,s,l){const o=wn(e);let a=s;return o!==e&&(vt(e)?s.length>3&&(a=function(r,u,v){return s.call(this,r,u,v,e)}):a=function(r,u,v){return s.call(this,r,Bt(e,u),v,e)}),o[t](a,...l)}function Vn(e,t,s){const l=Ce(e);Ze(l,"iterate",Ms);const o=l[t](...s);return(o===-1||o===!1)&&gl(s[0])?(s[0]=Ce(s[0]),l[t](...s)):o}function $s(e,t,s=[]){jt(),cl();const l=Ce(e)[t].apply(e,s);return fl(),Vt(),l}const ha=il("__proto__,__v_isRef,__isVue"),Do=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Tt));function ya(e){Tt(e)||(e=String(e));const t=Ce(this);return Ze(t,"has",e),t.hasOwnProperty(e)}class Ro{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,l){if(s==="__v_skip")return t.__v_skip;const o=this._isReadonly,a=this._isShallow;if(s==="__v_isReactive")return!o;if(s==="__v_isReadonly")return o;if(s==="__v_isShallow")return a;if(s==="__v_raw")return l===(o?a?Oa:No:a?Vo:jo).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(l)?t:void 0;const r=re(t);if(!o){let v;if(r&&(v=ma[s]))return v;if(s==="hasOwnProperty")return ya}const u=Reflect.get(t,s,et(t)?t:l);if((Tt(s)?Do.has(s):ha(s))||(o||Ze(t,"get",s),a))return u;if(et(u)){const v=r&&ul(s)?u:u.value;return o&&Ue(v)?Xn(v):v}return Ue(u)?o?Xn(u):Ye(u):u}}class Lo extends Ro{constructor(t=!1){super(!1,t)}set(t,s,l,o){let a=t[s];const r=re(t)&&ul(s);if(!this._isShallow){const w=Nt(a);if(!vt(l)&&!Nt(l)&&(a=Ce(a),l=Ce(l)),!r&&et(a)&&!et(l))return w||(a.value=l),!0}const u=r?Number(s)<t.length:Se(t,s),v=Reflect.set(t,s,l,et(t)?t:o);return t===Ce(o)&&(u?Jt(l,a)&&Mt(t,"set",s,l):Mt(t,"add",s,l)),v}deleteProperty(t,s){const l=Se(t,s);t[s];const o=Reflect.deleteProperty(t,s);return o&&l&&Mt(t,"delete",s,void 0),o}has(t,s){const l=Reflect.has(t,s);return(!Tt(s)||!Do.has(s))&&Ze(t,"has",s),l}ownKeys(t){return Ze(t,"iterate",re(t)?"length":ns),Reflect.ownKeys(t)}}class ba extends Ro{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const wa=new Lo,ka=new ba,$a=new Lo(!0);const Gn=e=>e,Gs=e=>Reflect.getPrototypeOf(e);function Ca(e,t,s){return function(...l){const o=this.__v_raw,a=Ce(o),r=cs(a),u=e==="entries"||e===Symbol.iterator&&r,v=e==="keys"&&r,w=o[e](...l),m=s?Gn:t?vs:bt;return!t&&Ze(a,"iterate",v?Jn:ns),{next(){const{value:S,done:A}=w.next();return A?{value:S,done:A}:{value:u?[m(S[0]),m(S[1])]:m(S),done:A}},[Symbol.iterator](){return this}}}}function Xs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Sa(e,t){const s={get(o){const a=this.__v_raw,r=Ce(a),u=Ce(o);e||(Jt(o,u)&&Ze(r,"get",o),Ze(r,"get",u));const{has:v}=Gs(r),w=t?Gn:e?vs:bt;if(v.call(r,o))return w(a.get(o));if(v.call(r,u))return w(a.get(u));a!==r&&a.get(o)},get size(){const o=this.__v_raw;return!e&&Ze(Ce(o),"iterate",ns),o.size},has(o){const a=this.__v_raw,r=Ce(a),u=Ce(o);return e||(Jt(o,u)&&Ze(r,"has",o),Ze(r,"has",u)),o===u?a.has(o):a.has(o)||a.has(u)},forEach(o,a){const r=this,u=r.__v_raw,v=Ce(u),w=t?Gn:e?vs:bt;return!e&&Ze(v,"iterate",ns),u.forEach((m,S)=>o.call(a,w(m),w(S),r))}};return nt(s,e?{add:Xs("add"),set:Xs("set"),delete:Xs("delete"),clear:Xs("clear")}:{add(o){!t&&!vt(o)&&!Nt(o)&&(o=Ce(o));const a=Ce(this);return Gs(a).has.call(a,o)||(a.add(o),Mt(a,"add",o,o)),this},set(o,a){!t&&!vt(a)&&!Nt(a)&&(a=Ce(a));const r=Ce(this),{has:u,get:v}=Gs(r);let w=u.call(r,o);w||(o=Ce(o),w=u.call(r,o));const m=v.call(r,o);return r.set(o,a),w?Jt(a,m)&&Mt(r,"set",o,a):Mt(r,"add",o,a),this},delete(o){const a=Ce(this),{has:r,get:u}=Gs(a);let v=r.call(a,o);v||(o=Ce(o),v=r.call(a,o)),u&&u.call(a,o);const w=a.delete(o);return v&&Mt(a,"delete",o,void 0),w},clear(){const o=Ce(this),a=o.size!==0,r=o.clear();return a&&Mt(o,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(o=>{s[o]=Ca(o,e,t)}),s}function _l(e,t){const s=Sa(e,t);return(l,o,a)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?l:Reflect.get(Se(s,o)&&o in l?s:l,o,a)}const Ta={get:_l(!1,!1)},xa={get:_l(!1,!0)},Ea={get:_l(!0,!1)};const jo=new WeakMap,Vo=new WeakMap,No=new WeakMap,Oa=new WeakMap;function Ia(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Aa(e){return e.__v_skip||!Object.isExtensible(e)?0:Ia(sa(e))}function Ye(e){return Nt(e)?e:ml(e,!1,wa,Ta,jo)}function Pa(e){return ml(e,!1,$a,xa,Vo)}function Xn(e){return ml(e,!0,ka,Ea,No)}function ml(e,t,s,l,o){if(!Ue(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=Aa(e);if(a===0)return e;const r=o.get(e);if(r)return r;const u=new Proxy(e,a===2?l:s);return o.set(e,u),u}function ls(e){return Nt(e)?ls(e.__v_raw):!!(e&&e.__v_isReactive)}function Nt(e){return!!(e&&e.__v_isReadonly)}function vt(e){return!!(e&&e.__v_isShallow)}function gl(e){return e?!!e.__v_raw:!1}function Ce(e){const t=e&&e.__v_raw;return t?Ce(t):e}function Ua(e){return!Se(e,"__v_skip")&&Object.isExtensible(e)&&Co(e,"__v_skip",!0),e}const bt=e=>Ue(e)?Ye(e):e,vs=e=>Ue(e)?Xn(e):e;function et(e){return e?e.__v_isRef===!0:!1}function U(e){return Ho(e,!1)}function Fa(e){return Ho(e,!0)}function Ho(e,t){return et(e)?e:new Ma(e,t)}class Ma{constructor(t,s){this.dep=new vl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:Ce(t),this._value=s?t:bt(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,l=this.__v_isShallow||vt(t)||Nt(t);t=l?t:Ce(t),Jt(t,s)&&(this._rawValue=t,this._value=l?t:bt(t),this.dep.trigger())}}function tn(e){return et(e)?e.value:e}const Da={get:(e,t,s)=>t==="__v_raw"?e:tn(Reflect.get(e,t,s)),set:(e,t,s,l)=>{const o=e[t];return et(o)&&!et(s)?(o.value=s,!0):Reflect.set(e,t,s,l)}};function qo(e){return ls(e)?e:new Proxy(e,Da)}class Ra{constructor(t,s,l){this.fn=t,this.setter=s,this._value=void 0,this.dep=new vl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Fs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=l}notify(){if(this.flags|=16,!(this.flags&8)&&Pe!==this)return Io(this,!0),!0}get value(){const t=this.dep.track();return Uo(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function La(e,t,s=!1){let l,o;return ve(e)?l=e:(l=e.get,o=e.set),new Ra(l,o,s)}const Zs={},on=new WeakMap;let ts;function ja(e,t=!1,s=ts){if(s){let l=on.get(s);l||on.set(s,l=[]),l.push(e)}}function Va(e,t,s=Ie){const{immediate:l,deep:o,once:a,scheduler:r,augmentJob:u,call:v}=s,w=W=>o?W:vt(W)||o===!1||o===0?Dt(W,1):Dt(W);let m,S,A,$,z=!1,N=!1;if(et(e)?(S=()=>e.value,z=vt(e)):ls(e)?(S=()=>w(e),z=!0):re(e)?(N=!0,z=e.some(W=>ls(W)||vt(W)),S=()=>e.map(W=>{if(et(W))return W.value;if(ls(W))return w(W);if(ve(W))return v?v(W,2):W()})):ve(e)?t?S=v?()=>v(e,2):e:S=()=>{if(A){jt();try{A()}finally{Vt()}}const W=ts;ts=m;try{return v?v(e,3,[$]):e($)}finally{ts=W}}:S=St,t&&o){const W=S,ue=o===!0?1/0:o;S=()=>Dt(W(),ue)}const ne=pa(),Y=()=>{m.stop(),ne&&ne.active&&rl(ne.effects,m)};if(a&&t){const W=t;t=(...ue)=>{W(...ue),Y()}}let V=N?new Array(e.length).fill(Zs):Zs;const M=W=>{if(!(!(m.flags&1)||!m.dirty&&!W))if(t){const ue=m.run();if(o||z||(N?ue.some((de,X)=>Jt(de,V[X])):Jt(ue,V))){A&&A();const de=ts;ts=m;try{const X=[ue,V===Zs?void 0:N&&V[0]===Zs?[]:V,$];V=ue,v?v(t,3,X):t(...X)}finally{ts=de}}}else m.run()};return u&&u(M),m=new Eo(S),m.scheduler=r?()=>r(M,!1):M,$=W=>ja(W,!1,m),A=m.onStop=()=>{const W=on.get(m);if(W){if(v)v(W,4);else for(const ue of W)ue();on.delete(m)}},t?l?M(!0):V=m.run():r?r(M.bind(null,!0),!0):m.run(),Y.pause=m.pause.bind(m),Y.resume=m.resume.bind(m),Y.stop=Y,Y}function Dt(e,t=1/0,s){if(t<=0||!Ue(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,et(e))Dt(e.value,t,s);else if(re(e))for(let l=0;l<e.length;l++)Dt(e[l],t,s);else if(gs(e)||cs(e))e.forEach(l=>{Dt(l,t,s)});else if($o(e)){for(const l in e)Dt(e[l],t,s);for(const l of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,l)&&Dt(e[l],t,s)}return e}/**
* @vue/runtime-core v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ns(e,t,s,l){try{return l?e(...l):e()}catch(o){kn(o,t,s)}}function xt(e,t,s,l){if(ve(e)){const o=Ns(e,t,s,l);return o&&wo(o)&&o.catch(a=>{kn(a,t,s)}),o}if(re(e)){const o=[];for(let a=0;a<e.length;a++)o.push(xt(e[a],t,s,l));return o}}function kn(e,t,s,l=!0){const o=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:r}=t&&t.appContext.config||Ie;if(t){let u=t.parent;const v=t.proxy,w=`https://vuejs.org/error-reference/#runtime-${s}`;for(;u;){const m=u.ec;if(m){for(let S=0;S<m.length;S++)if(m[S](e,v,w)===!1)return}u=u.parent}if(a){jt(),Ns(a,null,10,[e,v,w]),Vt();return}}Na(e,s,o,l,r)}function Na(e,t,s,l=!0,o=!1){if(o)throw e;console.error(e)}const st=[];let $t=-1;const fs=[];let Kt=null,us=0;const Bo=Promise.resolve();let an=null;function Os(e){const t=an||Bo;return e?t.then(this?e.bind(this):e):t}function Ha(e){let t=$t+1,s=st.length;for(;t<s;){const l=t+s>>>1,o=st[l],a=Ds(o);a<e||a===e&&o.flags&2?t=l+1:s=l}return t}function hl(e){if(!(e.flags&1)){const t=Ds(e),s=st[st.length-1];!s||!(e.flags&2)&&t>=Ds(s)?st.push(e):st.splice(Ha(t),0,e),e.flags|=1,Ko()}}function Ko(){an||(an=Bo.then(Wo))}function qa(e){re(e)?fs.push(...e):Kt&&e.id===-1?Kt.splice(us+1,0,e):e.flags&1||(fs.push(e),e.flags|=1),Ko()}function jl(e,t,s=$t+1){for(;s<st.length;s++){const l=st[s];if(l&&l.flags&2){if(e&&l.id!==e.uid)continue;st.splice(s,1),s--,l.flags&4&&(l.flags&=-2),l(),l.flags&4||(l.flags&=-2)}}}function zo(e){if(fs.length){const t=[...new Set(fs)].sort((s,l)=>Ds(s)-Ds(l));if(fs.length=0,Kt){Kt.push(...t);return}for(Kt=t,us=0;us<Kt.length;us++){const s=Kt[us];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Kt=null,us=0}}const Ds=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Wo(e){try{for($t=0;$t<st.length;$t++){const t=st[$t];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ns(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;$t<st.length;$t++){const t=st[$t];t&&(t.flags&=-2)}$t=-1,st.length=0,zo(),an=null,(st.length||fs.length)&&Wo()}}let ct=null,Jo=null;function rn(e){const t=ct;return ct=e,Jo=e&&e.type.__scopeId||null,t}function Ba(e,t=ct,s){if(!t||e._n)return e;const l=(...o)=>{l._d&&Xl(-1);const a=rn(t);let r;try{r=e(...o)}finally{rn(a),l._d&&Xl(1)}return r};return l._n=!0,l._c=!0,l._d=!0,l}function ie(e,t){if(ct===null)return e;const s=Tn(ct),l=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[a,r,u,v=Ie]=t[o];a&&(ve(a)&&(a={mounted:a,updated:a}),a.deep&&Dt(r),l.push({dir:a,instance:s,value:r,oldValue:void 0,arg:u,modifiers:v}))}return e}function Qt(e,t,s,l){const o=e.dirs,a=t&&t.dirs;for(let r=0;r<o.length;r++){const u=o[r];a&&(u.oldValue=a[r].value);let v=u.dir[l];v&&(jt(),xt(v,s,8,[e.el,u,e,t]),Vt())}}const Ka=Symbol("_vte"),za=e=>e.__isTeleport,Wa=Symbol("_leaveCb");function yl(e,t){e.shapeFlag&6&&e.component?(e.transition=t,yl(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Go(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const un=new WeakMap;function Is(e,t,s,l,o=!1){if(re(e)){e.forEach((z,N)=>Is(z,t&&(re(t)?t[N]:t),s,l,o));return}if(As(l)&&!o){l.shapeFlag&512&&l.type.__asyncResolved&&l.component.subTree.component&&Is(e,t,s,l.component.subTree);return}const a=l.shapeFlag&4?Tn(l.component):l.el,r=o?null:a,{i:u,r:v}=e,w=t&&t.r,m=u.refs===Ie?u.refs={}:u.refs,S=u.setupState,A=Ce(S),$=S===Ie?bo:z=>Se(A,z);if(w!=null&&w!==v){if(Vl(t),Ne(w))m[w]=null,$(w)&&(S[w]=null);else if(et(w)){w.value=null;const z=t;z.k&&(m[z.k]=null)}}if(ve(v))Ns(v,u,12,[r,m]);else{const z=Ne(v),N=et(v);if(z||N){const ne=()=>{if(e.f){const Y=z?$(v)?S[v]:m[v]:v.value;if(o)re(Y)&&rl(Y,a);else if(re(Y))Y.includes(a)||Y.push(a);else if(z)m[v]=[a],$(v)&&(S[v]=m[v]);else{const V=[a];v.value=V,e.k&&(m[e.k]=V)}}else z?(m[v]=r,$(v)&&(S[v]=r)):N&&(v.value=r,e.k&&(m[e.k]=r))};if(r){const Y=()=>{ne(),un.delete(e)};Y.id=-1,un.set(e,Y),dt(Y,s)}else Vl(e),ne()}}}function Vl(e){const t=un.get(e);t&&(t.flags|=8,un.delete(e))}yn().requestIdleCallback;yn().cancelIdleCallback;const As=e=>!!e.type.__asyncLoader,Xo=e=>e.type.__isKeepAlive;function Ja(e,t){Zo(e,"a",t)}function Ga(e,t){Zo(e,"da",t)}function Zo(e,t,s=Qe){const l=e.__wdc||(e.__wdc=()=>{let o=s;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if($n(t,l,s),s){let o=s.parent;for(;o&&o.parent;)Xo(o.parent.vnode)&&Xa(l,t,s,o),o=o.parent}}function Xa(e,t,s,l){const o=$n(t,e,l,!0);Yo(()=>{rl(l[t],o)},s)}function $n(e,t,s=Qe,l=!1){if(s){const o=s[e]||(s[e]=[]),a=t.__weh||(t.__weh=(...r)=>{jt();const u=qs(s),v=xt(t,s,e,r);return u(),Vt(),v});return l?o.unshift(a):o.push(a),a}}const Ht=e=>(t,s=Qe)=>{(!Ls||e==="sp")&&$n(e,(...l)=>t(...l),s)},Za=Ht("bm"),Hs=Ht("m"),Ya=Ht("bu"),Qa=Ht("u"),er=Ht("bum"),Yo=Ht("um"),tr=Ht("sp"),sr=Ht("rtg"),nr=Ht("rtc");function lr(e,t=Qe){$n("ec",e,t)}const or="components",Qo=Symbol.for("v-ndc");function ir(e){return Ne(e)?ar(or,e,!1)||e:e||Qo}function ar(e,t,s=!0,l=!1){const o=ct||Qe;if(o){const a=o.type;{const u=Xr(a,!1);if(u&&(u===t||u===mt(t)||u===gn(mt(t))))return a}const r=Nl(o[e]||a[e],t)||Nl(o.appContext[e],t);return!r&&l?a:r}}function Nl(e,t){return e&&(e[t]||e[mt(t)]||e[gn(mt(t))])}function Te(e,t,s,l){let o;const a=s,r=re(e);if(r||Ne(e)){const u=r&&ls(e);let v=!1,w=!1;u&&(v=!vt(e),w=Nt(e),e=wn(e)),o=new Array(e.length);for(let m=0,S=e.length;m<S;m++)o[m]=t(v?w?vs(bt(e[m])):bt(e[m]):e[m],m,void 0,a)}else if(typeof e=="number"){o=new Array(e);for(let u=0;u<e;u++)o[u]=t(u+1,u,void 0,a)}else if(Ue(e))if(e[Symbol.iterator])o=Array.from(e,(u,v)=>t(u,v,void 0,a));else{const u=Object.keys(e);o=new Array(u.length);for(let v=0,w=u.length;v<w;v++){const m=u[v];o[v]=t(e[m],m,v,a)}}else o=[];return o}const Zn=e=>e?bi(e)?Tn(e):Zn(e.parent):null,Ps=nt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Zn(e.parent),$root:e=>Zn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ti(e),$forceUpdate:e=>e.f||(e.f=()=>{hl(e.update)}),$nextTick:e=>e.n||(e.n=Os.bind(e.proxy)),$watch:e=>yr.bind(e)}),Nn=(e,t)=>e!==Ie&&!e.__isScriptSetup&&Se(e,t),rr={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:l,data:o,props:a,accessCache:r,type:u,appContext:v}=e;if(t[0]!=="$"){const A=r[t];if(A!==void 0)switch(A){case 1:return l[t];case 2:return o[t];case 4:return s[t];case 3:return a[t]}else{if(Nn(l,t))return r[t]=1,l[t];if(o!==Ie&&Se(o,t))return r[t]=2,o[t];if(Se(a,t))return r[t]=3,a[t];if(s!==Ie&&Se(s,t))return r[t]=4,s[t];Yn&&(r[t]=0)}}const w=Ps[t];let m,S;if(w)return t==="$attrs"&&Ze(e.attrs,"get",""),w(e);if((m=u.__cssModules)&&(m=m[t]))return m;if(s!==Ie&&Se(s,t))return r[t]=4,s[t];if(S=v.config.globalProperties,Se(S,t))return S[t]},set({_:e},t,s){const{data:l,setupState:o,ctx:a}=e;return Nn(o,t)?(o[t]=s,!0):l!==Ie&&Se(l,t)?(l[t]=s,!0):Se(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:l,appContext:o,props:a,type:r}},u){let v;return!!(s[u]||e!==Ie&&u[0]!=="$"&&Se(e,u)||Nn(t,u)||Se(a,u)||Se(l,u)||Se(Ps,u)||Se(o.config.globalProperties,u)||(v=r.__cssModules)&&v[u])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Se(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Hl(e){return re(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Yn=!0;function ur(e){const t=ti(e),s=e.proxy,l=e.ctx;Yn=!1,t.beforeCreate&&ql(t.beforeCreate,e,"bc");const{data:o,computed:a,methods:r,watch:u,provide:v,inject:w,created:m,beforeMount:S,mounted:A,beforeUpdate:$,updated:z,activated:N,deactivated:ne,beforeDestroy:Y,beforeUnmount:V,destroyed:M,unmounted:W,render:ue,renderTracked:de,renderTriggered:X,errorCaptured:se,serverPrefetch:oe,expose:ce,inheritAttrs:Ve,components:ze,directives:We,filters:_e}=t;if(w&&dr(w,l,null),r)for(const fe in r){const ge=r[fe];ve(ge)&&(l[fe]=ge.bind(s))}if(o){const fe=o.call(s,s);Ue(fe)&&(e.data=Ye(fe))}if(Yn=!0,a)for(const fe in a){const ge=a[fe],ke=ve(ge)?ge.bind(s,s):ve(ge.get)?ge.get.bind(s,s):St,Fe=!ve(ge)&&ve(ge.set)?ge.set.bind(s):St,me=ss({get:ke,set:Fe});Object.defineProperty(l,fe,{enumerable:!0,configurable:!0,get:()=>me.value,set:Me=>me.value=Me})}if(u)for(const fe in u)ei(u[fe],l,s,fe);if(v){const fe=ve(v)?v.call(s):v;Reflect.ownKeys(fe).forEach(ge=>{mr(ge,fe[ge])})}m&&ql(m,e,"c");function ee(fe,ge){re(ge)?ge.forEach(ke=>fe(ke.bind(s))):ge&&fe(ge.bind(s))}if(ee(Za,S),ee(Hs,A),ee(Ya,$),ee(Qa,z),ee(Ja,N),ee(Ga,ne),ee(lr,se),ee(nr,de),ee(sr,X),ee(er,V),ee(Yo,W),ee(tr,oe),re(ce))if(ce.length){const fe=e.exposed||(e.exposed={});ce.forEach(ge=>{Object.defineProperty(fe,ge,{get:()=>s[ge],set:ke=>s[ge]=ke,enumerable:!0})})}else e.exposed||(e.exposed={});ue&&e.render===St&&(e.render=ue),Ve!=null&&(e.inheritAttrs=Ve),ze&&(e.components=ze),We&&(e.directives=We),oe&&Go(e)}function dr(e,t,s=St){re(e)&&(e=Qn(e));for(const l in e){const o=e[l];let a;Ue(o)?"default"in o?a=sn(o.from||l,o.default,!0):a=sn(o.from||l):a=sn(o),et(a)?Object.defineProperty(t,l,{enumerable:!0,configurable:!0,get:()=>a.value,set:r=>a.value=r}):t[l]=a}}function ql(e,t,s){xt(re(e)?e.map(l=>l.bind(t.proxy)):e.bind(t.proxy),t,s)}function ei(e,t,s,l){let o=l.includes(".")?li(s,l):()=>s[l];if(Ne(e)){const a=t[e];ve(a)&&Wt(o,a)}else if(ve(e))Wt(o,e.bind(s));else if(Ue(e))if(re(e))e.forEach(a=>ei(a,t,s,l));else{const a=ve(e.handler)?e.handler.bind(s):t[e.handler];ve(a)&&Wt(o,a,e)}}function ti(e){const t=e.type,{mixins:s,extends:l}=t,{mixins:o,optionsCache:a,config:{optionMergeStrategies:r}}=e.appContext,u=a.get(t);let v;return u?v=u:!o.length&&!s&&!l?v=t:(v={},o.length&&o.forEach(w=>dn(v,w,r,!0)),dn(v,t,r)),Ue(t)&&a.set(t,v),v}function dn(e,t,s,l=!1){const{mixins:o,extends:a}=t;a&&dn(e,a,s,!0),o&&o.forEach(r=>dn(e,r,s,!0));for(const r in t)if(!(l&&r==="expose")){const u=cr[r]||s&&s[r];e[r]=u?u(e[r],t[r]):t[r]}return e}const cr={data:Bl,props:Kl,emits:Kl,methods:Ss,computed:Ss,beforeCreate:tt,created:tt,beforeMount:tt,mounted:tt,beforeUpdate:tt,updated:tt,beforeDestroy:tt,beforeUnmount:tt,destroyed:tt,unmounted:tt,activated:tt,deactivated:tt,errorCaptured:tt,serverPrefetch:tt,components:Ss,directives:Ss,watch:pr,provide:Bl,inject:fr};function Bl(e,t){return t?e?function(){return nt(ve(e)?e.call(this,this):e,ve(t)?t.call(this,this):t)}:t:e}function fr(e,t){return Ss(Qn(e),Qn(t))}function Qn(e){if(re(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function tt(e,t){return e?[...new Set([].concat(e,t))]:t}function Ss(e,t){return e?nt(Object.create(null),e,t):t}function Kl(e,t){return e?re(e)&&re(t)?[...new Set([...e,...t])]:nt(Object.create(null),Hl(e),Hl(t??{})):t}function pr(e,t){if(!e)return t;if(!t)return e;const s=nt(Object.create(null),e);for(const l in t)s[l]=tt(e[l],t[l]);return s}function si(){return{app:null,config:{isNativeTag:bo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let vr=0;function _r(e,t){return function(l,o=null){ve(l)||(l=nt({},l)),o!=null&&!Ue(o)&&(o=null);const a=si(),r=new WeakSet,u=[];let v=!1;const w=a.app={_uid:vr++,_component:l,_props:o,_container:null,_context:a,_instance:null,version:Yr,get config(){return a.config},set config(m){},use(m,...S){return r.has(m)||(m&&ve(m.install)?(r.add(m),m.install(w,...S)):ve(m)&&(r.add(m),m(w,...S))),w},mixin(m){return a.mixins.includes(m)||a.mixins.push(m),w},component(m,S){return S?(a.components[m]=S,w):a.components[m]},directive(m,S){return S?(a.directives[m]=S,w):a.directives[m]},mount(m,S,A){if(!v){const $=w._ceVNode||Lt(l,o);return $.appContext=a,A===!0?A="svg":A===!1&&(A=void 0),e($,m,A),v=!0,w._container=m,m.__vue_app__=w,Tn($.component)}},onUnmount(m){u.push(m)},unmount(){v&&(xt(u,w._instance,16),e(null,w._container),delete w._container.__vue_app__)},provide(m,S){return a.provides[m]=S,w},runWithContext(m){const S=ps;ps=w;try{return m()}finally{ps=S}}};return w}}let ps=null;function mr(e,t){if(Qe){let s=Qe.provides;const l=Qe.parent&&Qe.parent.provides;l===s&&(s=Qe.provides=Object.create(l)),s[e]=t}}function sn(e,t,s=!1){const l=Kr();if(l||ps){let o=ps?ps._context.provides:l?l.parent==null||l.ce?l.vnode.appContext&&l.vnode.appContext.provides:l.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return s&&ve(t)?t.call(l&&l.proxy):t}}const gr=Symbol.for("v-scx"),hr=()=>sn(gr);function Wt(e,t,s){return ni(e,t,s)}function ni(e,t,s=Ie){const{immediate:l,deep:o,flush:a,once:r}=s,u=nt({},s),v=t&&l||!t&&a!=="post";let w;if(Ls){if(a==="sync"){const $=hr();w=$.__watcherHandles||($.__watcherHandles=[])}else if(!v){const $=()=>{};return $.stop=St,$.resume=St,$.pause=St,$}}const m=Qe;u.call=($,z,N)=>xt($,m,z,N);let S=!1;a==="post"?u.scheduler=$=>{dt($,m&&m.suspense)}:a!=="sync"&&(S=!0,u.scheduler=($,z)=>{z?$():hl($)}),u.augmentJob=$=>{t&&($.flags|=4),S&&($.flags|=2,m&&($.id=m.uid,$.i=m))};const A=Va(e,t,u);return Ls&&(w?w.push(A):v&&A()),A}function yr(e,t,s){const l=this.proxy,o=Ne(e)?e.includes(".")?li(l,e):()=>l[e]:e.bind(l,l);let a;ve(t)?a=t:(a=t.handler,s=t);const r=qs(this),u=ni(o,a.bind(l),s);return r(),u}function li(e,t){const s=t.split(".");return()=>{let l=e;for(let o=0;o<s.length&&l;o++)l=l[s[o]];return l}}const br=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${mt(t)}Modifiers`]||e[`${Zt(t)}Modifiers`];function wr(e,t,...s){if(e.isUnmounted)return;const l=e.vnode.props||Ie;let o=s;const a=t.startsWith("update:"),r=a&&br(l,t.slice(7));r&&(r.trim&&(o=s.map(m=>Ne(m)?m.trim():m)),r.number&&(o=s.map(hn)));let u,v=l[u=Dn(t)]||l[u=Dn(mt(t))];!v&&a&&(v=l[u=Dn(Zt(t))]),v&&xt(v,e,6,o);const w=l[u+"Once"];if(w){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,xt(w,e,6,o)}}const kr=new WeakMap;function oi(e,t,s=!1){const l=s?kr:t.emitsCache,o=l.get(e);if(o!==void 0)return o;const a=e.emits;let r={},u=!1;if(!ve(e)){const v=w=>{const m=oi(w,t,!0);m&&(u=!0,nt(r,m))};!s&&t.mixins.length&&t.mixins.forEach(v),e.extends&&v(e.extends),e.mixins&&e.mixins.forEach(v)}return!a&&!u?(Ue(e)&&l.set(e,null),null):(re(a)?a.forEach(v=>r[v]=null):nt(r,a),Ue(e)&&l.set(e,r),r)}function Cn(e,t){return!e||!_n(t)?!1:(t=t.slice(2).replace(/Once$/,""),Se(e,t[0].toLowerCase()+t.slice(1))||Se(e,Zt(t))||Se(e,t))}function zl(e){const{type:t,vnode:s,proxy:l,withProxy:o,propsOptions:[a],slots:r,attrs:u,emit:v,render:w,renderCache:m,props:S,data:A,setupState:$,ctx:z,inheritAttrs:N}=e,ne=rn(e);let Y,V;try{if(s.shapeFlag&4){const W=o||l,ue=W;Y=Ct(w.call(ue,W,m,S,$,A,z)),V=u}else{const W=t;Y=Ct(W.length>1?W(S,{attrs:u,slots:r,emit:v}):W(S,null)),V=t.props?u:$r(u)}}catch(W){Us.length=0,kn(W,e,1),Y=Lt(Gt)}let M=Y;if(V&&N!==!1){const W=Object.keys(V),{shapeFlag:ue}=M;W.length&&ue&7&&(a&&W.some(al)&&(V=Cr(V,a)),M=_s(M,V,!1,!0))}return s.dirs&&(M=_s(M,null,!1,!0),M.dirs=M.dirs?M.dirs.concat(s.dirs):s.dirs),s.transition&&yl(M,s.transition),Y=M,rn(ne),Y}const $r=e=>{let t;for(const s in e)(s==="class"||s==="style"||_n(s))&&((t||(t={}))[s]=e[s]);return t},Cr=(e,t)=>{const s={};for(const l in e)(!al(l)||!(l.slice(9)in t))&&(s[l]=e[l]);return s};function Sr(e,t,s){const{props:l,children:o,component:a}=e,{props:r,children:u,patchFlag:v}=t,w=a.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&v>=0){if(v&1024)return!0;if(v&16)return l?Wl(l,r,w):!!r;if(v&8){const m=t.dynamicProps;for(let S=0;S<m.length;S++){const A=m[S];if(r[A]!==l[A]&&!Cn(w,A))return!0}}}else return(o||u)&&(!u||!u.$stable)?!0:l===r?!1:l?r?Wl(l,r,w):!0:!!r;return!1}function Wl(e,t,s){const l=Object.keys(t);if(l.length!==Object.keys(e).length)return!0;for(let o=0;o<l.length;o++){const a=l[o];if(t[a]!==e[a]&&!Cn(s,a))return!0}return!1}function Tr({vnode:e,parent:t},s){for(;t;){const l=t.subTree;if(l.suspense&&l.suspense.activeBranch===e&&(l.el=e.el),l===e)(e=t.vnode).el=s,t=t.parent;else break}}const ii={},ai=()=>Object.create(ii),ri=e=>Object.getPrototypeOf(e)===ii;function xr(e,t,s,l=!1){const o={},a=ai();e.propsDefaults=Object.create(null),ui(e,t,o,a);for(const r in e.propsOptions[0])r in o||(o[r]=void 0);s?e.props=l?o:Pa(o):e.type.props?e.props=o:e.props=a,e.attrs=a}function Er(e,t,s,l){const{props:o,attrs:a,vnode:{patchFlag:r}}=e,u=Ce(o),[v]=e.propsOptions;let w=!1;if((l||r>0)&&!(r&16)){if(r&8){const m=e.vnode.dynamicProps;for(let S=0;S<m.length;S++){let A=m[S];if(Cn(e.emitsOptions,A))continue;const $=t[A];if(v)if(Se(a,A))$!==a[A]&&(a[A]=$,w=!0);else{const z=mt(A);o[z]=el(v,u,z,$,e,!1)}else $!==a[A]&&(a[A]=$,w=!0)}}}else{ui(e,t,o,a)&&(w=!0);let m;for(const S in u)(!t||!Se(t,S)&&((m=Zt(S))===S||!Se(t,m)))&&(v?s&&(s[S]!==void 0||s[m]!==void 0)&&(o[S]=el(v,u,S,void 0,e,!0)):delete o[S]);if(a!==u)for(const S in a)(!t||!Se(t,S))&&(delete a[S],w=!0)}w&&Mt(e.attrs,"set","")}function ui(e,t,s,l){const[o,a]=e.propsOptions;let r=!1,u;if(t)for(let v in t){if(Ts(v))continue;const w=t[v];let m;o&&Se(o,m=mt(v))?!a||!a.includes(m)?s[m]=w:(u||(u={}))[m]=w:Cn(e.emitsOptions,v)||(!(v in l)||w!==l[v])&&(l[v]=w,r=!0)}if(a){const v=Ce(s),w=u||Ie;for(let m=0;m<a.length;m++){const S=a[m];s[S]=el(o,v,S,w[S],e,!Se(w,S))}}return r}function el(e,t,s,l,o,a){const r=e[s];if(r!=null){const u=Se(r,"default");if(u&&l===void 0){const v=r.default;if(r.type!==Function&&!r.skipFactory&&ve(v)){const{propsDefaults:w}=o;if(s in w)l=w[s];else{const m=qs(o);l=w[s]=v.call(null,t),m()}}else l=v;o.ce&&o.ce._setProp(s,l)}r[0]&&(a&&!u?l=!1:r[1]&&(l===""||l===Zt(s))&&(l=!0))}return l}const Or=new WeakMap;function di(e,t,s=!1){const l=s?Or:t.propsCache,o=l.get(e);if(o)return o;const a=e.props,r={},u=[];let v=!1;if(!ve(e)){const m=S=>{v=!0;const[A,$]=di(S,t,!0);nt(r,A),$&&u.push(...$)};!s&&t.mixins.length&&t.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}if(!a&&!v)return Ue(e)&&l.set(e,ds),ds;if(re(a))for(let m=0;m<a.length;m++){const S=mt(a[m]);Jl(S)&&(r[S]=Ie)}else if(a)for(const m in a){const S=mt(m);if(Jl(S)){const A=a[m],$=r[S]=re(A)||ve(A)?{type:A}:nt({},A),z=$.type;let N=!1,ne=!0;if(re(z))for(let Y=0;Y<z.length;++Y){const V=z[Y],M=ve(V)&&V.name;if(M==="Boolean"){N=!0;break}else M==="String"&&(ne=!1)}else N=ve(z)&&z.name==="Boolean";$[0]=N,$[1]=ne,(N||Se($,"default"))&&u.push(S)}}const w=[r,u];return Ue(e)&&l.set(e,w),w}function Jl(e){return e[0]!=="$"&&!Ts(e)}const bl=e=>e==="_"||e==="_ctx"||e==="$stable",wl=e=>re(e)?e.map(Ct):[Ct(e)],Ir=(e,t,s)=>{if(t._n)return t;const l=Ba((...o)=>wl(t(...o)),s);return l._c=!1,l},ci=(e,t,s)=>{const l=e._ctx;for(const o in e){if(bl(o))continue;const a=e[o];if(ve(a))t[o]=Ir(o,a,l);else if(a!=null){const r=wl(a);t[o]=()=>r}}},fi=(e,t)=>{const s=wl(t);e.slots.default=()=>s},pi=(e,t,s)=>{for(const l in t)(s||!bl(l))&&(e[l]=t[l])},Ar=(e,t,s)=>{const l=e.slots=ai();if(e.vnode.shapeFlag&32){const o=t._;o?(pi(l,t,s),s&&Co(l,"_",o,!0)):ci(t,l)}else t&&fi(e,t)},Pr=(e,t,s)=>{const{vnode:l,slots:o}=e;let a=!0,r=Ie;if(l.shapeFlag&32){const u=t._;u?s&&u===1?a=!1:pi(o,t,s):(a=!t.$stable,ci(t,o)),r=t}else t&&(fi(e,t),r={default:1});if(a)for(const u in o)!bl(u)&&r[u]==null&&delete o[u]},dt=Rr;function Ur(e){return Fr(e)}function Fr(e,t){const s=yn();s.__VUE__=!0;const{insert:l,remove:o,patchProp:a,createElement:r,createText:u,createComment:v,setText:w,setElementText:m,parentNode:S,nextSibling:A,setScopeId:$=St,insertStaticContent:z}=e,N=(_,b,T,D=null,F=null,P=null,j=void 0,O=null,H=!!b.dynamicChildren)=>{if(_===b)return;_&&!Cs(_,b)&&(D=pt(_),Me(_,F,P,!0),_=null),b.patchFlag===-2&&(H=!1,b.dynamicChildren=null);const{type:R,ref:te,shapeFlag:q}=b;switch(R){case Sn:ne(_,b,T,D);break;case Gt:Y(_,b,T,D);break;case qn:_==null&&V(b,T,D,j);break;case ae:ze(_,b,T,D,F,P,j,O,H);break;default:q&1?ue(_,b,T,D,F,P,j,O,H):q&6?We(_,b,T,D,F,P,j,O,H):(q&64||q&128)&&R.process(_,b,T,D,F,P,j,O,H,Je)}te!=null&&F?Is(te,_&&_.ref,P,b||_,!b):te==null&&_&&_.ref!=null&&Is(_.ref,null,P,_,!0)},ne=(_,b,T,D)=>{if(_==null)l(b.el=u(b.children),T,D);else{const F=b.el=_.el;b.children!==_.children&&w(F,b.children)}},Y=(_,b,T,D)=>{_==null?l(b.el=v(b.children||""),T,D):b.el=_.el},V=(_,b,T,D)=>{[_.el,_.anchor]=z(_.children,b,T,D,_.el,_.anchor)},M=({el:_,anchor:b},T,D)=>{let F;for(;_&&_!==b;)F=A(_),l(_,T,D),_=F;l(b,T,D)},W=({el:_,anchor:b})=>{let T;for(;_&&_!==b;)T=A(_),o(_),_=T;o(b)},ue=(_,b,T,D,F,P,j,O,H)=>{if(b.type==="svg"?j="svg":b.type==="math"&&(j="mathml"),_==null)de(b,T,D,F,P,j,O,H);else{const R=_.el&&_.el._isVueCE?_.el:null;try{R&&R._beginPatch(),oe(_,b,F,P,j,O,H)}finally{R&&R._endPatch()}}},de=(_,b,T,D,F,P,j,O)=>{let H,R;const{props:te,shapeFlag:q,transition:Z,dirs:x}=_;if(H=_.el=r(_.type,P,te&&te.is,te),q&8?m(H,_.children):q&16&&se(_.children,H,null,D,F,Hn(_,P),j,O),x&&Qt(_,null,D,"created"),X(H,_,_.scopeId,j,D),te){for(const L in te)L!=="value"&&!Ts(L)&&a(H,L,null,te[L],P,D);"value"in te&&a(H,"value",null,te.value,P),(R=te.onVnodeBeforeMount)&&kt(R,D,_)}x&&Qt(_,null,D,"beforeMount");const C=Mr(F,Z);C&&Z.beforeEnter(H),l(H,b,T),((R=te&&te.onVnodeMounted)||C||x)&&dt(()=>{R&&kt(R,D,_),C&&Z.enter(H),x&&Qt(_,null,D,"mounted")},F)},X=(_,b,T,D,F)=>{if(T&&$(_,T),D)for(let P=0;P<D.length;P++)$(_,D[P]);if(F){let P=F.subTree;if(b===P||mi(P.type)&&(P.ssContent===b||P.ssFallback===b)){const j=F.vnode;X(_,j,j.scopeId,j.slotScopeIds,F.parent)}}},se=(_,b,T,D,F,P,j,O,H=0)=>{for(let R=H;R<_.length;R++){const te=_[R]=O?zt(_[R]):Ct(_[R]);N(null,te,b,T,D,F,P,j,O)}},oe=(_,b,T,D,F,P,j)=>{const O=b.el=_.el;let{patchFlag:H,dynamicChildren:R,dirs:te}=b;H|=_.patchFlag&16;const q=_.props||Ie,Z=b.props||Ie;let x;if(T&&es(T,!1),(x=Z.onVnodeBeforeUpdate)&&kt(x,T,b,_),te&&Qt(b,_,T,"beforeUpdate"),T&&es(T,!0),(q.innerHTML&&Z.innerHTML==null||q.textContent&&Z.textContent==null)&&m(O,""),R?ce(_.dynamicChildren,R,O,T,D,Hn(b,F),P):j||ge(_,b,O,null,T,D,Hn(b,F),P,!1),H>0){if(H&16)Ve(O,q,Z,T,F);else if(H&2&&q.class!==Z.class&&a(O,"class",null,Z.class,F),H&4&&a(O,"style",q.style,Z.style,F),H&8){const C=b.dynamicProps;for(let L=0;L<C.length;L++){const G=C[L],he=q[G],we=Z[G];(we!==he||G==="value")&&a(O,G,he,we,F,T)}}H&1&&_.children!==b.children&&m(O,b.children)}else!j&&R==null&&Ve(O,q,Z,T,F);((x=Z.onVnodeUpdated)||te)&&dt(()=>{x&&kt(x,T,b,_),te&&Qt(b,_,T,"updated")},D)},ce=(_,b,T,D,F,P,j)=>{for(let O=0;O<b.length;O++){const H=_[O],R=b[O],te=H.el&&(H.type===ae||!Cs(H,R)||H.shapeFlag&198)?S(H.el):T;N(H,R,te,null,D,F,P,j,!0)}},Ve=(_,b,T,D,F)=>{if(b!==T){if(b!==Ie)for(const P in b)!Ts(P)&&!(P in T)&&a(_,P,b[P],null,F,D);for(const P in T){if(Ts(P))continue;const j=T[P],O=b[P];j!==O&&P!=="value"&&a(_,P,O,j,F,D)}"value"in T&&a(_,"value",b.value,T.value,F)}},ze=(_,b,T,D,F,P,j,O,H)=>{const R=b.el=_?_.el:u(""),te=b.anchor=_?_.anchor:u("");let{patchFlag:q,dynamicChildren:Z,slotScopeIds:x}=b;x&&(O=O?O.concat(x):x),_==null?(l(R,T,D),l(te,T,D),se(b.children||[],T,te,F,P,j,O,H)):q>0&&q&64&&Z&&_.dynamicChildren?(ce(_.dynamicChildren,Z,T,F,P,j,O),(b.key!=null||F&&b===F.subTree)&&vi(_,b,!0)):ge(_,b,T,te,F,P,j,O,H)},We=(_,b,T,D,F,P,j,O,H)=>{b.slotScopeIds=O,_==null?b.shapeFlag&512?F.ctx.activate(b,T,D,j,H):_e(b,T,D,F,P,j,H):Xe(_,b,H)},_e=(_,b,T,D,F,P,j)=>{const O=_.component=Br(_,D,F);if(Xo(_)&&(O.ctx.renderer=Je),zr(O,!1,j),O.asyncDep){if(F&&F.registerDep(O,ee,j),!_.el){const H=O.subTree=Lt(Gt);Y(null,H,b,T),_.placeholder=H.el}}else ee(O,_,b,T,F,P,j)},Xe=(_,b,T)=>{const D=b.component=_.component;if(Sr(_,b,T))if(D.asyncDep&&!D.asyncResolved){fe(D,b,T);return}else D.next=b,D.update();else b.el=_.el,D.vnode=b},ee=(_,b,T,D,F,P,j)=>{const O=()=>{if(_.isMounted){let{next:q,bu:Z,u:x,parent:C,vnode:L}=_;{const Ae=_i(_);if(Ae){q&&(q.el=L.el,fe(_,q,j)),Ae.asyncDep.then(()=>{_.isUnmounted||O()});return}}let G=q,he;es(_,!1),q?(q.el=L.el,fe(_,q,j)):q=L,Z&&en(Z),(he=q.props&&q.props.onVnodeBeforeUpdate)&&kt(he,C,q,L),es(_,!0);const we=zl(_),xe=_.subTree;_.subTree=we,N(xe,we,S(xe.el),pt(xe),_,F,P),q.el=we.el,G===null&&Tr(_,we.el),x&&dt(x,F),(he=q.props&&q.props.onVnodeUpdated)&&dt(()=>kt(he,C,q,L),F)}else{let q;const{el:Z,props:x}=b,{bm:C,m:L,parent:G,root:he,type:we}=_,xe=As(b);es(_,!1),C&&en(C),!xe&&(q=x&&x.onVnodeBeforeMount)&&kt(q,G,b),es(_,!0);{he.ce&&he.ce._def.shadowRoot!==!1&&he.ce._injectChildStyle(we);const Ae=_.subTree=zl(_);N(null,Ae,T,D,_,F,P),b.el=Ae.el}if(L&&dt(L,F),!xe&&(q=x&&x.onVnodeMounted)){const Ae=b;dt(()=>kt(q,G,Ae),F)}(b.shapeFlag&256||G&&As(G.vnode)&&G.vnode.shapeFlag&256)&&_.a&&dt(_.a,F),_.isMounted=!0,b=T=D=null}};_.scope.on();const H=_.effect=new Eo(O);_.scope.off();const R=_.update=H.run.bind(H),te=_.job=H.runIfDirty.bind(H);te.i=_,te.id=_.uid,H.scheduler=()=>hl(te),es(_,!0),R()},fe=(_,b,T)=>{b.component=_;const D=_.vnode.props;_.vnode=b,_.next=null,Er(_,b.props,D,T),Pr(_,b.children,T),jt(),jl(_),Vt()},ge=(_,b,T,D,F,P,j,O,H=!1)=>{const R=_&&_.children,te=_?_.shapeFlag:0,q=b.children,{patchFlag:Z,shapeFlag:x}=b;if(Z>0){if(Z&128){Fe(R,q,T,D,F,P,j,O,H);return}else if(Z&256){ke(R,q,T,D,F,P,j,O,H);return}}x&8?(te&16&&gt(R,F,P),q!==R&&m(T,q)):te&16?x&16?Fe(R,q,T,D,F,P,j,O,H):gt(R,F,P,!0):(te&8&&m(T,""),x&16&&se(q,T,D,F,P,j,O,H))},ke=(_,b,T,D,F,P,j,O,H)=>{_=_||ds,b=b||ds;const R=_.length,te=b.length,q=Math.min(R,te);let Z;for(Z=0;Z<q;Z++){const x=b[Z]=H?zt(b[Z]):Ct(b[Z]);N(_[Z],x,T,null,F,P,j,O,H)}R>te?gt(_,F,P,!0,!1,q):se(b,T,D,F,P,j,O,H,q)},Fe=(_,b,T,D,F,P,j,O,H)=>{let R=0;const te=b.length;let q=_.length-1,Z=te-1;for(;R<=q&&R<=Z;){const x=_[R],C=b[R]=H?zt(b[R]):Ct(b[R]);if(Cs(x,C))N(x,C,T,null,F,P,j,O,H);else break;R++}for(;R<=q&&R<=Z;){const x=_[q],C=b[Z]=H?zt(b[Z]):Ct(b[Z]);if(Cs(x,C))N(x,C,T,null,F,P,j,O,H);else break;q--,Z--}if(R>q){if(R<=Z){const x=Z+1,C=x<te?b[x].el:D;for(;R<=Z;)N(null,b[R]=H?zt(b[R]):Ct(b[R]),T,C,F,P,j,O,H),R++}}else if(R>Z)for(;R<=q;)Me(_[R],F,P,!0),R++;else{const x=R,C=R,L=new Map;for(R=C;R<=Z;R++){const Re=b[R]=H?zt(b[R]):Ct(b[R]);Re.key!=null&&L.set(Re.key,R)}let G,he=0;const we=Z-C+1;let xe=!1,Ae=0;const at=new Array(we);for(R=0;R<we;R++)at[R]=0;for(R=x;R<=q;R++){const Re=_[R];if(he>=we){Me(Re,F,P,!0);continue}let qe;if(Re.key!=null)qe=L.get(Re.key);else for(G=C;G<=Z;G++)if(at[G-C]===0&&Cs(Re,b[G])){qe=G;break}qe===void 0?Me(Re,F,P,!0):(at[qe-C]=R+1,qe>=Ae?Ae=qe:xe=!0,N(Re,b[qe],T,null,F,P,j,O,H),he++)}const rt=xe?Dr(at):ds;for(G=rt.length-1,R=we-1;R>=0;R--){const Re=C+R,qe=b[Re],Ke=b[Re+1],Ot=Re+1<te?Ke.el||Ke.placeholder:D;at[R]===0?N(null,qe,T,Ot,F,P,j,O,H):xe&&(G<0||R!==rt[G]?me(qe,T,Ot,2):G--)}}},me=(_,b,T,D,F=null)=>{const{el:P,type:j,transition:O,children:H,shapeFlag:R}=_;if(R&6){me(_.component.subTree,b,T,D);return}if(R&128){_.suspense.move(b,T,D);return}if(R&64){j.move(_,b,T,Je);return}if(j===ae){l(P,b,T);for(let q=0;q<H.length;q++)me(H[q],b,T,D);l(_.anchor,b,T);return}if(j===qn){M(_,b,T);return}if(D!==2&&R&1&&O)if(D===0)O.beforeEnter(P),l(P,b,T),dt(()=>O.enter(P),F);else{const{leave:q,delayLeave:Z,afterLeave:x}=O,C=()=>{_.ctx.isUnmounted?o(P):l(P,b,T)},L=()=>{P._isLeaving&&P[Wa](!0),q(P,()=>{C(),x&&x()})};Z?Z(P,C,L):L()}else l(P,b,T)},Me=(_,b,T,D=!1,F=!1)=>{const{type:P,props:j,ref:O,children:H,dynamicChildren:R,shapeFlag:te,patchFlag:q,dirs:Z,cacheIndex:x}=_;if(q===-2&&(F=!1),O!=null&&(jt(),Is(O,null,T,_,!0),Vt()),x!=null&&(b.renderCache[x]=void 0),te&256){b.ctx.deactivate(_);return}const C=te&1&&Z,L=!As(_);let G;if(L&&(G=j&&j.onVnodeBeforeUnmount)&&kt(G,b,_),te&6)be(_.component,T,D);else{if(te&128){_.suspense.unmount(T,D);return}C&&Qt(_,null,b,"beforeUnmount"),te&64?_.type.remove(_,b,T,Je,D):R&&!R.hasOnce&&(P!==ae||q>0&&q&64)?gt(R,b,T,!1,!0):(P===ae&&q&384||!F&&te&16)&&gt(H,b,T),D&&je(_)}(L&&(G=j&&j.onVnodeUnmounted)||C)&&dt(()=>{G&&kt(G,b,_),C&&Qt(_,null,b,"unmounted")},T)},je=_=>{const{type:b,el:T,anchor:D,transition:F}=_;if(b===ae){Be(T,D);return}if(b===qn){W(_);return}const P=()=>{o(T),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(_.shapeFlag&1&&F&&!F.persisted){const{leave:j,delayLeave:O}=F,H=()=>j(T,P);O?O(_.el,P,H):H()}else P()},Be=(_,b)=>{let T;for(;_!==b;)T=A(_),o(_),_=T;o(b)},be=(_,b,T)=>{const{bum:D,scope:F,job:P,subTree:j,um:O,m:H,a:R}=_;Gl(H),Gl(R),D&&en(D),F.stop(),P&&(P.flags|=8,Me(j,_,b,T)),O&&dt(O,b),dt(()=>{_.isUnmounted=!0},b)},gt=(_,b,T,D=!1,F=!1,P=0)=>{for(let j=P;j<_.length;j++)Me(_[j],b,T,D,F)},pt=_=>{if(_.shapeFlag&6)return pt(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const b=A(_.anchor||_.el),T=b&&b[Ka];return T?A(T):b};let Et=!1;const lt=(_,b,T)=>{_==null?b._vnode&&Me(b._vnode,null,null,!0):N(b._vnode||null,_,b,null,null,null,T),b._vnode=_,Et||(Et=!0,jl(),zo(),Et=!1)},Je={p:N,um:Me,m:me,r:je,mt:_e,mc:se,pc:ge,pbc:ce,n:pt,o:e};return{render:lt,hydrate:void 0,createApp:_r(lt)}}function Hn({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function es({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Mr(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function vi(e,t,s=!1){const l=e.children,o=t.children;if(re(l)&&re(o))for(let a=0;a<l.length;a++){const r=l[a];let u=o[a];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=o[a]=zt(o[a]),u.el=r.el),!s&&u.patchFlag!==-2&&vi(r,u)),u.type===Sn&&u.patchFlag!==-1&&(u.el=r.el),u.type===Gt&&!u.el&&(u.el=r.el)}}function Dr(e){const t=e.slice(),s=[0];let l,o,a,r,u;const v=e.length;for(l=0;l<v;l++){const w=e[l];if(w!==0){if(o=s[s.length-1],e[o]<w){t[l]=o,s.push(l);continue}for(a=0,r=s.length-1;a<r;)u=a+r>>1,e[s[u]]<w?a=u+1:r=u;w<e[s[a]]&&(a>0&&(t[l]=s[a-1]),s[a]=l)}}for(a=s.length,r=s[a-1];a-- >0;)s[a]=r,r=t[r];return s}function _i(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:_i(t)}function Gl(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const mi=e=>e.__isSuspense;function Rr(e,t){t&&t.pendingBranch?re(e)?t.effects.push(...e):t.effects.push(e):qa(e)}const ae=Symbol.for("v-fgt"),Sn=Symbol.for("v-txt"),Gt=Symbol.for("v-cmt"),qn=Symbol.for("v-stc"),Us=[];let ft=null;function d(e=!1){Us.push(ft=e?null:[])}function Lr(){Us.pop(),ft=Us[Us.length-1]||null}let Rs=1;function Xl(e,t=!1){Rs+=e,e<0&&ft&&t&&(ft.hasOnce=!0)}function gi(e){return e.dynamicChildren=Rs>0?ft||ds:null,Lr(),Rs>0&&ft&&ft.push(e),e}function f(e,t,s,l,o,a){return gi(n(e,t,s,l,o,a,!0))}function tl(e,t,s,l,o){return gi(Lt(e,t,s,l,o,!0))}function hi(e){return e?e.__v_isVNode===!0:!1}function Cs(e,t){return e.type===t.type&&e.key===t.key}const yi=({key:e})=>e??null,nn=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ne(e)||et(e)||ve(e)?{i:ct,r:e,k:t,f:!!s}:e:null);function n(e,t=null,s=null,l=0,o=null,a=e===ae?0:1,r=!1,u=!1){const v={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&yi(t),ref:t&&nn(t),scopeId:Jo,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:l,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:ct};return u?(kl(v,s),a&128&&e.normalize(v)):s&&(v.shapeFlag|=Ne(s)?8:16),Rs>0&&!r&&ft&&(v.patchFlag>0||a&6)&&v.patchFlag!==32&&ft.push(v),v}const Lt=jr;function jr(e,t=null,s=null,l=0,o=null,a=!1){if((!e||e===Qo)&&(e=Gt),hi(e)){const u=_s(e,t,!0);return s&&kl(u,s),Rs>0&&!a&&ft&&(u.shapeFlag&6?ft[ft.indexOf(e)]=u:ft.push(u)),u.patchFlag=-2,u}if(Zr(e)&&(e=e.__vccOpts),t){t=Vr(t);let{class:u,style:v}=t;u&&!Ne(u)&&(t.class=Le(u)),Ue(v)&&(gl(v)&&!re(v)&&(v=nt({},v)),t.style=bn(v))}const r=Ne(e)?1:mi(e)?128:za(e)?64:Ue(e)?4:ve(e)?2:0;return n(e,t,s,l,o,r,a,!0)}function Vr(e){return e?gl(e)||ri(e)?nt({},e):e:null}function _s(e,t,s=!1,l=!1){const{props:o,ref:a,patchFlag:r,children:u,transition:v}=e,w=t?Nr(o||{},t):o,m={__v_isVNode:!0,__v_skip:!0,type:e.type,props:w,key:w&&yi(w),ref:t&&t.ref?s&&a?re(a)?a.concat(nn(t)):[a,nn(t)]:nn(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ae?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:v,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&_s(e.ssContent),ssFallback:e.ssFallback&&_s(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return v&&l&&yl(m,v.clone(m)),m}function Q(e=" ",t=0){return Lt(Sn,null,e,t)}function I(e="",t=!1){return t?(d(),tl(Gt,null,e)):Lt(Gt,null,e)}function Ct(e){return e==null||typeof e=="boolean"?Lt(Gt):re(e)?Lt(ae,null,e.slice()):hi(e)?zt(e):Lt(Sn,null,String(e))}function zt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:_s(e)}function kl(e,t){let s=0;const{shapeFlag:l}=e;if(t==null)t=null;else if(re(t))s=16;else if(typeof t=="object")if(l&65){const o=t.default;o&&(o._c&&(o._d=!1),kl(e,o()),o._c&&(o._d=!0));return}else{s=32;const o=t._;!o&&!ri(t)?t._ctx=ct:o===3&&ct&&(ct.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ve(t)?(t={default:t,_ctx:ct},s=32):(t=String(t),l&64?(s=16,t=[Q(t)]):s=8);e.children=t,e.shapeFlag|=s}function Nr(...e){const t={};for(let s=0;s<e.length;s++){const l=e[s];for(const o in l)if(o==="class")t.class!==l.class&&(t.class=Le([t.class,l.class]));else if(o==="style")t.style=bn([t.style,l.style]);else if(_n(o)){const a=t[o],r=l[o];r&&a!==r&&!(re(a)&&a.includes(r))&&(t[o]=a?[].concat(a,r):r)}else o!==""&&(t[o]=l[o])}return t}function kt(e,t,s,l=null){xt(e,t,7,[s,l])}const Hr=si();let qr=0;function Br(e,t,s){const l=e.type,o=(t?t.appContext:e.appContext)||Hr,a={uid:qr++,vnode:e,type:l,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new fa(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:di(l,o),emitsOptions:oi(l,o),emit:null,emitted:null,propsDefaults:Ie,inheritAttrs:l.inheritAttrs,ctx:Ie,data:Ie,props:Ie,attrs:Ie,slots:Ie,refs:Ie,setupState:Ie,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=wr.bind(null,a),e.ce&&e.ce(a),a}let Qe=null;const Kr=()=>Qe||ct;let cn,sl;{const e=yn(),t=(s,l)=>{let o;return(o=e[s])||(o=e[s]=[]),o.push(l),a=>{o.length>1?o.forEach(r=>r(a)):o[0](a)}};cn=t("__VUE_INSTANCE_SETTERS__",s=>Qe=s),sl=t("__VUE_SSR_SETTERS__",s=>Ls=s)}const qs=e=>{const t=Qe;return cn(e),e.scope.on(),()=>{e.scope.off(),cn(t)}},Zl=()=>{Qe&&Qe.scope.off(),cn(null)};function bi(e){return e.vnode.shapeFlag&4}let Ls=!1;function zr(e,t=!1,s=!1){t&&sl(t);const{props:l,children:o}=e.vnode,a=bi(e);xr(e,l,a,t),Ar(e,o,s||t);const r=a?Wr(e,t):void 0;return t&&sl(!1),r}function Wr(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,rr);const{setup:l}=s;if(l){jt();const o=e.setupContext=l.length>1?Gr(e):null,a=qs(e),r=Ns(l,e,0,[e.props,o]),u=wo(r);if(Vt(),a(),(u||e.sp)&&!As(e)&&Go(e),u){if(r.then(Zl,Zl),t)return r.then(v=>{Yl(e,v)}).catch(v=>{kn(v,e,0)});e.asyncDep=r}else Yl(e,r)}else wi(e)}function Yl(e,t,s){ve(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ue(t)&&(e.setupState=qo(t)),wi(e)}function wi(e,t,s){const l=e.type;e.render||(e.render=l.render||St);{const o=qs(e);jt();try{ur(e)}finally{Vt(),o()}}}const Jr={get(e,t){return Ze(e,"get",""),e[t]}};function Gr(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Jr),slots:e.slots,emit:e.emit,expose:t}}function Tn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(qo(Ua(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Ps)return Ps[s](e)},has(t,s){return s in t||s in Ps}})):e.proxy}function Xr(e,t=!0){return ve(e)?e.displayName||e.name:e.name||t&&e.__name}function Zr(e){return ve(e)&&"__vccOpts"in e}const ss=(e,t)=>La(e,t,Ls),Yr="3.5.25";/**
* @vue/runtime-dom v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let nl;const Ql=typeof window<"u"&&window.trustedTypes;if(Ql)try{nl=Ql.createPolicy("vue",{createHTML:e=>e})}catch{}const ki=nl?e=>nl.createHTML(e):e=>e,Qr="http://www.w3.org/2000/svg",eu="http://www.w3.org/1998/Math/MathML",Ft=typeof document<"u"?document:null,eo=Ft&&Ft.createElement("template"),tu={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,l)=>{const o=t==="svg"?Ft.createElementNS(Qr,e):t==="mathml"?Ft.createElementNS(eu,e):s?Ft.createElement(e,{is:s}):Ft.createElement(e);return e==="select"&&l&&l.multiple!=null&&o.setAttribute("multiple",l.multiple),o},createText:e=>Ft.createTextNode(e),createComment:e=>Ft.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ft.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,l,o,a){const r=s?s.previousSibling:t.lastChild;if(o&&(o===a||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),s),!(o===a||!(o=o.nextSibling)););else{eo.innerHTML=ki(l==="svg"?`<svg>${e}</svg>`:l==="mathml"?`<math>${e}</math>`:e);const u=eo.content;if(l==="svg"||l==="mathml"){const v=u.firstChild;for(;v.firstChild;)u.appendChild(v.firstChild);u.removeChild(v)}t.insertBefore(u,s)}return[r?r.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},su=Symbol("_vtc");function nu(e,t,s){const l=e[su];l&&(t=(t?[t,...l]:[...l]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const to=Symbol("_vod"),lu=Symbol("_vsh"),ou=Symbol(""),iu=/(?:^|;)\s*display\s*:/;function au(e,t,s){const l=e.style,o=Ne(s);let a=!1;if(s&&!o){if(t)if(Ne(t))for(const r of t.split(";")){const u=r.slice(0,r.indexOf(":")).trim();s[u]==null&&ln(l,u,"")}else for(const r in t)s[r]==null&&ln(l,r,"");for(const r in s)r==="display"&&(a=!0),ln(l,r,s[r])}else if(o){if(t!==s){const r=l[ou];r&&(s+=";"+r),l.cssText=s,a=iu.test(s)}}else t&&e.removeAttribute("style");to in e&&(e[to]=a?l.display:"",e[lu]&&(l.display="none"))}const so=/\s*!important$/;function ln(e,t,s){if(re(s))s.forEach(l=>ln(e,t,l));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const l=ru(e,t);so.test(s)?e.setProperty(Zt(l),s.replace(so,""),"important"):e[l]=s}}const no=["Webkit","Moz","ms"],Bn={};function ru(e,t){const s=Bn[t];if(s)return s;let l=mt(t);if(l!=="filter"&&l in e)return Bn[t]=l;l=gn(l);for(let o=0;o<no.length;o++){const a=no[o]+l;if(a in e)return Bn[t]=a}return t}const lo="http://www.w3.org/1999/xlink";function oo(e,t,s,l,o,a=da(t)){l&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(lo,t.slice(6,t.length)):e.setAttributeNS(lo,t,s):s==null||a&&!So(s)?e.removeAttribute(t):e.setAttribute(t,a?"":Tt(s)?String(s):s)}function io(e,t,s,l,o){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?ki(s):s);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?e.getAttribute("value")||"":e.value,v=s==null?e.type==="checkbox"?"on":"":String(s);(u!==v||!("_value"in e))&&(e.value=v),s==null&&e.removeAttribute(t),e._value=s;return}let r=!1;if(s===""||s==null){const u=typeof e[t];u==="boolean"?s=So(s):s==null&&u==="string"?(s="",r=!0):u==="number"&&(s=0,r=!0)}try{e[t]=s}catch{}r&&e.removeAttribute(o||t)}function Rt(e,t,s,l){e.addEventListener(t,s,l)}function uu(e,t,s,l){e.removeEventListener(t,s,l)}const ao=Symbol("_vei");function du(e,t,s,l,o=null){const a=e[ao]||(e[ao]={}),r=a[t];if(l&&r)r.value=l;else{const[u,v]=cu(t);if(l){const w=a[t]=vu(l,o);Rt(e,u,w,v)}else r&&(uu(e,u,r,v),a[t]=void 0)}}const ro=/(?:Once|Passive|Capture)$/;function cu(e){let t;if(ro.test(e)){t={};let l;for(;l=e.match(ro);)e=e.slice(0,e.length-l[0].length),t[l[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Zt(e.slice(2)),t]}let Kn=0;const fu=Promise.resolve(),pu=()=>Kn||(fu.then(()=>Kn=0),Kn=Date.now());function vu(e,t){const s=l=>{if(!l._vts)l._vts=Date.now();else if(l._vts<=s.attached)return;xt(_u(l,s.value),t,5,[l])};return s.value=e,s.attached=pu(),s}function _u(e,t){if(re(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(l=>o=>!o._stopped&&l&&l(o))}else return t}const uo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,mu=(e,t,s,l,o,a)=>{const r=o==="svg";t==="class"?nu(e,l,r):t==="style"?au(e,s,l):_n(t)?al(t)||du(e,t,s,l,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):gu(e,t,l,r))?(io(e,t,l),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&oo(e,t,l,r,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ne(l))?io(e,mt(t),l,a,t):(t==="true-value"?e._trueValue=l:t==="false-value"&&(e._falseValue=l),oo(e,t,l,r))};function gu(e,t,s,l){if(l)return!!(t==="innerHTML"||t==="textContent"||t in e&&uo(t)&&ve(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return uo(t)&&Ne(s)?!1:t in e}const Xt=e=>{const t=e.props["onUpdate:modelValue"]||!1;return re(t)?s=>en(t,s):t};function hu(e){e.target.composing=!0}function co(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const _t=Symbol("_assign");function fo(e,t,s){return t&&(e=e.trim()),s&&(e=hn(e)),e}const ye={created(e,{modifiers:{lazy:t,trim:s,number:l}},o){e[_t]=Xt(o);const a=l||o.props&&o.props.type==="number";Rt(e,t?"change":"input",r=>{r.target.composing||e[_t](fo(e.value,s,a))}),(s||a)&&Rt(e,"change",()=>{e.value=fo(e.value,s,a)}),t||(Rt(e,"compositionstart",hu),Rt(e,"compositionend",co),Rt(e,"change",co))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:l,trim:o,number:a}},r){if(e[_t]=Xt(r),e.composing)return;const u=(a||e.type==="number")&&!/^0\d/.test(e.value)?hn(e.value):e.value,v=t??"";u!==v&&(document.activeElement===e&&e.type!=="range"&&(l&&t===s||o&&e.value.trim()===v)||(e.value=v))}},fn={deep:!0,created(e,t,s){e[_t]=Xt(s),Rt(e,"change",()=>{const l=e._modelValue,o=ms(e),a=e.checked,r=e[_t];if(re(l)){const u=dl(l,o),v=u!==-1;if(a&&!v)r(l.concat(o));else if(!a&&v){const w=[...l];w.splice(u,1),r(w)}}else if(gs(l)){const u=new Set(l);a?u.add(o):u.delete(o),r(u)}else r($i(e,a))})},mounted:po,beforeUpdate(e,t,s){e[_t]=Xt(s),po(e,t,s)}};function po(e,{value:t,oldValue:s},l){e._modelValue=t;let o;if(re(t))o=dl(t,l.props.value)>-1;else if(gs(t))o=t.has(l.props.value);else{if(t===s)return;o=os(t,$i(e,!0))}e.checked!==o&&(e.checked=o)}const ll={created(e,{value:t},s){e.checked=os(t,s.props.value),e[_t]=Xt(s),Rt(e,"change",()=>{e[_t](ms(e))})},beforeUpdate(e,{value:t,oldValue:s},l){e[_t]=Xt(l),t!==s&&(e.checked=os(t,l.props.value))}},ht={deep:!0,created(e,{value:t,modifiers:{number:s}},l){const o=gs(t);Rt(e,"change",()=>{const a=Array.prototype.filter.call(e.options,r=>r.selected).map(r=>s?hn(ms(r)):ms(r));e[_t](e.multiple?o?new Set(a):a:a[0]),e._assigning=!0,Os(()=>{e._assigning=!1})}),e[_t]=Xt(l)},mounted(e,{value:t}){vo(e,t)},beforeUpdate(e,t,s){e[_t]=Xt(s)},updated(e,{value:t}){e._assigning||vo(e,t)}};function vo(e,t){const s=e.multiple,l=re(t);if(!(s&&!l&&!gs(t))){for(let o=0,a=e.options.length;o<a;o++){const r=e.options[o],u=ms(r);if(s)if(l){const v=typeof u;v==="string"||v==="number"?r.selected=t.some(w=>String(w)===String(u)):r.selected=dl(t,u)>-1}else r.selected=t.has(u);else if(os(ms(r),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ms(e){return"_value"in e?e._value:e.value}function $i(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const yu={created(e,t,s){Ys(e,t,s,null,"created")},mounted(e,t,s){Ys(e,t,s,null,"mounted")},beforeUpdate(e,t,s,l){Ys(e,t,s,l,"beforeUpdate")},updated(e,t,s,l){Ys(e,t,s,l,"updated")}};function bu(e,t){switch(e){case"SELECT":return ht;case"TEXTAREA":return ye;default:switch(t){case"checkbox":return fn;case"radio":return ll;default:return ye}}}function Ys(e,t,s,l,o){const r=bu(e.tagName,s.props&&s.props.type)[o];r&&r(e,t,s,l)}const wu=["ctrl","shift","alt","meta"],ku={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>wu.some(s=>e[`${s}Key`]&&!t.includes(s))},Ge=(e,t)=>{const s=e._withMods||(e._withMods={}),l=t.join(".");return s[l]||(s[l]=(o,...a)=>{for(let r=0;r<t.length;r++){const u=ku[t[r]];if(u&&u(o,t))return}return e(o,...a)})},$u={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Cu=(e,t)=>{const s=e._withKeys||(e._withKeys={}),l=t.join(".");return s[l]||(s[l]=o=>{if(!("key"in o))return;const a=Zt(o.key);if(t.some(r=>r===a||$u[r]===a))return e(o)})},Su=nt({patchProp:mu},tu);let _o;function Tu(){return _o||(_o=Ur(Su))}const xu=(...e)=>{const t=Tu().createApp(...e),{mount:s}=t;return t.mount=l=>{const o=Ou(l);if(!o)return;const a=t._component;!ve(a)&&!a.render&&!a.template&&(a.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const r=s(o,!1,Eu(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),r},t};function Eu(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Ou(e){return Ne(e)?document.querySelector(e):e}const Ci={authBaseUrl:"https://privaterag.jpegonapechain.com",get ragBaseUrl(){const e=localStorage.getItem("chatConfig");if(e)try{return JSON.parse(e).baseUrl||"https://privaterag.jpegonapechain.com"}catch(t){console.warn("Failed to parse chatConfig",t)}return"https://privaterag.jpegonapechain.com"}},js=()=>{const e=localStorage.getItem("authToken");return e?{Authorization:`Bearer ${e}`}:{}},Si=e=>`${Ci.authBaseUrl}/api${e}`,Oe=e=>`${Ci.ragBaseUrl}${e}`,it=async(e,t={})=>{const{method:s="GET",headers:l={},body:o,requireAuth:a=!0,...r}=t,u={"Content-Type":"application/json",...l};a&&Object.assign(u,js());const v={method:s,headers:u,...r};o&&(o instanceof FormData?(delete v.headers["Content-Type"],v.body=o):typeof o=="object"?v.body=JSON.stringify(o):v.body=o);try{const w=await fetch(e,v),m=w.headers.get("content-type");if(m&&m.includes("application/json")){const S=await w.json();if(!w.ok){const A=new Error(S.message||S.detail||`HTTP ${w.status}`);throw A.status=w.status,A.data=S,A}return S}else{if(!w.ok){const S=new Error(`HTTP ${w.status}: ${w.statusText}`);throw S.status=w.status,S}return w}}catch(w){throw w.name==="TypeError"&&w.message.includes("fetch")?new Error(" API "):w}},Ti=async(e,t)=>{const s=Si("/auth/login");return it(s,{method:"POST",body:{username:e,password:t},requireAuth:!1})},xi=async(e=1,t=20)=>{const s=Oe(`/knowledge-bases?page=${e}&limit=${t}`);return it(s,{method:"GET"})},Iu=async e=>{const t=Oe(`/knowledge-bases/${encodeURIComponent(e)}`);return it(t,{method:"GET"})},Ei=async(e,t,s=null,l=null)=>{const o=Oe("/templates"),a={template_name:e,fields:t};return s&&(a.description=s),l&&(a.report_prompt=l),it(o,{method:"POST",body:a})},$l=async(e=1,t=20)=>{const s=Oe(`/templates?page=${e}&limit=${t}`);return it(s,{method:"GET"})},Cl=async e=>{const t=Oe(`/templates/${encodeURIComponent(e)}`);return it(t,{method:"GET"})},Oi=async(e,t)=>{const s=Oe(`/templates/${encodeURIComponent(e)}`),l={};return t.template_name&&(l.template_name=t.template_name),t.description!==void 0&&(l.description=t.description),t.report_prompt!==void 0&&(l.report_prompt=t.report_prompt),t.fields&&(l.fields=t.fields),it(s,{method:"PATCH",body:l})},Ii=async e=>{const t=Oe(`/templates/${encodeURIComponent(e)}`);return it(t,{method:"DELETE"})},Au=e=>new Promise((t,s)=>{const l=new FileReader;l.readAsDataURL(e),l.onload=()=>{const o=l.result.split(",")[1];t(o)},l.onerror=o=>s(o)}),Sl=async(e,t)=>{const s=Oe("/templates/preview-ocr"),l=await Au(t);return it(s,{method:"POST",body:{template_id:e,image_base64:l}})},Tl=async(e,t,s,l)=>{const o=Oe("/template-submissions"),a=new FormData;return a.append("template_id",e),a.append("knowledge_base_id",t),a.append("image_file",s),a.append("filled_data_json",JSON.stringify(l)),it(o,{method:"POST",body:a,headers:{}})},Ai=async(e={})=>{const t=new URLSearchParams;e.template_id&&t.append("template_id",e.template_id),e.knowledge_base_id&&t.append("knowledge_base_id",e.knowledge_base_id),e.status&&t.append("status",e.status),e.page&&t.append("page",e.page.toString()),e.limit&&t.append("limit",e.limit.toString());const s=Oe(`/template-submissions?${t.toString()}`);return it(s,{method:"GET"})},ol=async e=>{const t=Oe(`/template-submissions/${encodeURIComponent(e)}`);return it(t,{method:"GET"})},Pi=async(e,t)=>{const s=Oe(`/template-submissions/${encodeURIComponent(e)}`);return it(s,{method:"PATCH",body:{filled_data:t}})},Ui=async(e,t,s=null)=>{const l=Oe(`/template-submissions/${encodeURIComponent(e)}/approve`),o={approve:t};return!t&&s&&(o.reason=s),it(l,{method:"POST",body:o})},Fi=async(e,t)=>await vn(t),pn=async e=>{const t=Oe(`/template-submissions/${encodeURIComponent(e)}/file`),s=js();if(!s.Authorization)throw new Error("");const l=await fetch(t,{method:"GET",headers:{...s,Accept:"application/json"}});if(!l.ok){const o=await l.json().catch(()=>({detail:`HTTP ${l.status}`}));throw new Error(o.detail||o.message||` (HTTP ${l.status})`)}return await l.json()},vn=async e=>{const t=await pn(e);if(!t||!t.file_base64||!t.mime_type)throw new Error("");const s=t.file_base64,l=t.mime_type,o=atob(s),a=new Array(o.length);for(let u=0;u<o.length;u++)a[u]=o.charCodeAt(u);const r=new Uint8Array(a);return new Blob([r],{type:l})},Mi=async({prompt:e,steps:t,width:s,height:l})=>{const a=await fetch("https://sources-industry-dem-barrier.trycloudflare.com/v1/images/generations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer chien-local"},body:JSON.stringify({prompt:e,steps:t,width:s,height:l})});if(!a.ok){const r=await a.json().catch(()=>({}));throw new Error(r.message||`: ${a.status}`)}return a.json()},mo=Object.freeze(Object.defineProperty({__proto__:null,approveTemplateSubmission:Ui,createTemplate:Ei,deleteTemplate:Ii,downloadSubmissionImage:vn,downloadSubmissionImageByKnowledgeBase:Fi,generateImageApi:Mi,getAuthHeaders:js,getAuthUrl:Si,getKnowledgeBase:Iu,getKnowledgeBases:xi,getSubmissionImage:pn,getTemplate:Cl,getTemplateSubmission:ol,getTemplateSubmissions:Ai,getTemplates:$l,getV2Url:Oe,login:Ti,previewTemplateOcr:Sl,submitTemplateData:Tl,updateTemplate:Oi,updateTemplateSubmission:Pi},Symbol.toStringTag,{value:"Module"})),Bs=(e,t)=>{const s=e.__vccOpts||e;for(const[l,o]of t)s[l]=o;return s},Pu={class:"login-container"},Uu={class:"login-card"},Fu={class:"form-group"},Mu=["disabled"],Du={class:"form-group"},Ru=["disabled"],Lu={key:0,class:"error-message"},ju=["disabled"],Vu={key:0},Nu={key:1,class:"loading"},Hu={__name:"Login",emits:["login-success"],setup(e,{emit:t}){const s=t,l=Ye({username:"",password:""}),o=U(!1),a=U(""),r=ss(()=>l.username.trim()&&l.password.trim()),u=async()=>{if(!(!r.value||o.value)){o.value=!0,a.value="";try{const v=await Ti(l.username.trim(),l.password);if(v.statusCode===200&&v.data&&v.data.access_token){const{access_token:w,refresh_token:m,expires_in:S,token_type:A,user:$}=v.data,z={access_token:w,refresh_token:m,expires_in:S,token_type:A||"Bearer",expires_at:Date.now()+S*1e3,user:{id:$.id,username:$.username,role:$.role}};localStorage.setItem("authToken",w),localStorage.setItem("authData",JSON.stringify(z));const N=localStorage.getItem("chatConfig");let ne={baseUrl:"https://privaterag.jpegonapechain.com",authToken:w};if(N)try{const Y=JSON.parse(N);ne.baseUrl=Y.baseUrl||"https://privaterag.jpegonapechain.com",ne.authToken=w}catch(Y){console.warn("Failed to parse chatConfig",Y)}localStorage.setItem("chatConfig",JSON.stringify(ne)),s("login-success",z)}else throw new Error(v.message||"")}catch(v){console.error("Login error:",v),a.value=v.message||""}finally{o.value=!1}}};return(v,w)=>(d(),f("div",Pu,[n("div",Uu,[w[5]||(w[5]=n("div",{class:"login-header"},[n("h1",null,""),n("p",null,"")],-1)),n("form",{onSubmit:Ge(u,["prevent"]),class:"login-form"},[n("div",Fu,[w[2]||(w[2]=n("label",{for:"username"},"",-1)),ie(n("input",{id:"username","onUpdate:modelValue":w[0]||(w[0]=m=>l.username=m),type:"text",placeholder:"",required:"",disabled:o.value,autocomplete:"username"},null,8,Mu),[[ye,l.username]])]),n("div",Du,[w[3]||(w[3]=n("label",{for:"password"},"",-1)),ie(n("input",{id:"password","onUpdate:modelValue":w[1]||(w[1]=m=>l.password=m),type:"password",placeholder:"",required:"",disabled:o.value,autocomplete:"current-password"},null,8,Ru),[[ye,l.password]])]),a.value?(d(),f("div",Lu,y(a.value),1)):I("",!0),n("button",{type:"submit",class:"login-button",disabled:o.value||!r.value},[o.value?(d(),f("span",Nu,[...w[4]||(w[4]=[n("span",{class:"spinner"},null,-1),Q(" ... ",-1)])])):(d(),f("span",Vu,""))],8,ju)],32),w[6]||(w[6]=n("div",{class:"login-footer"},[n("p",{class:"hint"},"")],-1))])]))}},qu=Bs(Hu,[["__scopeId","data-v-0adb1653"]]),Bu={class:"chat-app"},Ku={class:"history-panel"},zu={class:"history-header"},Wu=["disabled"],Ju={key:0,class:"spinner small"},Gu={key:1},Xu={class:"history-actions"},Zu=["disabled"],Yu=["disabled"],Qu={class:"history-filter"},ed={class:"filter-field"},td={class:"filter-field"},sd=["disabled"],nd={class:"history-content"},ld={key:0,class:"history-empty"},od={key:1,class:"history-empty"},id={key:2,class:"history-error"},ad={key:3,class:"history-empty"},rd={key:4,class:"history-list"},ud=["onClick","disabled"],dd={class:"history-title"},cd={class:"history-meta"},fd=["onClick","disabled"],pd={key:5,class:"history-pagination"},vd=["disabled"],_d={class:"pagination-info"},md=["disabled"],gd={class:"chat-container"},hd={class:"chat-header"},yd={class:"chat-header-center"},bd={key:0,class:"session-pill"},wd={key:0,class:"session-loading-banner"},kd={class:"message-content"},$d={key:0,class:"message-meta"},Cd={key:0,class:"typing-indicator"},Sd={class:"chat-input-container"},Td={class:"chat-input-row"},xd=["disabled"],Ed=["disabled"],Od={class:"settings-content"},go=" Webify AI Settings  API endpoint  Token",Id=20,Ad={__name:"ChatWindow",emits:["navigate"],setup(e,{emit:t}){const s=t,l=Ye({baseUrl:"https://travesti-scott-specialty-achieving.trycloudflare.com",authToken:""}),o=Ye({apiUrl:l.baseUrl,authToken:l.authToken}),a=x=>x.replace(/\/$/,""),r=()=>a(l.baseUrl),u=x=>`${r()}${x}`,v=()=>u("/rag/query"),w=(x,C=!1)=>({role:"system",content:x,isError:C,timestamp:new Date().toISOString()}),m=U([w(go)]),S=U(""),A=U(!1),$=U(!1),z=U(null),N=U(null),ne=U(!1),Y=U([]),V=U(!1),M=U(null),W=U(""),ue=U(!1),de=U(1),X=U(20),se=U({page:1,limit:20,total:0,total_pages:0}),oe=U(String(Id)),ce=U(""),Ve=U(!0),ze=U(0),We=U(!1),_e=U(!1),Xe=()=>{const x=localStorage.getItem("chatConfig");if(x)try{const C=JSON.parse(x);C.baseUrl&&(l.baseUrl=C.baseUrl),C.authToken&&(l.authToken=C.authToken)}catch(C){console.warn("Failed to parse saved config",C)}o.apiUrl=l.baseUrl,o.authToken=l.authToken};Hs(()=>{Xe(),l.authToken&&T()}),Wt(m,()=>{if(_e.value){_e.value=!1;return}Os(()=>{Fe()})},{deep:!0}),Wt(A,()=>{Os(()=>{Fe()})});const ee=x=>{if(x===""||x===null||x===void 0)return null;const C=Number(x);return!Number.isFinite(C)||C<0?null:Math.floor(C)};Wt(oe,x=>{if(x==="")return;const C=ee(x);C===null?oe.value="":String(C)!==x&&(oe.value=String(C))}),Wt(ce,x=>{if(x==="")return;const C=ee(x);C===null?ce.value="":String(C)!==x&&(ce.value=String(C))});const fe=ss(()=>{const x=ee(ce.value);return x===null?!1:x>0}),ge=()=>{Ve.value=!1},ke=()=>{Ve.value=!1},Fe=()=>{z.value&&(z.value.scrollTop=z.value.scrollHeight)},me=()=>{localStorage.setItem("chatConfig",JSON.stringify({baseUrl:l.baseUrl,authToken:l.authToken}))},Me=()=>{m.value.push(w(`Settings saved. Current RAG endpoint: ${v()}`))},je=()=>{if(!o.apiUrl.trim()){alert("API base URL is required.");return}if(!o.authToken.trim()){alert("API token is required.");return}l.baseUrl=a(o.apiUrl.trim()),l.authToken=o.authToken.trim(),me(),$.value=!1,Me(),T()},Be=()=>{o.apiUrl=l.baseUrl,o.authToken=l.authToken,$.value=!1},be=(x,C,L=!1)=>{m.value.push({role:x,content:C,isError:L,timestamp:new Date().toISOString()})},gt=()=>{s("navigate","ingestV2")},pt=()=>{s("navigate","templates")},Et=()=>{s("navigate","imageGen")},lt=()=>l.authToken?{Authorization:`Bearer ${l.authToken}`}:{},Je=x=>{if(!x)return"Unknown";const C=new Date(x);return Number.isNaN(C.getTime())?x:C.toLocaleString()},He=()=>{Ve.value=!0,ce.value="",ze.value=0},_=()=>{N.value=null,m.value=[w(go)],He()},b=async()=>{const x=S.value.trim();if(!(!x||A.value)){if(!l.authToken){be("system","Please configure an API token before chatting.",!0);return}be("user",x),S.value="",A.value=!0;try{const C={query:x};N.value&&(C.session_id=N.value);const L=await fetch(v(),{method:"POST",headers:{"Content-Type":"application/json",...lt()},body:JSON.stringify(C)}),G=await L.json();if(!L.ok){let we=`Error ${L.status}: `;throw G.message?we+=G.message:G.error?we+=G.error:we+=L.statusText,new Error(we)}G.session_id&&(N.value=G.session_id);let he="";G.response?he=G.response:G.answer?he=G.answer:G.result?he=G.result:typeof G=="string"?he=G:he=JSON.stringify(G,null,2),be("assistant",he),await T()}catch(C){console.error("Error:",C);let L=C.message;(L.includes("Failed to fetch")||L.includes("NetworkError"))&&(L=` API


1. 
2. API 
3. CORS 


-  API 
-  Settings  API 
-  CORS_SOLUTION.md`),be("system",L,!0)}finally{A.value=!1}}},T=async(x=null,C=null)=>{if(!l.authToken){Y.value=[],M.value=null;return}V.value=!0,M.value=null;try{const L=x!==null?x:de.value,G=C!==null?C:X.value,he=new URLSearchParams({page:L.toString(),limit:G.toString()}),we=await fetch(u(`/chat/sessions?${he.toString()}`),{method:"GET",headers:{...lt()}}),xe=await we.json();if(!we.ok)throw new Error(xe.message||xe.error||`HTTP ${we.status}`);Y.value=xe.sessions||[],xe.pagination&&(se.value={page:xe.pagination.page||L,limit:xe.pagination.limit||G,total:xe.pagination.total||0,total_pages:xe.pagination.total_pages||0},de.value=se.value.page,X.value=se.value.limit)}catch(L){console.error("Failed to load sessions",L),M.value=L.message}finally{V.value=!1}},D=(x,C=null)=>{const L=new URLSearchParams({session_id:x}),G=ee(oe.value);if(G!==null&&L.set("limit",G.toString()),C!==null)L.set("offset",C.toString());else{const he=ee(ce.value);he!==null&&L.set("offset",he.toString())}return`${u("/chat/sessions/"+x+"/messages")}?${L.toString()}`},F=(x=[],C={})=>{const{withPlaceholder:L=!0}=C;return!Array.isArray(x)||x.length===0?L?[w("This session has no stored messages yet.")]:[]:x.map(G=>({role:G.role||"assistant",content:G.content||"",isError:!1,timestamp:G.timestamp||new Date().toISOString()}))},P=x=>{if(!x||x.length===0)return;const C=z.value,L=C?C.scrollHeight:0,G=C?C.scrollTop:0;_e.value=!0,m.value=[...x,...m.value],Os(()=>{if(!C)return;const he=C.scrollHeight-L;C.scrollTop=G+he})},j=async(x,C={})=>{if(!x)return;const{append:L=!1,offsetOverride:G=null,skipAutoAdjust:he=!1}=C;L||(ne.value=!0);try{const we=D(x,G),xe=await fetch(we,{headers:{...lt()}}),Ae=await xe.json();if(!xe.ok)throw new Error(Ae.message||Ae.error||`HTTP ${xe.status}`);const at=F(Ae.messages,{withPlaceholder:!L}),rt=Ae.total_messages??(Array.isArray(Ae.messages)?Ae.messages.length:0);ze.value=rt;const Re=ee(oe.value),qe=G!==null?G:ee(ce.value);if(!L&&Ve.value&&!he&&Re!==null&&rt>Re){const Ke=Math.max(rt-Re,0);ce.value=Ke.toString(),Ve.value=!1,await j(x,{append:!1,offsetOverride:Ke,skipAutoAdjust:!0});return}if(!L&&ce.value===""){const Ke=qe??0;ce.value=Ke.toString()}L||(Ve.value=!1),L?P(at):(m.value=at,N.value=x)}catch(we){console.error("Failed to load session messages",we),L?be("system",`Failed to load older messages: ${we.message}`,!0):m.value=[w(`Failed to load session: ${we.message}`,!0)]}finally{L||(ne.value=!1)}},O=x=>{if(!l.authToken){be("system","Please configure an API token before loading history.",!0);return}!x||x.session_id===N.value||(He(),j(x.session_id))},H=()=>{N.value&&(Ve.value=!1,j(N.value))},R=async()=>{if(!N.value)return;const x=ee(oe.value),C=ee(ce.value);if(x===null||x===0||C===null||C===0)return;const L=Math.max(C-x,0);if(L!==C){ce.value=L.toString(),We.value=!0,_e.value=!0;try{await j(N.value,{append:!0,offsetOverride:L,skipAutoAdjust:!0})}finally{We.value=!1}}},te=()=>{const x=z.value;!x||We.value||!fe.value||x.scrollTop<=60&&R()},q=async x=>{if(!(!x||W.value)&&confirm("Delete this session permanently?")){W.value=x;try{const C=await fetch(u(`/chat/sessions/${encodeURIComponent(x)}`),{method:"DELETE",headers:{...lt()}}),L=await C.json();if(!C.ok)throw new Error(L.message||L.error||`HTTP ${C.status}`);N.value===x&&_();const G=se.value.page;Y.value.length-1===0&&G>1?await T(G-1):await T(),be("system",`Session ${x} deleted.`)}catch(C){console.error("Failed to delete session",C),be("system",`Failed to delete session: ${C.message}`,!0)}finally{W.value=""}}},Z=async()=>{if(!(Y.value.length===0||ue.value)&&confirm("Clear all sessions for the current user?")){ue.value=!0;try{const x=await fetch(u("/chat/sessions"),{method:"DELETE",headers:{...lt()}}),C=await x.json();if(!x.ok)throw new Error(C.message||C.error||`HTTP ${x.status}`);Y.value=[],se.value={page:1,limit:X.value,total:0,total_pages:0},de.value=1,_(),be("system",C.message||"All sessions cleared.")}catch(x){console.error("Failed to clear sessions",x),be("system",`Failed to clear sessions: ${x.message}`,!0)}finally{ue.value=!1}}};return(x,C)=>(d(),f("div",Bu,[n("aside",Ku,[n("div",zu,[C[9]||(C[9]=n("div",null,[n("h2",null,"Chat History"),n("p",{class:"history-subtitle"},"Sessions stored by the RAG service")],-1)),n("button",{class:"icon-button",onClick:T,disabled:V.value},[V.value?(d(),f("span",Ju)):(d(),f("span",Gu,""))],8,Wu)]),n("div",Xu,[n("button",{class:"new-chat-button",onClick:_,disabled:A.value||ne.value}," Start New Chat ",8,Zu),n("button",{class:"clear-history-button",onClick:Z,disabled:ue.value||Y.value.length===0},y(ue.value?"Clearing":"Clear All Sessions"),9,Yu)]),n("div",Qu,[n("div",ed,[C[10]||(C[10]=n("label",{for:"historyLimit"},"Limit",-1)),ie(n("input",{id:"historyLimit",type:"number",min:"0",step:"1","onUpdate:modelValue":C[0]||(C[0]=L=>oe.value=L),placeholder:"All",onInput:ge},null,544),[[ye,oe.value]])]),n("div",td,[C[11]||(C[11]=n("label",{for:"historyOffset"},"Offset",-1)),ie(n("input",{id:"historyOffset",type:"number",min:"0",step:"1","onUpdate:modelValue":C[1]||(C[1]=L=>ce.value=L),placeholder:"Auto",onInput:ke},null,544),[[ye,ce.value]])]),n("button",{class:"apply-filter",onClick:H,disabled:!N.value||ne.value},y(ne.value?"Loading":"Apply"),9,sd),C[12]||(C[12]=n("p",{class:"filter-hint"}," limit offset  offset=20limit=20  21-40  ",-1))]),n("div",nd,[l.authToken?V.value?(d(),f("div",od,[...C[14]||(C[14]=[n("span",{class:"spinner"},null,-1),n("p",null,"Loading history",-1)])])):M.value?(d(),f("div",id,y(M.value),1)):Y.value.length===0?(d(),f("div",ad,[...C[15]||(C[15]=[n("p",null,"No saved sessions yet.",-1),n("p",{class:"history-hint"},"Once you chat with the assistant, the session will appear here.",-1)])])):(d(),f("div",rd,[(d(!0),f(ae,null,Te(Y.value,L=>(d(),f("div",{key:L.session_id,class:Le(["history-item",{active:L.session_id===N.value}])},[n("button",{class:"history-body",onClick:G=>O(L),disabled:ne.value},[n("div",dd,y(L.first_message||"Untitled conversation"),1),n("div",cd,[n("span",null,y(L.message_count)+" messages",1),n("span",null,y(Je(L.last_updated)),1)])],8,ud),n("button",{class:"delete-history-button",onClick:Ge(G=>q(L.session_id),["stop"]),disabled:W.value===L.session_id},y(W.value===L.session_id?"":""),9,fd)],2))),128))])):(d(),f("div",ld,[...C[13]||(C[13]=[n("p",null,"Configure an API token to load your history.",-1)])])),Y.value.length>0&&se.value.total_pages>1?(d(),f("div",pd,[n("button",{class:"pagination-button",onClick:C[2]||(C[2]=L=>T(se.value.page-1)),disabled:V.value||se.value.page<=1},"  ",8,vd),n("span",_d,"  "+y(se.value.page)+" / "+y(se.value.total_pages)+"  ( "+y(se.value.total)+" ) ",1),n("button",{class:"pagination-button",onClick:C[3]||(C[3]=L=>T(se.value.page+1)),disabled:V.value||se.value.page>=se.value.total_pages},"  ",8,md)])):I("",!0)])]),n("div",gd,[n("div",hd,[n("div",{class:"chat-header-left"},[n("button",{class:"nav-button",onClick:gt},""),n("button",{class:"nav-button",onClick:pt},""),n("button",{class:"nav-button",onClick:Et},"")]),n("div",yd,[C[16]||(C[16]=n("span",{class:"app-title"},"Webify AI RAG Assistant",-1)),N.value?(d(),f("span",bd,"Session: "+y(N.value),1)):I("",!0)]),n("button",{class:"settings-button",onClick:C[4]||(C[4]=L=>$.value=!0)}," Settings ")]),ne.value?(d(),f("div",wd," Loading conversation history ")):I("",!0),n("div",{class:"chat-messages",ref_key:"messagesContainer",ref:z,onScrollPassive:te},[(d(!0),f(ae,null,Te(m.value,(L,G)=>(d(),f("div",{key:G,class:Le(["message",L.role,{error:L.isError}])},[n("div",kd,[L.timestamp?(d(),f("div",$d,y(Je(L.timestamp)),1)):I("",!0),n("div",null,y(L.content),1)])],2))),128)),A.value?(d(),f("div",Cd,[...C[17]||(C[17]=[n("div",{class:"dot"},null,-1),n("div",{class:"dot"},null,-1),n("div",{class:"dot"},null,-1)])])):I("",!0)],544),n("div",Sd,[n("div",Td,[ie(n("input",{"onUpdate:modelValue":C[5]||(C[5]=L=>S.value=L),type:"text",class:"chat-input",placeholder:"Ask a question...",onKeypress:Cu(b,["enter"]),disabled:A.value,autocomplete:"off"},null,40,xd),[[ye,S.value]]),n("button",{class:"send-button",onClick:b,disabled:A.value||!S.value.trim()}," Send ",8,Ed)])])]),$.value?(d(),f("div",{key:0,class:"settings-modal",onClick:C[8]||(C[8]=Ge(L=>$.value=!1,["self"]))},[n("div",Od,[C[18]||(C[18]=n("h2",null,"API Settings",-1)),C[19]||(C[19]=n("label",{for:"apiUrl"},"API Base URL",-1)),ie(n("input",{"onUpdate:modelValue":C[6]||(C[6]=L=>o.apiUrl=L),type:"text",id:"apiUrl",placeholder:"https://api.example.com"},null,512),[[ye,o.apiUrl]]),C[20]||(C[20]=n("small",{class:"help-text"}," Only provide the base domain. Endpoints such as /rag/query or /chat/sessions are appended automatically. ",-1)),C[21]||(C[21]=n("label",{for:"apiToken"},"API Token",-1)),ie(n("input",{"onUpdate:modelValue":C[7]||(C[7]=L=>o.authToken=L),type:"text",id:"apiToken",placeholder:"Paste your access token"},null,512),[[ye,o.authToken]]),C[22]||(C[22]=n("small",{class:"help-text"}," Tokens are only kept inside this browser and are used to populate the Authorization header. ",-1)),n("div",{class:"settings-buttons"},[n("button",{class:"cancel-settings",onClick:Be},"Cancel"),n("button",{class:"save-settings",onClick:je},"Save")])])])):I("",!0)]))}},Pd=Bs(Ad,[["__scopeId","data-v-3b9a6e37"]]),Ud="modulepreload",Fd=function(e){return"/mygpt-view/"+e},ho={},yo=function(t,s,l){let o=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),u=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));o=Promise.allSettled(s.map(v=>{if(v=Fd(v),v in ho)return;ho[v]=!0;const w=v.endsWith(".css"),m=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${m}`))return;const S=document.createElement("link");if(S.rel=w?"stylesheet":Ud,w||(S.as="script"),S.crossOrigin="",S.href=v,u&&S.setAttribute("nonce",u),document.head.appendChild(S),w)return new Promise((A,$)=>{S.addEventListener("load",A),S.addEventListener("error",()=>$(new Error(`Unable to preload CSS for ${v}`)))})}))}function a(r){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=r,window.dispatchEvent(u),!u.defaultPrevented)throw r}return o.then(r=>{for(const u of r||[])u.status==="rejected"&&a(u.reason);return t().catch(a)})},Md={class:"ingest-v2-shell"},Dd={class:"ingest-v2-page"},Rd={class:"ingest-hero"},Ld={class:"hero-text"},jd={class:"hero-description"},Vd={key:0,class:"hero-stats"},Nd={class:"hero-stat"},Hd={key:1,class:"hero-stats"},qd={class:"hero-stat"},Bd={class:"hero-stat"},Kd={key:0,class:"hero-stat"},zd={class:"hero-stat"},Wd={class:"hero-stat"},Jd={class:"hero-stat"},Gd={class:"hero-stat"},Xd={key:2,class:"hero-stats"},Zd={class:"hero-stat"},Yd={class:"hero-stat"},Qd={class:"hero-stat"},ec={class:"hero-actions"},tc={class:"ingest-v2-layout"},sc={class:"ingest-v2-main"},nc={key:0,class:"view-container"},lc={class:"ingest-card step-card"},oc={class:"form-grid"},ic={class:"form-section-departments"},ac={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"8px"}},rc=["disabled"],uc={key:0,class:"loading-block"},dc={key:1,class:"error-text"},cc={key:2,class:"empty-sessions"},fc={key:3,class:"tags-grid"},pc=["value","disabled"],vc={class:"form-grid"},_c=["disabled"],mc={key:0},gc=["disabled"],hc=["value"],yc={key:0,class:"help-text",style:{"margin-top":"4px","font-size":"12px",color:"#6b7280"}},bc={key:1,class:"help-text",style:{"margin-top":"4px","font-size":"12px",color:"#ef4444"}},wc={class:"step-actions"},kc=["disabled"],$c={key:0},Cc={key:1},Sc={key:0,class:"edit-folder-section"},Tc={class:"form-grid"},xc={class:"form-section-departments"},Ec={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"8px"}},Oc=["disabled"],Ic={key:0,class:"loading-block"},Ac={key:1,class:"error-text"},Pc={key:2,class:"empty-sessions"},Uc={key:3,class:"tags-grid"},Fc=["value","disabled"],Mc={class:"form-grid"},Dc=["disabled"],Rc={key:0},Lc=["disabled"],jc=["value"],Vc={key:0,class:"help-text",style:{"margin-top":"4px","font-size":"12px",color:"#6b7280"}},Nc={key:1,class:"help-text",style:{"margin-top":"4px","font-size":"12px",color:"#ef4444"}},Hc={class:"step-actions"},qc=["disabled"],Bc=["disabled"],Kc={key:0},zc={key:1},Wc={class:"ingest-card step-card"},Jc={class:"step-heading"},Gc=["disabled"],Xc={key:0,class:"error-text"},Zc={key:1,class:"loading-block"},Yc={key:2,class:"folders-list"},Qc=["onClick"],ef={class:"folder-item-header"},tf={class:"folder-id"},sf=["onClick"],nf=["onClick","disabled"],lf={class:"folder-item-info"},of={key:0},af={class:"folder-item-time"},rf={key:0,class:"pagination-controls"},uf=["disabled"],df={class:"pagination-info"},cf=["disabled"],ff={key:3,class:"empty-sessions"},pf={key:1,class:"view-container"},vf={class:"ingest-card step-card"},_f={class:"step-heading"},mf={class:"summary-grid"},gf={key:0},hf={class:"ingest-card step-card"},yf={class:"form-grid"},bf={class:"form-grid",style:{"margin-top":"10px"}},wf=["disabled"],kf={key:1,class:"file-upload-area"},$f=["disabled"],Cf={key:0},Sf={class:"upload-limits"},Tf={key:1},xf={class:"upload-title"},Ef={key:0,class:"selected-files"},Of=["onClick"],If={key:2,class:"template-input-area"},Af={key:0,class:"error-text",style:{"margin-bottom":"15px"}},Pf={key:1,class:"template-form-section"},Uf={class:"form-group",style:{"margin-bottom":"15px"}},Ff={class:"help-text",style:{"margin-top":"4px","font-size":"14px",color:"#6b7280"}},Mf={key:0,style:{"margin-left":"8px",color:"#9ca3af"}},Df={class:"form-group"},Rf={class:"file-upload-area"},Lf=["disabled"],jf={for:"templateImageInput",class:"file-upload-label"},Vf={key:0},Nf={key:1,class:"file-selected"},Hf={key:0,class:"image-preview-area"},qf=["src"],Bf=["disabled"],Kf={key:0},zf={key:1},Wf={key:1,class:"ocr-error"},Jf={key:2,class:"ocr-success"},Gf={class:"form-group"},Xf={class:"fields-input"},Zf={key:0,class:"field-input field-full"},Yf={key:0,class:"required"},Qf=["title"],ep={key:0,class:"confidence-score"},tp=["onUpdate:modelValue","required","placeholder","disabled"],sp={key:1,class:"field-row-layout"},np={class:"field-input field-left"},lp={key:0,class:"required"},op=["title"],ip={key:0,class:"confidence-score"},ap=["onUpdate:modelValue","required","placeholder","disabled"],rp={key:0,class:"field-input field-right"},up={key:0,class:"required"},dp=["title"],cp={key:0,class:"confidence-score"},fp=["onUpdate:modelValue","required","placeholder","disabled"],pp={key:1,class:"field-spacer"},vp={key:2,class:"field-input field-full"},_p={key:0,class:"required"},mp=["title"],gp={key:0,class:"confidence-score"},hp=["onUpdate:modelValue","required","placeholder","disabled"],yp={class:"step-actions"},bp=["disabled"],wp={key:0},kp={key:1},$p={key:3,class:"error-text"},Cp={class:"ingest-card step-card"},Sp={class:"step-heading"},Tp=["disabled"],xp={key:0,class:"error-text"},Ep={key:1,class:"loading-block"},Op={key:2,class:"sessions-list"},Ip=["onClick"],Ap={class:"session-item-header"},Pp={class:"session-id"},Up={class:"session-item-info"},Fp={key:0},Mp={key:1},Dp={key:2},Rp={class:"session-item-time"},Lp={key:0,class:"pagination-controls"},jp=["disabled"],Vp={class:"pagination-info"},Np=["disabled"],Hp={key:3,class:"empty-sessions"},qp={key:2,class:"view-container"},Bp={key:0,class:"ingest-card step-card"},Kp={class:"step-heading"},zp={style:{display:"flex",gap:"10px"}},Wp=["disabled"],Jp=["disabled"],Gp={class:"summary-grid"},Xp={key:0},Zp={key:1},Yp={key:2},Qp={key:3},ev={key:4},tv={key:5},sv={key:6},nv={key:0,class:"files-table"},lv={class:"ingest-card step-card scrollable-card"},ov={class:"step-heading"},iv={style:{display:"flex",gap:"10px"}},av=["disabled"],rv={key:0},uv={key:1},dv=["disabled"],cv=["disabled"],fv=["disabled"],pv={key:0},vv={key:1},_v={key:0,class:"error-text"},mv={key:1,class:"error-text"},gv={key:2,class:"metadata-edit-section"},hv={class:"section-header"},yv={key:0},bv={class:"form-grid"},wv={key:3,class:"loading-block"},kv={key:4,class:"preview-summary"},$v={class:"summary-grid"},Cv={class:"preview-files"},Sv={class:"preview-file-header"},Tv={key:0,class:"badge"},xv={key:0,class:"pdf-preview"},Ev=["src"],Ov={key:1,class:"image-preview"},Iv=["src"],Av={key:2,class:"original-content"},Pv={class:"scrollable-pre"},Uv={key:3,class:"original-content"},Fv={class:"scrollable-pre"},Mv={class:"chunks-grid"},Dv={key:0},Rv={class:"chunk-title"},Lv={class:"chunk-actions"},jv=["onClick"],Vv=["onClick","disabled"],Nv=["onClick"],Hv=["onUpdate:modelValue","rows"],qv={key:1,class:"empty-chunks-hint"},Bv={class:"chunk-card add-chunk-card"},Kv=["onClick"],zv={class:"chunk-title"},Wv={class:"scrollable-pre"},Jv={class:"ingest-card step-card"},Gv={class:"step-heading"},Xv=["disabled"],Zv={key:0},Yv={key:1},Qv={key:0,class:"error-text"},e_={key:1,class:"result-card"},Qs='"Settings" API Token',t_={__name:"DataIngestV2",emits:["navigate"],setup(e,{emit:t}){const s=t,l=Ye({baseUrl:"https://privaterag.jpegonapechain.com",authToken:""}),o=[".pdf",".docx",".txt",".jpg",".jpeg",".png",".bmp",".tiff"],a=[{id:18,name:"employee",tag:"employee",description:"employee"},{id:17,name:"manager",tag:"manager",description:"manager"},{id:16,name:"admin",tag:"admin",description:"admin"},{id:15,name:"12",tag:"sales12",description:"test2"},{id:13,name:"1",tag:"sales1",description:"test2"},{id:12,name:"2",tag:"finance2",description:null},{id:10,name:"5",tag:"sales5",description:"test2"},{id:4,name:"",tag:"hr",description:""},{id:3,name:"",tag:"finance",description:""},{id:2,name:"",tag:"tech",description:""}],r=U(a.map(p=>({label:p.name,value:String(p.id),tag:p.tag,description:p.description}))),u=U(!1),v=U(null),w={MAX_FILES:5,MAX_FILE_SIZE_MB:10,MAX_TOTAL_SIZE_MB:50},m=w.MAX_FILE_SIZE_MB*1024*1024,S=w.MAX_TOTAL_SIZE_MB*1024*1024,A=Ye({source:"",description:"",folder_id:"",data_type:"private",inputMode:"upload"}),$=Ye({folder_name:"",description:"",selectedDepartments:[],knowledge_type:"raw",template_id:null});r.value.length>0&&$.selectedDepartments.length===0&&($.selectedDepartments=[r.value[0].value]);const z=U([]),N=U(null),ne=U([]),Y=U(!1),V=U(null),M=Ye({selectedTemplateId:"",image_file:null,filled_data:{}}),W=U(null),ue=U(null),de=U(!1),X=U(!1),se=U(null),oe=U(""),ce=U(null),Ve=U(""),ze=U(!1),We=U(!1),_e=U(null),Xe=U(!1),ee=U(null),fe=U(null),ge=U(!1),ke=U(null),Fe=U(!1),me=U({}),Me=U(!1),je=U(null),Be=U(!1),be=Ye({source:"",description:"",selectedDepartments:[]}),gt=U([]);U(!1);const pt=U(null);U({page:1,limit:20,total:0,total_pages:0});const Et=U(!1),lt=U([]),Je=U(!1),He=U(null),_=U({page:1,limit:20,total:0,total_pages:0});U(!1);const b=U(!1),T=U(!1),D=U(!1),F=U(""),P=U(null),j=U("folders"),O=U(null),H=U([]),R=U(!1),te=U(null),q=U({page:1,limit:20,total:0,total_pages:0}),Z=()=>{if(typeof window>"u"||!window.localStorage)return;const p=localStorage.getItem("chatConfig");if(p)try{const k=JSON.parse(p);k.baseUrl&&(l.baseUrl=k.baseUrl),k.authToken&&(l.authToken=k.authToken)}catch(k){console.warn("Failed to parse stored config",k)}const i=localStorage.getItem("authData");if(i)try{const k=JSON.parse(i);if(k.access_token){l.authToken=k.access_token;const B=localStorage.getItem("chatConfig");if(B)try{const le=JSON.parse(B);le.authToken=k.access_token,localStorage.setItem("chatConfig",JSON.stringify(le))}catch{}}}catch(k){console.warn("Failed to parse auth data",k)}};Z(),typeof window<"u"&&(window.addEventListener("storage",Z),window.addEventListener("auth-token-updated",Z),setInterval(()=>{Z()},2e3));const x=()=>l.authToken?{Authorization:`Bearer ${l.authToken}`}:{},C=ss(()=>{const p=!!$.folder_name.trim(),i=$.selectedDepartments.length>0,k=$.knowledge_type==="raw"||$.knowledge_type==="template"&&$.template_id;return p&&i&&k}),L=ss(()=>X.value||!O.value?!1:O.value.knowledge_type==="raw"?!!(A.source.trim()&&A.description.trim()&&A.folder_id)&&z.value.length>0:O.value.knowledge_type==="template"?!A.folder_id||!M.selectedTemplateId||!M.image_file||!V.value?!1:V.value.fields.filter(k=>k.required).every(k=>{const B=M.filled_data[k.field_id];return B&&B.trim()!==""}):!1),G=ss(()=>!!oe.value),he=ss(()=>!!oe.value),we=()=>{var p;return j.value==="folders"?"":j.value==="folder-detail"?((p=O.value)==null?void 0:p.folder_name)||"":j.value==="session-detail"?"":""},xe=()=>j.value==="folders"?"":j.value==="folder-detail"?"":j.value==="session-detail"?"":"/OCR",Ae=()=>{j.value==="session-detail"?qe():j.value==="folder-detail"?rt():at()},at=()=>{s("navigate","chat")},rt=()=>{j.value="folders",O.value=null,H.value=[]},Re=async p=>{if(p.knowledge_type==="template"&&p.submission_count===void 0||p.knowledge_type==="raw"&&p.session_count===void 0)try{const{getKnowledgeBase:i}=await yo(async()=>{const{getKnowledgeBase:B}=await Promise.resolve().then(()=>mo);return{getKnowledgeBase:B}},void 0),k=await i(p.folder_id);p={...p,...k,folder_id:k.knowledge_base_id||k.folder_id,folder_name:k.knowledge_base_name||k.folder_name,knowledge_base_id:k.knowledge_base_id||k.folder_id,knowledge_base_name:k.knowledge_base_name||k.folder_name,session_count:k.session_count||0,total_files:k.total_files||0,total_size:k.total_size||0,submission_count:k.submission_count||0,pending_submissions:k.pending_submissions||0,approved_submissions:k.approved_submissions||0,rejected_submissions:k.rejected_submissions||0}}catch(i){console.warn(":",i)}O.value=p,A.folder_id=p.folder_id,p.knowledge_type==="template"?(A.inputMode="template",p.template_id?(M.selectedTemplateId=p.template_id,await Xi(p.template_id)):(M.selectedTemplateId="",V.value=null,M.filled_data={})):(A.inputMode="upload",M.selectedTemplateId="",V.value=null,M.filled_data={}),j.value="folder-detail",bs()},qe=()=>{O.value?j.value="folder-detail":rt()},Ke=async p=>{if(p.submission_id||p.submission_status){s("navigate","templates"),p.submission_id&&localStorage.setItem("viewSubmissionId",p.submission_id);return}oe.value=p.document_id||p.session_id,j.value="session-detail",await An()},Ot=()=>{P.value=null,$.folder_name="",$.description="",$.selectedDepartments=r.value.length>0?[r.value[0].value]:[]},xn=()=>{!X.value&&N.value&&N.value.click()},En=(p="")=>{const i=p.toLowerCase();return o.some(k=>i.endsWith(k))},On=p=>{const i=Array.from(p.target.files||[]);h(i),p.target&&(p.target.value="")},In=p=>{if(p.size>m){const i=(p.size/1048576).toFixed(2);throw new Error(` "${p.name}" : ${i}MB: ${w.MAX_FILE_SIZE_MB}MB`)}return!0},E=p=>{const i=p.reduce((k,B)=>k+B.size,0);if(i>S){const k=(i/1048576).toFixed(2);throw new Error(`: ${k}MB: ${w.MAX_TOTAL_SIZE_MB}MB`)}return!0},c=(p,i)=>{const k=p+i;if(k>w.MAX_FILES)throw new Error(` ${w.MAX_FILES}  ${k} `);return!0},h=p=>{try{c(z.value.length,p.length);const i=[];for(const B of p){if(!En(B.name)){alert(` ${B.name}  PDF/DOCX/TXT/JPG/JPEG/PNG/BMP/TIFF`);continue}In(B),i.push(B)}if(i.length===0)return;const k=[...z.value,...i];E(k),z.value=k}catch(i){alert(i.message),ce.value=i.message}},K=p=>{z.value=z.value.filter((i,k)=>k!==p)},pe=()=>{z.value=[],A.source="",A.description="",A.folder_id="",A.data_type="private",se.value=null,oe.value="",ce.value=null,Ve.value="",_e.value=null,ee.value=null,fe.value=null,ke.value=null,Fe.value=!1,me.value={},je.value=null,Et.value=!1,gt.value=[],pt.value=null,Be.value=!1,be.source="",be.description="",be.selectedDepartments=[],F.value="",N.value&&(N.value.value="")},$e=(p=0)=>{if(!Number.isFinite(p)||p<=0)return"0 Bytes";const i=["Bytes","KB","MB","GB"],k=Math.floor(Math.log(p)/Math.log(1024));return`${(p/Math.pow(1024,k)).toFixed(2)} ${i[k]}`},Ee=p=>{if(!p)return"-";const i=new Date(p);return Number.isNaN(i.getTime())?p:i.toLocaleString()},hs=(p,i)=>p?p.length<=i?p:`${p.slice(0,i)}...`:"",qt=p=>{if(!p)return"";const i=Ol(p);return i.length===0?"":i.map(B=>{const le=r.value.find(g=>g.value===String(B));return le?le.label:`ID: ${B}`}).join(", ")},ys=p=>{se.value=p,oe.value=(p==null?void 0:p.document_id)||(p==null?void 0:p.session_id)||"",Ve.value=oe.value,_e.value=null,ee.value=null,fe.value=null,ke.value=null,Fe.value=!1,me.value={},je.value=null,Be.value=!1,be.source="",be.description="",be.selectedDepartments=[]},ut=()=>{if(Z(),!l.authToken)throw new Error(Qs)},is=async()=>{if(!(!L.value||X.value)){try{ut()}catch(p){ce.value=p.message;return}X.value=!0,ce.value=null;try{if(O.value&&O.value.knowledge_type==="template"){if(!O.value.template_id||!M.image_file)throw new Error("");await Tl(O.value.template_id,A.folder_id,M.image_file,M.filled_data),alert(""),M.image_file=null,V.value&&V.value.fields&&(M.filled_data={},V.value.fields.forEach(p=>{M.filled_data[p.field_id]=""})),W.value=null,ue.value=null,O.value&&bs(q.value.page,q.value.limit)}else if(O.value&&O.value.knowledge_type==="raw"){const p=new FormData;p.append("source",A.source.trim()),p.append("knowledge_base_id",A.folder_id),p.append("description",A.description.trim()),p.append("data_type",A.data_type),z.value.forEach(B=>p.append("files",B));const i=await fetch(Oe("/documents"),{method:"POST",headers:{...x()},body:p});let k;try{k=await i.json()}catch{throw new Error(` (HTTP ${i.status})`)}if(!i.ok){const B=k.detail||k.message||`HTTP ${i.status}`;throw new Error(B)}ys(k),z.value=[],N.value&&(N.value.value=""),j.value="session-detail",O.value&&bs(q.value.page,q.value.limit),A.source="",A.description="",A.data_type="private"}}catch(p){console.error("Create session error:",p),ce.value=p.message}finally{X.value=!1}}},An=async()=>{const p=(oe.value||Ve.value||"").trim();if(!p){ce.value=" session_id";return}try{ut()}catch(i){ce.value=i.message;return}ze.value=!0,ce.value=null;try{const i=await fetch(Oe(`/documents/${encodeURIComponent(p)}`),{method:"GET",headers:{...x()}});let k;try{k=await i.json()}catch{throw new Error(` (HTTP ${i.status})`)}if(!i.ok){const B=k.detail||k.message||`HTTP ${i.status}`;throw new Error(B)}ys(k)}catch(i){console.error("Fetch session error:",i),ce.value=i.message}finally{ze.value=!1}},Di=async()=>{if(!oe.value){ce.value="";return}if(window.confirm(` ${oe.value} `)){try{ut()}catch(p){ce.value=p.message;return}We.value=!0,ce.value=null;try{const p=await fetch(Oe(`/documents/${encodeURIComponent(oe.value)}`),{method:"DELETE",headers:{...x()}});if(!p.ok){const i=await p.json().catch(()=>({}));throw new Error(i.detail||i.message||`HTTP ${p.status}`)}pe()}catch(p){console.error("Delete session error:",p),ce.value=p.message}finally{We.value=!1}}},xl=async()=>{if(!(!G.value||Xe.value)){try{ut()}catch(p){ee.value=p.message;return}Xe.value=!0,ee.value=null;try{Z();const p=x();if(!p.Authorization)throw new Error(Qs);const i=await fetch(Oe("/documents/preview"),{method:"POST",headers:{"Content-Type":"application/json",...p},body:JSON.stringify({document_id:oe.value})}),k=await i.json();if(!i.ok)throw new Error(k.detail||k.message||`HTTP ${i.status}`);_e.value=k,El(k)}catch(p){console.error("Preview error:",p),ee.value=p.message}finally{Xe.value=!1}}},El=p=>{!p||!p.files||(me.value={},p.files.forEach(i=>{i.file_id&&(i.chunks&&i.chunks.length>0?me.value[i.file_id]=i.chunks.map(k=>k.description||k.text||""):me.value[i.file_id]=[""])}))},Ri=()=>{!Fe.value&&_e.value&&(El(_e.value),be.source=_e.value.source||"",be.description=_e.value.description||""),Fe.value=!Fe.value,Be.value=!1,je.value=null},Ol=p=>{if(!p)return[];if(Array.isArray(p))return p.map(i=>String(i));if(typeof p=="string")try{const i=JSON.parse(p);return Array.isArray(i)?i.map(k=>String(k)):[String(p)]}catch{return[String(p)]}return[String(p)]},Il=()=>{Be.value=!Be.value,Be.value&&(_e.value?(be.source=_e.value.source||"",be.description=_e.value.description||""):se.value&&(be.source=se.value.source||"",be.description=se.value.description||""))},Li=(p,i)=>{if(!me.value[p])return;const k=me.value[p][i],B=Math.floor(k.length/2),le=k.lastIndexOf(`
`,B)!==-1?k.lastIndexOf(`
`,B)+1:k.lastIndexOf(" ",B)!==-1?k.lastIndexOf(" ",B)+1:B,g=k.slice(0,le).trim(),J=k.slice(le).trim();g&&J&&me.value[p].splice(i,1,g,J)},ji=(p,i)=>{if(!me.value[p]||i>=me.value[p].length-1)return;const k=me.value[p][i],B=me.value[p][i+1];me.value[p].splice(i,2,`${k}
${B}`)},Vi=(p,i)=>{if(!me.value[p]||me.value[p].length<=1){alert("");return}window.confirm("")&&me.value[p].splice(i,1)},Ni=p=>{var i,k;if(!me.value[p]){const B=(k=(i=_e.value)==null?void 0:i.files)==null?void 0:k.find(le=>le.file_id===p);B&&B.chunks?me.value[p]=B.chunks.map(le=>le.description||le.text||""):me.value[p]=[]}me.value[p].push("")},Hi=async()=>{if(oe.value){try{ut()}catch(p){je.value=p.message;return}Me.value=!0,je.value=null;try{const p={};if(_e.value&&Fe.value){const le=[];_e.value.files.forEach(g=>{if(g.file_id&&me.value[g.file_id]){const J=me.value[g.file_id].filter(De=>De.trim());J.length>0&&le.push({file_id:g.file_id,chunks:J})}}),le.length>0&&(p.custom_chunks=le)}if(Be.value&&(be.source.trim()&&(p.source=be.source.trim()),be.description.trim()&&(p.description=be.description.trim())),!(Object.keys(p).length>0))throw new Error("");const k=await fetch(Oe(`/documents/${encodeURIComponent(oe.value)}`),{method:"PATCH",headers:{"Content-Type":"application/json",...x()},body:JSON.stringify(p)});let B;try{B=await k.json()}catch{throw new Error(` (HTTP ${k.status})`)}if(!k.ok){const le=B.detail||B.message||`HTTP ${k.status}`;throw new Error(le)}_e.value?await xl():await An(),Fe.value=!1,Be.value=!1,alert(B.message||"")}catch(p){console.error("Update chunks error:",p),je.value=p.message}finally{Me.value=!1}}},qi=async()=>{if(!(!he.value||ge.value)){try{ut()}catch(p){ke.value=p.message;return}ge.value=!0,ke.value=null;try{const p=await fetch(Oe(`/documents/${encodeURIComponent(oe.value)}/process`),{method:"POST",headers:{"Content-Type":"application/json",...x()},body:JSON.stringify({confirmed:!0})}),i=await p.json();if(!p.ok)throw new Error(i.detail||i.message||`HTTP ${p.status}`);fe.value=i}catch(p){console.error("Process error:",p),ke.value=p.message}finally{ge.value=!1}}},Pn=p=>p==="processed"||p==="approved"?"status-processed":p==="pending"?"status-pending":p==="rejected"?"status-rejected":"status-draft",Un=p=>p==="processed"?"":p==="pending"?"":p==="approved"?"":p==="rejected"?"":"",Bi=async()=>{if(!(!C.value||b.value)){try{ut()}catch(p){He.value=p.message;return}b.value=!0,He.value=null;try{const p={knowledge_base_name:$.folder_name.trim(),department_ids:$.selectedDepartments,knowledge_type:$.knowledge_type||"raw"};if($.description.trim()&&(p.description=$.description.trim()),$.knowledge_type==="template"){if(!$.template_id)throw new Error(" template ");p.template_id=$.template_id}const i=await fetch(Oe("/knowledge-bases"),{method:"POST",headers:{"Content-Type":"application/json",...x()},body:JSON.stringify(p)});let k;try{k=await i.json()}catch{throw new Error(` (HTTP ${i.status})`)}if(!i.ok){const B=k.detail||k.message||`HTTP ${i.status}`;throw new Error(B)}A.folder_id=k.knowledge_base_id||k.folder_id,F.value=k.knowledge_base_name||k.folder_name,$.folder_name="",$.description="",$.selectedDepartments=r.value.length>0?[r.value[0].value]:[],$.knowledge_type="raw",$.template_id=null,await Yt(),alert("")}catch(p){console.error("Create folder error:",p),He.value=p.message}finally{b.value=!1}}},Yt=async(p=1,i=20)=>{try{ut()}catch(k){He.value=k.message,Je.value=!1;return}Je.value=!0,He.value=null;try{Z();const k=x();if(!k.Authorization)throw new Error(Qs);const B=await fetch(Oe(`/knowledge-bases?page=${p}&limit=${i}`),{headers:{"Content-Type":"application/json",...k}});let le;try{le=await B.json()}catch{throw new Error(` (HTTP ${B.status})`)}if(!B.ok){const J=le.detail||le.message||`HTTP ${B.status}`;throw new Error(J)}const g=le.knowledge_bases||le.folders||[];lt.value=g.map(J=>({folder_id:J.knowledge_base_id||J.folder_id,folder_name:J.knowledge_base_name||J.folder_name,knowledge_base_id:J.knowledge_base_id||J.folder_id,knowledge_base_name:J.knowledge_base_name||J.folder_name,description:J.description,department_ids:J.department_ids,session_count:J.session_count||0,total_files:J.total_files||0,total_size:J.total_size||0,created_at:J.created_at,updated_at:J.updated_at,last_upload_time:J.last_upload_time,user_id:J.user_id,knowledge_type:J.knowledge_type||"raw",template_id:J.template_id||null,submission_count:J.submission_count||0,pending_submissions:J.pending_submissions||0,approved_submissions:J.approved_submissions||0,rejected_submissions:J.rejected_submissions||0})),_.value=le.pagination||{page:1,limit:20,total:0,total_pages:0}}catch(k){console.error("Fetch folders list error:",k),He.value=k.message}finally{Je.value=!1}},Al=p=>{Yt(p,_.value.limit)},bs=async(p=1,i=20)=>{if(O.value){try{ut()}catch(k){te.value=k.message;return}R.value=!0,te.value=null;try{Z();const k=x();if(!k.Authorization)throw new Error(Qs);let B,le;if(O.value.knowledge_type==="template"){const{getTemplateSubmissions:g}=await yo(async()=>{const{getTemplateSubmissions:De}=await Promise.resolve().then(()=>mo);return{getTemplateSubmissions:De}},void 0);B=await g({knowledge_base_id:O.value.folder_id,page:p,limit:i});const J=B.submissions||[];H.value=J.map(De=>({...De,session_id:De.submission_id,document_id:De.submission_id,status:De.submission_status||"draft",source:De.template_name||"",description:`: ${De.template_name||""}`,created_at:De.submitted_at||De.created_at,submission_id:De.submission_id,submission_status:De.submission_status,template_id:De.template_id,template_name:De.template_name,submitted_by:De.submitted_by,submitted_at:De.submitted_at}))}else{le=await fetch(Oe(`/knowledge-bases/${encodeURIComponent(O.value.folder_id)}/documents?page=${p}&limit=${i}`),{headers:{"Content-Type":"application/json",...k}});try{B=await le.json()}catch{throw new Error(` (HTTP ${le.status})`)}if(!le.ok){const J=B.detail||B.message||`HTTP ${le.status}`;throw new Error(J)}const g=B.documents||B.sessions||[];H.value=g.map(J=>({...J,session_id:J.document_id||J.session_id,document_id:J.document_id||J.session_id}))}q.value=B.pagination||{page:1,limit:20,total:0,total_pages:0}}catch(k){console.error("Fetch folder sessions error:",k),te.value=k.message}finally{R.value=!1}}},Pl=p=>{bs(p,q.value.limit)},Ki=async p=>{P.value={...p},$.folder_name=p.folder_name||p.knowledge_base_name||"",$.description=p.description||"",$.selectedDepartments=Ol(p.department_ids),$.knowledge_type=p.knowledge_type||"raw",$.template_id=p.template_id||null,$.knowledge_type==="template"&&ne.value.length===0&&await Ul(),window.scrollTo({top:0,behavior:"smooth"})},zi=async()=>{if(P.value){try{ut()}catch(p){He.value=p.message;return}D.value=!0,He.value=null;try{const p={};if($.folder_name.trim()&&$.folder_name.trim()!==(P.value.folder_name||P.value.knowledge_base_name)&&(p.knowledge_base_name=$.folder_name.trim()),$.description.trim()!==(P.value.description||"")&&(p.description=$.description.trim()||void 0),Gi($.selectedDepartments,P.value.department_ids)||(p.department_ids=$.selectedDepartments),$.knowledge_type!==(P.value.knowledge_type||"raw"))if(p.knowledge_type=$.knowledge_type,$.knowledge_type==="template"){if(!$.template_id)throw new Error(" template ");p.template_id=$.template_id}else p.template_id=null;else if($.knowledge_type==="template"&&$.template_id!==(P.value.template_id||null)){if(!$.template_id)throw new Error(" template ");p.template_id=$.template_id}if(Object.keys(p).length===0)throw new Error("");const i=await fetch(Oe(`/knowledge-bases/${encodeURIComponent(P.value.folder_id)}`),{method:"PATCH",headers:{"Content-Type":"application/json",...x()},body:JSON.stringify(p)});let k;try{k=await i.json()}catch{throw new Error(` (HTTP ${i.status})`)}if(!i.ok){const B=k.detail||k.message||`HTTP ${i.status}`;throw new Error(B)}A.folder_id===P.value.folder_id&&(F.value=k.knowledge_base_name||k.folder_name,O.value&&O.value.folder_id===P.value.folder_id&&(O.value={...O.value,...k,folder_id:k.knowledge_base_id||k.folder_id,folder_name:k.knowledge_base_name||k.folder_name,knowledge_base_id:k.knowledge_base_id||k.folder_id,knowledge_base_name:k.knowledge_base_name||k.folder_name,session_count:k.session_count||0,total_files:k.total_files||0,total_size:k.total_size||0,submission_count:k.submission_count||0,pending_submissions:k.pending_submissions||0,approved_submissions:k.approved_submissions||0,rejected_submissions:k.rejected_submissions||0})),P.value=null,$.folder_name="",$.description="",$.selectedDepartments=r.value.length>0?[r.value[0].value]:[],$.knowledge_type="raw",$.template_id=null,await Yt(_.value.page,_.value.limit),alert("")}catch(p){console.error("Update folder error:",p),He.value=p.message}finally{D.value=!1}}},Wi=async p=>{window.confirm(` "${p.folder_name}" 

`)&&await Ji(p.folder_id)},Ji=async p=>{try{ut()}catch(i){He.value=i.message;return}T.value=!0,He.value=null;try{const i=await fetch(Oe(`/knowledge-bases/${encodeURIComponent(p)}`),{method:"DELETE",headers:{...x()}});if(!i.ok){const k=await i.json().catch(()=>({}));throw new Error(k.detail||k.message||`HTTP ${i.status}`)}A.folder_id===p&&(A.folder_id="",F.value=""),await Yt(_.value.page,_.value.limit),alert("")}catch(i){console.error("Delete folder error:",i),He.value=i.message}finally{T.value=!1}},Gi=(p=[],i=[])=>{const k=g=>[...g].map(J=>String(J)).sort(),B=k(p),le=k(i);return B.length!==le.length?!1:B.every((g,J)=>g===le[J])},as=async(p=1,i=100,k="")=>{u.value=!0,v.value=null;try{let B=a;if(k.trim()){const le=k.trim().toLowerCase();B=a.filter(g=>g.name.toLowerCase().includes(le)||g.tag.toLowerCase().includes(le)||g.description&&g.description.toLowerCase().includes(le))}r.value=B.map(le=>({label:le.name,value:String(le.id),tag:le.tag,description:le.description})),r.value.length>0&&$.selectedDepartments.length===0&&($.selectedDepartments=[r.value[0].value])}catch(B){console.error("Fetch departments error:",B),v.value=B.message}finally{u.value=!1}},Ul=async()=>{Y.value=!0;try{const p=await $l(1,100);ne.value=p.templates||[]}catch(p){console.error(":",p)}finally{Y.value=!1}},Xi=async p=>{if(!p){V.value=null,M.filled_data={};return}Y.value=!0;try{const i=await Cl(p);V.value=i,M.filled_data={},i.fields&&i.fields.forEach(k=>{M.filled_data[k.field_id]=""})}catch(i){console.error(":",i),V.value=null,M.filled_data={}}finally{Y.value=!1}},Fl=async()=>{$.knowledge_type==="template"&&ne.value.length===0&&await Ul(),$.knowledge_type==="raw"&&($.template_id=null)},Zi=p=>{const i=p.target.files[0];i&&(M.image_file=i,W.value=null,ue.value=null)},Yi=()=>{M.image_file=null,W.value=null,ue.value=null,V.value&&V.value.fields.forEach(p=>{M.filled_data[p.field_id]=""})},Qi=async()=>{if(!(!M.image_file||!V.value)){de.value=!0,ue.value=null;try{const p=await Sl(V.value.template_id,M.image_file);if(W.value=p,p.auto_filled_data&&V.value){const i={};V.value.fields.forEach(k=>{const B=k.field_name.toLowerCase().replace(/\s+/g,"_");i[B]=k.field_id,i[k.field_name.toLowerCase()]=k.field_id,i[k.field_id]=k.field_id}),Object.keys(p.auto_filled_data).forEach(k=>{let B=i[k.toLowerCase()]||i[k]||k;M.filled_data.hasOwnProperty(B)&&(!M.filled_data[B]||M.filled_data[B]==="")&&(M.filled_data[B]=p.auto_filled_data[k])})}}catch(p){ue.value=p.message||"OCR ",console.error("OCR preview error:",p)}finally{de.value=!1}}},ea=p=>p?URL.createObjectURL(p):"",Fn=p=>{if(!W.value||!W.value.auto_filled_data)return null;const i=W.value.auto_filled_data;if(i.hasOwnProperty(p.field_id))return p.field_id;const k=p.field_name.toLowerCase().replace(/\s+/g,"_");if(i.hasOwnProperty(k))return k;const B=p.field_name.toLowerCase();if(i.hasOwnProperty(B))return B;for(const le in i){const g=le.toLowerCase();if(g===k||g===B||g.includes(k)||k.includes(g))return le}return null},Ks=p=>Fn(p)!==null,ws=p=>{if(!W.value||!W.value.confidence_colors)return null;const i=Fn(p);return i?W.value.confidence_colors[i]:null},It=p=>{if(!W.value||!W.value.confidence_scores)return null;const i=Fn(p);return i?W.value.confidence_scores[i]:null},zs=p=>{if(!W.value)return"OCR ";const i=It(p),k=ws(p);return i!==void 0?`OCR  - : ${i}% (${k||""})`:"OCR "},Ws=p=>p&&{green:"confidence-high",yellow:"confidence-medium",red:"confidence-low"}[p.toLowerCase()]||"";Wt(()=>l.authToken,(p,i)=>{p&&!i&&(as(),Yt())}),Hs(()=>{Z(),setTimeout(()=>{Z(),l.authToken?(as(),Yt()):console.warn("Token not found after sync, user may need to login")},100)});const Mn=w;return(p,i)=>{var k,B,le;return d(),f("div",Md,[n("div",Dd,[n("header",Rd,[n("div",Ld,[i[33]||(i[33]=n("p",{class:"hero-eyebrow"}," /upload/v2",-1)),n("h1",null,y(we()),1),n("p",jd,y(xe()),1),j.value==="folders"?(d(),f("div",Vd,[n("div",Nd,[i[22]||(i[22]=n("span",null,"",-1)),n("strong",null,y(_.value.total||0),1)])])):j.value==="folder-detail"&&O.value?(d(),f("div",Hd,[O.value.knowledge_type==="raw"?(d(),f(ae,{key:0},[n("div",qd,[i[23]||(i[23]=n("span",null,"",-1)),n("strong",null,y(O.value.session_count||0),1)]),n("div",Bd,[i[24]||(i[24]=n("span",null,"",-1)),n("strong",null,y(O.value.total_files||0),1)]),O.value.total_size?(d(),f("div",Kd,[i[25]||(i[25]=n("span",null,"",-1)),n("strong",null,y($e(O.value.total_size)),1)])):I("",!0)],64)):(d(),f(ae,{key:1},[n("div",zd,[i[26]||(i[26]=n("span",null,"",-1)),n("strong",null,y(O.value.submission_count||0),1)]),n("div",Wd,[i[27]||(i[27]=n("span",null,"",-1)),n("strong",null,y(O.value.pending_submissions||0),1)]),n("div",Jd,[i[28]||(i[28]=n("span",null,"",-1)),n("strong",null,y(O.value.approved_submissions||0),1)]),n("div",Gd,[i[29]||(i[29]=n("span",null,"",-1)),n("strong",null,y(O.value.rejected_submissions||0),1)])],64))])):j.value==="session-detail"?(d(),f("div",Xd,[n("div",Zd,[i[30]||(i[30]=n("span",null,"ID",-1)),n("strong",null,y(oe.value||""),1)]),n("div",Yd,[i[31]||(i[31]=n("span",null,"",-1)),n("strong",null,y(((k=se.value)==null?void 0:k.files_count)||0),1)]),n("div",Qd,[i[32]||(i[32]=n("span",null,"",-1)),n("strong",null,y(_e.value?_e.value.total_chunks:0),1)])])):I("",!0)]),n("div",ec,[j.value!=="folders"?(d(),f("button",{key:0,class:"ghost-button",onClick:Ae}," ")):I("",!0),n("button",{class:"back-button",onClick:at}," ")])]),n("div",tc,[n("div",sc,[j.value==="folders"?(d(),f("div",nc,[n("section",lc,[i[58]||(i[58]=n("div",{class:"step-heading"},[n("div",null,[n("h3",null,"")])],-1)),n("div",oc,[n("label",null,[i[34]||(i[34]=n("span",null," *",-1)),ie(n("input",{"onUpdate:modelValue":i[0]||(i[0]=g=>$.folder_name=g),type:"text",placeholder:""},null,512),[[ye,$.folder_name]])]),n("label",null,[i[35]||(i[35]=n("span",null,"",-1)),ie(n("input",{"onUpdate:modelValue":i[1]||(i[1]=g=>$.description=g),type:"text",placeholder:""},null,512),[[ye,$.description]])])]),n("div",ic,[n("label",null,[n("div",ac,[i[36]||(i[36]=n("span",null," ID*",-1)),n("button",{class:"ghost-button small",onClick:as,disabled:u.value,style:{"font-size":"12px",padding:"4px 8px"}},y(u.value?"...":""),9,rc)]),i[39]||(i[39]=n("p",{class:"help-text"}," ID ",-1)),u.value?(d(),f("div",uc,[...i[37]||(i[37]=[n("span",{class:"spinner"},null,-1),n("p",null,"...",-1)])])):v.value?(d(),f("p",dc,""+y(v.value),1)):r.value.length===0?(d(),f("div",cc,[i[38]||(i[38]=n("p",null,"",-1)),n("button",{class:"ghost-button small",onClick:as,style:{"margin-top":"8px"}},"")])):(d(),f("div",fc,[(d(!0),f(ae,null,Te(r.value,g=>(d(),f("label",{key:g.value,class:"tag-option"},[ie(n("input",{type:"checkbox",value:g.value,"onUpdate:modelValue":i[2]||(i[2]=J=>$.selectedDepartments=J),disabled:b.value},null,8,pc),[[fn,$.selectedDepartments]]),n("span",null,y(g.label)+"ID: "+y(g.value)+"",1)]))),128))]))])]),n("div",vc,[n("label",null,[i[41]||(i[41]=n("span",null," *",-1)),ie(n("select",{"onUpdate:modelValue":i[3]||(i[3]=g=>$.knowledge_type=g),disabled:b.value,onChange:Fl},[...i[40]||(i[40]=[n("option",{value:"raw"},"raw",-1),n("option",{value:"template"},"template",-1)])],40,_c),[[ht,$.knowledge_type]]),i[42]||(i[42]=n("p",{class:"help-text",style:{"margin-top":"4px","font-size":"12px",color:"#6b7280"}}," rawtemplatepng, jpg, jpeg, bmp, tiff ",-1))]),$.knowledge_type==="template"?(d(),f("label",mc,[i[44]||(i[44]=n("span",null," *",-1)),ie(n("select",{"onUpdate:modelValue":i[4]||(i[4]=g=>$.template_id=g),disabled:b.value||Y.value,required:""},[i[43]||(i[43]=n("option",{value:""},"",-1)),(d(!0),f(ae,null,Te(ne.value,g=>(d(),f("option",{key:g.template_id,value:g.template_id},y(g.template_name),9,hc))),128))],8,gc),[[ht,$.template_id]]),Y.value?(d(),f("p",yc," ... ")):ne.value.length===0?(d(),f("p",bc,"  ")):I("",!0)])):I("",!0)]),n("div",wc,[n("button",{class:"primary-button",onClick:Bi,disabled:!C.value||b.value},[b.value?(d(),f("span",Cc,[...i[45]||(i[45]=[n("span",{class:"spinner"},null,-1),Q("...",-1)])])):(d(),f("span",$c,""))],8,kc)]),P.value?(d(),f("div",Sc,[i[57]||(i[57]=n("h4",null,"",-1)),n("div",Tc,[n("label",null,[i[46]||(i[46]=n("span",null," *",-1)),ie(n("input",{"onUpdate:modelValue":i[5]||(i[5]=g=>$.folder_name=g),type:"text"},null,512),[[ye,$.folder_name]])]),n("label",null,[i[47]||(i[47]=n("span",null,"",-1)),ie(n("input",{"onUpdate:modelValue":i[6]||(i[6]=g=>$.description=g),type:"text"},null,512),[[ye,$.description]])])]),n("div",xc,[n("label",null,[n("div",Ec,[i[48]||(i[48]=n("span",null," ID*",-1)),n("button",{class:"ghost-button small",onClick:as,disabled:u.value,style:{"font-size":"12px",padding:"4px 8px"}},y(u.value?"...":""),9,Oc)]),u.value?(d(),f("div",Ic,[...i[49]||(i[49]=[n("span",{class:"spinner"},null,-1),n("p",null,"...",-1)])])):v.value?(d(),f("p",Ac,""+y(v.value),1)):r.value.length===0?(d(),f("div",Pc,[i[50]||(i[50]=n("p",null,"",-1)),n("button",{class:"ghost-button small",onClick:as,style:{"margin-top":"8px"}},"")])):(d(),f("div",Uc,[(d(!0),f(ae,null,Te(r.value,g=>(d(),f("label",{key:`edit-${g.value}`,class:"tag-option"},[ie(n("input",{type:"checkbox",value:g.value,"onUpdate:modelValue":i[7]||(i[7]=J=>$.selectedDepartments=J),disabled:D.value},null,8,Fc),[[fn,$.selectedDepartments]]),n("span",null,y(g.label)+"ID: "+y(g.value)+"",1)]))),128))]))])]),n("div",Mc,[n("label",null,[i[52]||(i[52]=n("span",null," *",-1)),ie(n("select",{"onUpdate:modelValue":i[8]||(i[8]=g=>$.knowledge_type=g),disabled:D.value,onChange:Fl},[...i[51]||(i[51]=[n("option",{value:"raw"},"raw",-1),n("option",{value:"template"},"template",-1)])],40,Dc),[[ht,$.knowledge_type]]),i[53]||(i[53]=n("p",{class:"help-text",style:{"margin-top":"4px","font-size":"12px",color:"#6b7280"}}," rawtemplatepng, jpg, jpeg, bmp, tiff ",-1))]),$.knowledge_type==="template"?(d(),f("label",Rc,[i[55]||(i[55]=n("span",null," *",-1)),ie(n("select",{"onUpdate:modelValue":i[9]||(i[9]=g=>$.template_id=g),disabled:D.value||Y.value,required:""},[i[54]||(i[54]=n("option",{value:""},"",-1)),(d(!0),f(ae,null,Te(ne.value,g=>(d(),f("option",{key:g.template_id,value:g.template_id},y(g.template_name),9,jc))),128))],8,Lc),[[ht,$.template_id]]),Y.value?(d(),f("p",Vc," ... ")):ne.value.length===0?(d(),f("p",Nc,"  ")):I("",!0)])):I("",!0)]),n("div",Hc,[n("button",{class:"ghost-button",onClick:Ot,disabled:D.value},"",8,qc),n("button",{class:"primary-button",onClick:zi,disabled:D.value},[D.value?(d(),f("span",zc,[...i[56]||(i[56]=[n("span",{class:"spinner"},null,-1),Q("...",-1)])])):(d(),f("span",Kc,""))],8,Bc)])])):I("",!0)]),n("section",Wc,[n("div",Jc,[i[59]||(i[59]=n("div",null,[n("h3",null,"")],-1)),n("button",{class:"ghost-button subtle",onClick:i[10]||(i[10]=g=>Yt(_.value.page,_.value.limit)),disabled:Je.value},y(Je.value?"...":""),9,Gc)]),He.value?(d(),f("p",Xc,""+y(He.value),1)):I("",!0),Je.value?(d(),f("div",Zc,[...i[60]||(i[60]=[n("span",{class:"spinner"},null,-1),n("p",null,"...",-1)])])):lt.value.length>0?(d(),f("div",Yc,[(d(!0),f(ae,null,Te(lt.value,g=>(d(),f("div",{key:g.folder_id,class:"folder-item",onClick:J=>Re(g)},[n("div",ef,[n("code",tf,y(g.folder_id.substring(0,8))+"...",1),n("div",{class:"folder-actions",onClick:i[11]||(i[11]=Ge(()=>{},["stop"]))},[n("button",{class:"ghost-button small",onClick:Ge(J=>Ki(g),["stop"])},"",8,sf),n("button",{class:"ghost-button small danger",onClick:Ge(J=>Wi(g),["stop"]),disabled:T.value},"",8,nf)])]),n("div",lf,[n("span",null,[i[61]||(i[61]=n("strong",null,":",-1)),Q(" "+y(g.folder_name),1)]),n("span",null,[i[62]||(i[62]=n("strong",null,":",-1)),Q(" "+y(g.description||""),1)]),n("span",null,[i[63]||(i[63]=n("strong",null,":",-1)),n("span",{style:bn({color:g.knowledge_type==="template"?"#8b5cf6":"#3b82f6"})},y(g.knowledge_type==="template"?"":""),5)]),n("span",null,[i[64]||(i[64]=n("strong",null,":",-1)),Q(" "+y(qt(g.department_ids)),1)]),g.knowledge_type==="raw"?(d(),f(ae,{key:0},[n("span",null,[i[65]||(i[65]=n("strong",null,":",-1)),Q(" "+y(g.session_count||0),1)]),n("span",null,[i[66]||(i[66]=n("strong",null,":",-1)),Q(" "+y(g.total_files||0),1)]),g.total_size?(d(),f("span",of,[i[67]||(i[67]=n("strong",null,":",-1)),Q(" "+y($e(g.total_size)),1)])):I("",!0)],64)):(d(),f(ae,{key:1},[n("span",null,[i[68]||(i[68]=n("strong",null,":",-1)),Q(" "+y(g.submission_count||0),1)]),n("span",null,[i[69]||(i[69]=n("strong",null,":",-1)),Q(" "+y(g.pending_submissions||0),1)]),n("span",null,[i[70]||(i[70]=n("strong",null,":",-1)),Q(" "+y(g.approved_submissions||0),1)]),n("span",null,[i[71]||(i[71]=n("strong",null,":",-1)),Q(" "+y(g.rejected_submissions||0),1)])],64))]),n("div",af,y(Ee(g.created_at)),1)],8,Qc))),128)),_.value.total_pages>1?(d(),f("div",rf,[n("button",{class:"ghost-button",onClick:i[12]||(i[12]=g=>Al(_.value.page-1)),disabled:_.value.page<=1},"",8,uf),n("span",df," "+y(_.value.page)+" / "+y(_.value.total_pages)+"  ( "+y(_.value.total)+" )",1),n("button",{class:"ghost-button",onClick:i[13]||(i[13]=g=>Al(_.value.page+1)),disabled:_.value.page>=_.value.total_pages},"",8,cf)])):I("",!0)])):(d(),f("div",ff,[...i[72]||(i[72]=[n("p",null,"",-1)])]))])])):j.value==="folder-detail"&&O.value?(d(),f("div",pf,[n("section",vf,[n("div",_f,[n("div",null,[n("h3",null,y(O.value.folder_name),1),n("p",null,y(O.value.description||""),1)])]),n("div",mf,[O.value.knowledge_type==="raw"?(d(),f(ae,{key:0},[n("div",null,[i[73]||(i[73]=n("span",null,"",-1)),n("strong",null,y(O.value.session_count||0),1)]),n("div",null,[i[74]||(i[74]=n("span",null,"",-1)),n("strong",null,y(O.value.total_files||0),1)]),O.value.total_size?(d(),f("div",gf,[i[75]||(i[75]=n("span",null,"",-1)),n("strong",null,y($e(O.value.total_size)),1)])):I("",!0)],64)):(d(),f(ae,{key:1},[n("div",null,[i[76]||(i[76]=n("span",null,"",-1)),n("strong",null,y(O.value.submission_count||0),1)]),n("div",null,[i[77]||(i[77]=n("span",null,"",-1)),n("strong",null,y(O.value.pending_submissions||0),1)]),n("div",null,[i[78]||(i[78]=n("span",null,"",-1)),n("strong",null,y(O.value.approved_submissions||0),1)]),n("div",null,[i[79]||(i[79]=n("span",null,"",-1)),n("strong",null,y(O.value.rejected_submissions||0),1)])],64)),n("div",null,[i[80]||(i[80]=n("span",null,"",-1)),n("strong",null,y(qt(O.value.department_ids)),1)])])]),n("section",hf,[i[97]||(i[97]=n("div",{class:"step-heading"},[n("div",null,[n("h3",null,"")])],-1)),O.value&&O.value.knowledge_type==="raw"?(d(),f(ae,{key:0},[n("div",yf,[n("label",null,[i[81]||(i[81]=n("span",null," (source) *",-1)),ie(n("input",{"onUpdate:modelValue":i[14]||(i[14]=g=>A.source=g),type:"text",placeholder:""},null,512),[[ye,A.source]])]),n("label",null,[i[82]||(i[82]=n("span",null," (description) *",-1)),ie(n("input",{"onUpdate:modelValue":i[15]||(i[15]=g=>A.description=g),type:"text",placeholder:"2024 "},null,512),[[ye,A.description]])])]),n("div",bf,[n("label",null,[i[84]||(i[84]=n("span",null," (data_type) *",-1)),ie(n("select",{"onUpdate:modelValue":i[16]||(i[16]=g=>A.data_type=g),disabled:X.value},[...i[83]||(i[83]=[n("option",{value:"private"}," (Private)",-1),n("option",{value:"public"}," (Public)",-1)])],8,wf),[[ht,A.data_type]])])]),i[85]||(i[85]=n("p",{class:"help-text",style:{"margin-top":"-10px","margin-bottom":"15px"}},[n("strong",null,":"),Q("  ")],-1))],64)):I("",!0),O.value&&O.value.knowledge_type==="raw"?(d(),f("div",kf,[n("input",{type:"file",multiple:"",ref_key:"fileInput",ref:N,class:"hidden-input",accept:".pdf,.docx,.txt,.jpg,.jpeg,.png,.bmp,.tiff",onChange:On,disabled:X.value},null,40,$f),n("div",{class:"upload-box",onClick:xn},[z.value.length===0?(d(),f("div",Cf,[i[86]||(i[86]=n("p",{class:"upload-title"},"",-1)),i[87]||(i[87]=n("p",{class:"upload-hint"}," PDFDOCXTXTJPGJPEGPNGBMPTIFF",-1)),n("p",Sf," "+y(tn(Mn).MAX_FILES)+"  "+y(tn(Mn).MAX_FILE_SIZE_MB)+"MB "+y(tn(Mn).MAX_TOTAL_SIZE_MB)+"MB",1)])):(d(),f("div",Tf,[n("p",xf," "+y(z.value.length)+" ",1),i[88]||(i[88]=n("p",{class:"upload-hint"},"",-1))]))]),z.value.length>0?(d(),f("div",Ef,[(d(!0),f(ae,null,Te(z.value,(g,J)=>(d(),f("div",{key:`${g.name}-${J}`,class:"file-chip"},[n("div",null,[n("strong",null,y(g.name),1),n("small",null,y($e(g.size)),1)]),n("button",{class:"remove-file",onClick:De=>K(J)},"",8,Of)]))),128))])):I("",!0)])):I("",!0),O.value&&O.value.knowledge_type==="template"?(d(),f("div",If,[O.value.template_id?V.value?(d(),f("div",Pf,[n("div",Uf,[i[89]||(i[89]=n("label",null,"",-1)),n("p",Ff,[Q("  "+y(V.value.template_name)+" ",1),V.value.description?(d(),f("span",Mf," - "+y(V.value.description),1)):I("",!0)])]),n("div",Df,[i[90]||(i[90]=n("label",null," *",-1)),n("div",Rf,[n("input",{type:"file",accept:"image/*",onChange:Zi,disabled:X.value,id:"templateImageInput",class:"file-input"},null,40,Lf),n("label",jf,[M.image_file?(d(),f("span",Nf,[Q("  "+y(M.image_file.name)+" ",1),n("button",{type:"button",onClick:Ge(Yi,["stop"]),class:"clear-file-btn"},"")])):(d(),f("span",Vf," "))])]),M.image_file?(d(),f("div",Hf,[n("img",{src:ea(M.image_file),alt:"",class:"image-preview"},null,8,qf),n("button",{type:"button",onClick:Qi,disabled:de.value||X.value,class:"preview-ocr-btn"},[de.value?(d(),f("span",Kf," OCR ...")):(d(),f("span",zf,"  OCR "))],8,Bf)])):I("",!0),ue.value?(d(),f("div",Wf,"  "+y(ue.value),1)):I("",!0),W.value&&W.value.auto_filled_data?(d(),f("div",Jf,"  OCR  ")):I("",!0)]),n("div",Gf,[i[95]||(i[95]=n("label",null,"",-1)),n("div",Xf,[(d(!0),f(ae,null,Te(V.value.fields,(g,J)=>{var De,ks;return d(),f(ae,{key:g.field_id},[g.position==="full"||!g.position?(d(),f("div",Zf,[n("label",null,[Q(y(g.field_name)+" ",1),g.required?(d(),f("span",Yf,"*")):I("",!0),W.value&&W.value.auto_filled_data&&Ks(g)?(d(),f("span",{key:1,class:Le(["ocr-badge",Ws(ws(g))]),title:zs(g)},[i[91]||(i[91]=Q("  OCR ",-1)),It(g)?(d(),f("span",ep,y(It(g))+"% ",1)):I("",!0)],10,Qf)):I("",!0)]),ie(n("input",{type:"text","onUpdate:modelValue":wt=>M.filled_data[g.field_id]=wt,required:g.required,placeholder:`${g.field_name}`,class:"form-input",disabled:X.value},null,8,tp),[[ye,M.filled_data[g.field_id]]])])):g.position==="left"?(d(),f("div",sp,[n("div",np,[n("label",null,[Q(y(g.field_name)+" ",1),g.required?(d(),f("span",lp,"*")):I("",!0),W.value&&W.value.auto_filled_data&&Ks(g)?(d(),f("span",{key:1,class:Le(["ocr-badge",Ws(ws(g))]),title:zs(g)},[i[92]||(i[92]=Q("  OCR ",-1)),It(g)?(d(),f("span",ip,y(It(g))+"% ",1)):I("",!0)],10,op)):I("",!0)]),ie(n("input",{type:"text","onUpdate:modelValue":wt=>M.filled_data[g.field_id]=wt,required:g.required,placeholder:`${g.field_name}`,class:"form-input",disabled:X.value},null,8,ap),[[ye,M.filled_data[g.field_id]]])]),((De=V.value.fields[J+1])==null?void 0:De.position)==="right"?(d(),f("div",rp,[n("label",null,[Q(y(V.value.fields[J+1].field_name)+" ",1),V.value.fields[J+1].required?(d(),f("span",up,"*")):I("",!0),W.value&&W.value.auto_filled_data&&Ks(V.value.fields[J+1])?(d(),f("span",{key:1,class:Le(["ocr-badge",Ws(ws(V.value.fields[J+1]))]),title:zs(V.value.fields[J+1])},[i[93]||(i[93]=Q("  OCR ",-1)),It(V.value.fields[J+1])?(d(),f("span",cp,y(It(V.value.fields[J+1]))+"% ",1)):I("",!0)],10,dp)):I("",!0)]),ie(n("input",{type:"text","onUpdate:modelValue":wt=>M.filled_data[V.value.fields[J+1].field_id]=wt,required:V.value.fields[J+1].required,placeholder:`${V.value.fields[J+1].field_name}`,class:"form-input",disabled:X.value},null,8,fp),[[ye,M.filled_data[V.value.fields[J+1].field_id]]])])):(d(),f("div",pp))])):g.position==="right"&&((ks=V.value.fields[J-1])==null?void 0:ks.position)!=="left"?(d(),f("div",vp,[n("label",null,[Q(y(g.field_name)+" ",1),g.required?(d(),f("span",_p,"*")):I("",!0),W.value&&W.value.auto_filled_data&&Ks(g)?(d(),f("span",{key:1,class:Le(["ocr-badge",Ws(ws(g))]),title:zs(g)},[i[94]||(i[94]=Q("  OCR ",-1)),It(g)?(d(),f("span",gp,y(It(g))+"% ",1)):I("",!0)],10,mp)):I("",!0)]),ie(n("input",{type:"text","onUpdate:modelValue":wt=>M.filled_data[g.field_id]=wt,required:g.required,placeholder:`${g.field_name}`,class:"form-input",disabled:X.value},null,8,hp),[[ye,M.filled_data[g.field_id]]])])):I("",!0)],64)}),128))])])])):I("",!0):(d(),f("div",Af,"   "))])):I("",!0),n("div",yp,[n("button",{class:"primary-button",onClick:is,disabled:!L.value||X.value},[X.value?(d(),f("span",kp,[...i[96]||(i[96]=[n("span",{class:"spinner"},null,-1),Q("...",-1)])])):(d(),f("span",wp,""))],8,bp)]),ce.value?(d(),f("p",$p,""+y(ce.value),1)):I("",!0)]),n("section",Cp,[n("div",Sp,[i[98]||(i[98]=n("div",null,[n("h3",null,"")],-1)),n("button",{class:"ghost-button subtle",onClick:i[17]||(i[17]=g=>bs(q.value.page,q.value.limit)),disabled:R.value},y(R.value?"...":""),9,Tp)]),te.value?(d(),f("p",xp,""+y(te.value),1)):I("",!0),R.value?(d(),f("div",Ep,[...i[99]||(i[99]=[n("span",{class:"spinner"},null,-1),n("p",null,"...",-1)])])):H.value.length>0?(d(),f("div",Op,[(d(!0),f(ae,null,Te(H.value,g=>(d(),f("div",{key:g.session_id,class:"session-item",onClick:J=>Ke(g)},[n("div",Ap,[n("code",Pp,y(g.session_id.substring(0,8))+"...",1),n("span",{class:Le(["status-badge",Pn(g.status||g.submission_status)])},y(Un(g.status||g.submission_status)),3)]),n("div",Up,[n("span",null,[i[100]||(i[100]=n("strong",null,":",-1)),Q(" "+y(g.source||g.template_name||""),1)]),g.submission_status?(d(),f("span",Fp,[i[101]||(i[101]=n("strong",null,":",-1)),n("span",{class:Le(["status-badge",Pn(g.submission_status)])},y(Un(g.submission_status)),3)])):(d(),f("span",Mp,[i[102]||(i[102]=n("strong",null,":",-1)),Q(" "+y(g.files_count||0),1)])),g.submitted_by?(d(),f("span",Dp,[i[103]||(i[103]=n("strong",null,":",-1)),Q(" "+y(g.submitted_by),1)])):I("",!0)]),n("div",Rp,y(Ee(g.created_at||g.submitted_at)),1)],8,Ip))),128)),q.value.total_pages>1?(d(),f("div",Lp,[n("button",{class:"ghost-button",onClick:i[18]||(i[18]=g=>Pl(q.value.page-1)),disabled:q.value.page<=1},"",8,jp),n("span",Vp," "+y(q.value.page)+" / "+y(q.value.total_pages)+"  ( "+y(q.value.total)+" )",1),n("button",{class:"ghost-button",onClick:i[19]||(i[19]=g=>Pl(q.value.page+1)),disabled:q.value.page>=q.value.total_pages},"",8,Np)])):I("",!0)])):(d(),f("div",Hp,[...i[104]||(i[104]=[n("p",null,"",-1)])]))])])):j.value==="session-detail"?(d(),f("div",qp,[se.value?(d(),f("section",Bp,[n("div",Kp,[n("div",null,[i[105]||(i[105]=n("h3",null,"",-1)),n("p",null,"Session ID: "+y(se.value.session_id),1)]),n("div",zp,[n("button",{class:"ghost-button",onClick:An,disabled:!oe.value||ze.value},y(ze.value?"...":""),9,Wp),n("button",{class:"ghost-button danger",onClick:Di,disabled:!oe.value||We.value},y(We.value?"...":""),9,Jp)])]),n("div",Gp,[n("div",null,[i[106]||(i[106]=n("span",null,"",-1)),n("span",{class:Le(["status-badge",Pn(se.value.session_status||se.value.status)])},y(Un(se.value.session_status||se.value.status)),3)]),n("div",null,[i[107]||(i[107]=n("span",null,"",-1)),n("strong",null,y(se.value.source),1)]),n("div",null,[i[108]||(i[108]=n("span",null,"",-1)),n("strong",null,y(se.value.description),1)]),n("div",null,[i[109]||(i[109]=n("span",null,"",-1)),n("strong",null,y(se.value.files_count||((B=se.value.files)==null?void 0:B.length)||0),1)]),se.value.data_type?(d(),f("div",Xp,[i[110]||(i[110]=n("span",null,"",-1)),n("strong",null,y(se.value.data_type==="public"?"":""),1)])):I("",!0),se.value.user_id?(d(),f("div",Zp,[i[111]||(i[111]=n("span",null,"ID",-1)),n("strong",null,y(se.value.user_id),1)])):I("",!0),se.value.folder_id?(d(),f("div",Yp,[i[112]||(i[112]=n("span",null,"ID",-1)),n("strong",null,y(se.value.folder_id.substring(0,8))+"...",1)])):I("",!0),se.value.batch_id?(d(),f("div",Qp,[i[113]||(i[113]=n("span",null,"ID",-1)),n("strong",null,y(se.value.batch_id.substring(0,8))+"...",1)])):I("",!0),se.value.department_ids?(d(),f("div",ev,[i[114]||(i[114]=n("span",null,"",-1)),n("strong",null,y(qt(se.value.department_ids)),1)])):I("",!0),se.value.created_at?(d(),f("div",tv,[i[115]||(i[115]=n("span",null,"",-1)),n("strong",null,y(Ee(se.value.created_at)),1)])):I("",!0),se.value.updated_at?(d(),f("div",sv,[i[116]||(i[116]=n("span",null,"",-1)),n("strong",null,y(Ee(se.value.updated_at)),1)])):I("",!0)]),(le=se.value.files)!=null&&le.length?(d(),f("div",nv,[i[117]||(i[117]=n("div",{class:"files-header"},[n("span",null,""),n("span",null,""),n("span",null,""),n("span",null,"")],-1)),(d(!0),f(ae,null,Te(se.value.files,g=>(d(),f("div",{key:g.filename,class:"files-row"},[n("span",null,y(g.filename),1),n("span",null,y(g.file_type),1),n("span",null,y($e(g.size)),1),n("span",null,y(Ee(g.upload_time)),1)]))),128))])):I("",!0)])):I("",!0),n("section",lv,[n("div",ov,[i[120]||(i[120]=n("div",null,[n("h3",null,"")],-1)),n("div",iv,[n("button",{class:"ghost-button",onClick:xl,disabled:!G.value||Xe.value},[Xe.value?(d(),f("span",uv,[...i[118]||(i[118]=[n("span",{class:"spinner"},null,-1),Q("...",-1)])])):(d(),f("span",rv,""))],8,av),_e.value?(d(),f("button",{key:0,class:"ghost-button",onClick:Ri,disabled:Me.value},y(Fe.value?"":""),9,dv)):I("",!0),oe.value&&!Fe.value?(d(),f("button",{key:1,class:"ghost-button",onClick:Il,disabled:Me.value},y(Be.value?"":""),9,cv)):I("",!0),Fe.value&&_e.value||oe.value&&Be.value?(d(),f("button",{key:2,class:"primary-button",onClick:Hi,disabled:Me.value},[Me.value?(d(),f("span",vv,[...i[119]||(i[119]=[n("span",{class:"spinner"},null,-1),Q("...",-1)])])):(d(),f("span",pv,""))],8,fv)):I("",!0)])]),ee.value?(d(),f("p",_v,""+y(ee.value),1)):I("",!0),je.value?(d(),f("p",mv,""+y(je.value),1)):I("",!0),oe.value&&(Fe.value||Be.value||_e.value)?(d(),f("div",gv,[n("div",hv,[i[121]||(i[121]=n("h4",null,"",-1)),n("button",{class:"ghost-button subtle",onClick:Il},y(Be.value?"":""),1)]),Be.value?(d(),f("div",yv,[n("div",bv,[n("label",null,[i[122]||(i[122]=n("span",null," (source)",-1)),ie(n("input",{"onUpdate:modelValue":i[20]||(i[20]=g=>be.source=g),type:"text",placeholder:""},null,512),[[ye,be.source]])]),n("label",null,[i[123]||(i[123]=n("span",null," (description)",-1)),ie(n("input",{"onUpdate:modelValue":i[21]||(i[21]=g=>be.description=g),type:"text",placeholder:""},null,512),[[ye,be.description]])])]),i[124]||(i[124]=n("p",{class:"help-text",style:{"margin-top":"10px",color:"#64748b"}},[n("strong",null,":"),Q("  ")],-1))])):I("",!0)])):I("",!0),Xe.value?(d(),f("div",wv,[...i[125]||(i[125]=[n("span",{class:"spinner"},null,-1),n("p",null,"...",-1)])])):I("",!0),_e.value?(d(),f("div",kv,[n("div",$v,[n("div",null,[i[126]||(i[126]=n("span",null,"",-1)),n("strong",null,y(_e.value.total_files),1)]),n("div",null,[i[127]||(i[127]=n("span",null,"",-1)),n("strong",null,y(_e.value.total_chunks),1)]),n("div",null,[i[128]||(i[128]=n("span",null,"",-1)),n("strong",null,y(_e.value.source),1)]),n("div",null,[i[129]||(i[129]=n("span",null,"",-1)),n("strong",null,y(qt(_e.value.department_ids||_e.value.department)),1)])]),n("div",Cv,[(d(!0),f(ae,null,Te(_e.value.files,g=>{var J,De,ks,wt;return d(),f("div",{key:g.file_id||g.filename,class:"preview-file"},[n("div",Sv,[n("div",null,[n("h4",null,y(g.filename),1),n("p",null,y((J=g.file_type)==null?void 0:J.toUpperCase())+"  "+y(g.total_chunks)+" ",1)]),g.file_base64||g.image_base64?(d(),f("span",Tv,"")):I("",!0)]),g.file_base64&&((De=g.file_type)==null?void 0:De.toLowerCase())==="pdf"?(d(),f("div",xv,[n("iframe",{src:`data:application/pdf;base64,${g.file_base64}`,type:"application/pdf",class:"pdf-viewer",title:"PDF Preview"},null,8,Ev)])):(g.file_base64||g.image_base64)&&["jpg","jpeg","png","bmp","tiff"].includes((ks=g.file_type)==null?void 0:ks.toLowerCase())?(d(),f("div",Ov,[n("img",{src:`data:image/${g.file_type||"jpeg"};base64,${g.file_base64||g.image_base64}`,alt:"Image preview"},null,8,Iv)])):["docx","txt"].includes((wt=g.file_type)==null?void 0:wt.toLowerCase())&&g.original_content?(d(),f("div",Av,[i[130]||(i[130]=n("strong",null,"",-1)),n("pre",Pv,y(g.original_content),1)])):g.original_content&&!g.file_base64&&!g.image_base64?(d(),f("div",Uv,[i[131]||(i[131]=n("strong",null,"",-1)),n("pre",Fv,y(hs(g.original_content,800)),1)])):I("",!0),n("div",Mv,[Fe.value?(d(),f(ae,{key:0},[me.value[g.file_id]&&me.value[g.file_id].length>0?(d(),f("div",Dv,[(d(!0),f(ae,null,Te(me.value[g.file_id],(At,Pt)=>(d(),f("div",{key:`${g.file_id}-edit-${Pt}`,class:"chunk-card editing"},[n("div",Rv,[Q("  "+y(Pt+1)+"  "+y(At.length)+"  ",1),n("div",Lv,[n("button",{class:"chunk-action-btn",onClick:Js=>Li(g.file_id,Pt),title:""},"",8,jv),n("button",{class:"chunk-action-btn",onClick:Js=>ji(g.file_id,Pt),disabled:Pt===me.value[g.file_id].length-1,title:""},"",8,Vv),n("button",{class:"chunk-action-btn danger",onClick:Js=>Vi(g.file_id,Pt),title:""},"",8,Nv)])]),ie(n("textarea",{"onUpdate:modelValue":Js=>me.value[g.file_id][Pt]=Js,class:"chunk-textarea",rows:Math.min(10,Math.ceil(At.length/50))},null,8,Hv),[[ye,me.value[g.file_id][Pt]]])]))),128))])):(d(),f("div",qv,[...i[132]||(i[132]=[n("p",null,"",-1)])])),n("div",Bv,[n("button",{class:"add-chunk-btn",onClick:At=>Ni(g.file_id)},"+ ",8,Kv)])],64)):(d(!0),f(ae,{key:1},Te(g.chunks,(At,Pt)=>(d(),f("div",{key:`${g.file_id}-${At.chunk_id}`,class:"chunk-card"},[n("div",zv," "+y(At.chunk_id)+"  "+y(At.chunk_size)+" ",1),n("pre",Wv,y(At.description||At.text),1)]))),128))])])}),128))])])):I("",!0)]),n("section",Jv,[n("div",Gv,[i[134]||(i[134]=n("div",null,[n("h3",null,"")],-1)),n("button",{class:"primary-button",onClick:qi,disabled:!he.value||ge.value},[ge.value?(d(),f("span",Yv,[...i[133]||(i[133]=[n("span",{class:"spinner"},null,-1),Q("...",-1)])])):(d(),f("span",Zv,""))],8,Xv)]),ke.value?(d(),f("p",Qv,""+y(ke.value),1)):I("",!0),fe.value?(d(),f("div",e_,[i[139]||(i[139]=n("h4",null,"",-1)),n("p",null,[i[135]||(i[135]=n("strong",null,"Batch ID:",-1)),Q(" "+y(fe.value.batch_id),1)]),n("p",null,[i[136]||(i[136]=n("strong",null,"Session ID:",-1)),Q(" "+y(fe.value.session_id),1)]),n("p",null,[i[137]||(i[137]=n("strong",null,":",-1)),Q(" "+y(fe.value.indexed_chunks),1)]),n("p",null,[i[138]||(i[138]=n("strong",null,":",-1)),Q(" "+y(fe.value.message),1)])])):I("",!0)])])):I("",!0)])])])])}}},s_=Bs(t_,[["__scopeId","data-v-920fec9e"]]),n_={class:"template-management"},l_={class:"template-header"},o_={class:"header-content"},i_={class:"header-actions"},a_={class:"tabs"},r_={class:"template-content"},u_={key:0,class:"templates-section"},d_={key:0,class:"loading"},c_={key:1,class:"error"},f_={key:2,class:"empty"},p_={key:0,class:"empty-hint"},v_={key:1,class:"empty-hint"},__={key:3,class:"templates-grid"},m_={class:"template-header-card"},g_={key:0,class:"template-actions"},h_=["onClick"],y_=["onClick"],b_={key:0,class:"template-description"},w_={class:"template-fields"},k_={key:0,class:"required"},$_={class:"template-footer"},C_=["onClick"],S_={class:"template-date"},T_={key:4,class:"pagination"},x_=["disabled"],E_=["disabled"],O_={key:1,class:"submissions-section"},I_={class:"submissions-filters"},A_=["value"],P_={key:0,class:"loading"},U_={key:1,class:"error"},F_={key:2,class:"empty"},M_={key:3,class:"submissions-list"},D_={class:"submission-header"},R_={class:"submission-info"},L_={key:0},j_={key:1},V_={class:"submission-actions"},N_=["onClick"],H_=["onClick"],q_={key:4,class:"pagination"},B_=["disabled"],K_=["disabled"],z_={class:"form-group"},W_={class:"form-group"},J_={class:"form-group"},G_={class:"form-group"},X_={class:"fields-editor"},Z_={class:"field-row"},Y_=["onUpdate:modelValue"],Q_=["onUpdate:modelValue"],em={class:"field-required"},tm=["onUpdate:modelValue"],sm={class:"field-row"},nm=["onUpdate:modelValue"],lm=["onClick"],om={class:"form-group"},im={class:"layout-preview"},am={key:0,class:"preview-field preview-full"},rm={class:"preview-label"},um={key:0,class:"preview-required"},dm={key:1,class:"preview-row"},cm={class:"preview-field preview-left"},fm={class:"preview-label"},pm={key:0,class:"preview-required"},vm={key:0,class:"preview-field preview-right"},_m={class:"preview-label"},mm={key:0,class:"preview-required"},gm={key:1,class:"preview-spacer"},hm={key:2,class:"preview-field preview-full"},ym={class:"preview-label"},bm={key:0,class:"preview-required"},wm={class:"form-actions"},km=["disabled"],$m={class:"form-group"},Cm=["value"],Sm={class:"form-group"},Tm={class:"file-upload-area"},xm={for:"imageFileInput",class:"file-upload-label"},Em={key:0},Om={key:1,class:"file-selected"},Im={key:0,class:"image-preview-area"},Am=["src"],Pm=["disabled"],Um={key:0},Fm={key:1},Mm={key:1,class:"ocr-error"},Dm={key:2,class:"ocr-success"},Rm={key:0,class:"confidence-summary"},Lm={class:"form-group"},jm={class:"fields-input"},Vm={key:0,class:"field-input field-full"},Nm={key:0,class:"required"},Hm=["title"],qm={key:0,class:"confidence-score"},Bm=["onUpdate:modelValue","required","placeholder"],Km={key:1,class:"field-row-layout"},zm={class:"field-input field-left"},Wm={key:0,class:"required"},Jm=["title"],Gm={key:0,class:"confidence-score"},Xm=["onUpdate:modelValue","required","placeholder"],Zm={key:0,class:"field-input field-right"},Ym={key:0,class:"required"},Qm=["title"],eg={key:0,class:"confidence-score"},tg=["onUpdate:modelValue","required","placeholder"],sg={key:1,class:"field-spacer"},ng={key:2,class:"field-input field-full"},lg={key:0,class:"required"},og=["title"],ig={key:0,class:"confidence-score"},ag=["type","onUpdate:modelValue","required","placeholder","pattern"],rg=["onUpdate:modelValue","required"],ug=["value"],dg={class:"form-actions"},cg=["disabled"],fg={key:0},pg={key:1},vg={class:"submission-detail"},_g={class:"detail-section"},mg={key:0},gg={key:1},hg={key:2},yg={class:"detail-section"},bg={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"12px"}},wg=["disabled"],kg={key:0},$g={key:1},Cg={key:0,class:"loading-image"},Sg=["src"],Tg=["src"],xg={key:3,class:"image-error"},Eg={class:"detail-section"},Og={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"12px"}},Ig={class:"filled-data"},Ag={key:0,class:"detail-section"},Pg={class:"filled-data"},Ug={class:"data-item-header"},Fg={class:"data-item-value"},Mg={class:"form-actions"},Dg={class:"form-group"},Rg={class:"radio-group"},Lg={key:0,class:"form-group"},jg={class:"form-actions"},Vg=["disabled"],Ng={class:"form-group"},Hg={class:"fields-input"},qg={key:0,class:"required"},Bg=["onUpdate:modelValue","required","placeholder"],Kg={class:"form-actions"},zg=["disabled"],Wg={key:0},Jg={key:1},Gg={__name:"TemplateManagement",emits:["navigate"],setup(e,{emit:t}){const s=t,l=U("employee"),o=U(""),a=U(""),r=U("templates"),u=U([]),v=U(!1),w=U(null),m=U({page:1,limit:20,total:0,total_pages:0}),S=U([]),A=U(!1),$=U(null),z=U({page:1,limit:20,total:0,total_pages:0}),N=Ye({status:"",template_id:""}),ne=U(!1),Y=U(null),V=U(null),M=U(null),W=U(null),ue=U(null),de=Ye({template_name:"",description:"",report_prompt:"",fields:[{field_name:"",required:!1,position:"left",description:""}]}),X=Ye({knowledge_base_id:"",image_file:null,filled_data:{}}),se=U([]),oe=Ye({approve:!0,reason:""}),ce=Ye({filled_data:{}}),Ve=U(!1),ze=U(!1),We=U(!1),_e=U(!1),Xe=U(!1),ee=U(null),fe=U(null),ge=U(!1),ke=U(null),Fe=U(!1);Hs(()=>{var c,h,K;const E=localStorage.getItem("authData");if(E)try{const pe=JSON.parse(E);l.value=((c=pe.user)==null?void 0:c.role)||"employee",o.value=((h=pe.user)==null?void 0:h.id)||"",a.value=((K=pe.user)==null?void 0:K.username)||""}catch(pe){console.warn("Failed to parse authData",pe)}Me(),je(),me()});const me=async()=>{try{const E=await xi(1,100);se.value=E.knowledge_bases||[]}catch(E){console.error(":",E)}},Me=async(E=1)=>{v.value=!0,w.value=null;try{const c=await $l(E,20);u.value=c.templates||[],m.value=c.pagination||{page:1,limit:20,total:0,total_pages:0}}catch(c){w.value=c.message||""}finally{v.value=!1}},je=async(E=1)=>{A.value=!0,$.value=null;try{const c={page:E,limit:20};N.status&&(c.status=N.status),N.template_id&&(c.template_id=N.template_id);const h=await Ai(c);S.value=h.submissions||[],z.value=h.pagination||{page:1,limit:20,total:0,total_pages:0}}catch(c){$.value=c.message||""}finally{A.value=!1}},Be=async()=>{Ve.value=!0;try{const E=de.fields.map(c=>{const h={field_name:c.field_name,required:c.required||!1};return c.position&&(h.position=c.position),c.description&&(h.description=c.description),h});Y.value?await Oi(Y.value.template_id,{template_name:de.template_name,description:de.description||null,report_prompt:de.report_prompt||null,fields:E}):await Ei(de.template_name,E,de.description||null,de.report_prompt||null),pt(),Me()}catch(E){alert(E.message||"")}finally{Ve.value=!1}},be=async E=>{if(confirm(`"${E.template_name}"`))try{await Ii(E.template_id),Me()}catch(c){alert(c.message||"")}},gt=E=>{Y.value=E,de.template_name=E.template_name,de.description=E.description||"",de.report_prompt=E.report_prompt||"",de.fields=E.fields.map(c=>({field_name:c.field_name||"",required:c.required||!1,position:c.position||"left",description:c.description||""})),ne.value=!0},pt=()=>{ne.value=!1,Y.value=null,de.template_name="",de.description="",de.report_prompt="",de.fields=[{field_name:"",required:!1,position:"left",description:""}]},Et=()=>{de.fields.push({field_name:"",required:!1,position:"left",description:""})},lt=E=>{de.fields.splice(E,1)},Je=E=>{V.value=E,X.knowledge_base_id="",X.filled_data={},X.image_file=null,ee.value=null,fe.value=null,E.fields.forEach(c=>{X.filled_data[c.field_id]=""})},He=async()=>{if(!(!X.image_file||!V.value)){Xe.value=!0,fe.value=null;try{const E=await Sl(V.value.template_id,X.image_file);if(ee.value=E,E.auto_filled_data&&V.value){const c={};V.value.fields.forEach(h=>{const K=h.field_name.toLowerCase().replace(/\s+/g,"_");c[K]=h.field_id,c[h.field_name.toLowerCase()]=h.field_id,c[h.field_id]=h.field_id}),Object.keys(E.auto_filled_data).forEach(h=>{let K=c[h.toLowerCase()]||c[h]||h;X.filled_data.hasOwnProperty(K)&&(!X.filled_data[K]||X.filled_data[K]==="")&&(X.filled_data[K]=E.auto_filled_data[h])})}}catch(E){fe.value=E.message||"OCR ",console.error("OCR preview error:",E)}finally{Xe.value=!1}}},_=async()=>{if(!X.knowledge_base_id){alert("");return}if(!X.image_file){alert("");return}const E=V.value.fields.filter(c=>c.required&&!X.filled_data[c.field_id]).map(c=>c.field_name);if(E.length>0){alert(`${E.join("")}`);return}ze.value=!0;try{await Tl(V.value.template_id,X.knowledge_base_id,X.image_file,X.filled_data),T(),alert(""),je()}catch(c){alert(c.message||"")}finally{ze.value=!1}},b=()=>{X.image_file=null,ee.value=null,fe.value=null,V.value.fields.forEach(E=>{X.filled_data[E.field_id]=""})},T=()=>{V.value=null,X.knowledge_base_id="",X.filled_data={},X.image_file=null,ee.value=null,fe.value=null},D=async E=>{if(!E||!E.submission_id){ke.value=null;return}ke.value&&(URL.revokeObjectURL(ke.value),ke.value=null),Fe.value=!0;try{try{const c=await pn(E.submission_id);if(c&&c.file_base64&&c.mime_type){ke.value=`data:${c.mime_type};base64,${c.file_base64}`;return}}catch(c){console.warn("JSON API  API:",c)}if(E.knowledge_base_id){const c=Oe(`/knowledge-bases/${encodeURIComponent(E.knowledge_base_id)}/template-submissions/${encodeURIComponent(E.submission_id)}/file`),h=js();if(!h.Authorization)throw new Error("");const K=await fetch(c,{method:"GET",headers:{...h}});if(!K.ok)throw new Error(` (HTTP ${K.status})`);const pe=await K.blob();ke.value=URL.createObjectURL(pe)}else if(E.image_file_url){const c=On(E.image_file_url),h=js();if(h.Authorization){const K=await fetch(c,{method:"GET",headers:{...h}});if(!K.ok)throw new Error(` (HTTP ${K.status})`);const pe=await K.blob();ke.value=URL.createObjectURL(pe)}else ke.value=c}else throw new Error("")}catch(c){console.error(":",c),ke.value=null}finally{Fe.value=!1}},F=async E=>{try{const c=await ol(E.submission_id);M.value=c,await D(c)}catch(c){alert(c.message||"")}},P=()=>{ke.value&&(URL.revokeObjectURL(ke.value),ke.value=null),M.value=null},j=()=>{M.value&&M.value.submission_id&&D(M.value)},O=async E=>{if(!E||!E.submission_id){alert("");return}ge.value=!0;try{let c,h=`submission_${E.submission_id.substring(0,8)}.png`;try{const $e=await pn(E.submission_id);if($e&&$e.file_base64&&$e.mime_type){const Ee=$e.file_base64,hs=$e.mime_type,qt=atob(Ee),ys=new Array(qt.length);for(let is=0;is<qt.length;is++)ys[is]=qt.charCodeAt(is);const ut=new Uint8Array(ys);c=new Blob([ut],{type:hs}),$e.filename?h=$e.filename:$e.file_type&&(h=`submission_${E.submission_id.substring(0,8)}.${$e.file_type}`)}else throw new Error("")}catch($e){if(console.warn("JSON API  API:",$e),E.knowledge_base_id)try{c=await Fi(E.knowledge_base_id,E.submission_id)}catch(hs){console.warn(" API :",hs),c=await vn(E.submission_id)}else c=await vn(E.submission_id);let Ee="png";c.type&&(c.type.includes("png")?Ee="png":c.type.includes("jpeg")||c.type.includes("jpg")?Ee="jpg":c.type.includes("bmp")?Ee="bmp":c.type.includes("tiff")&&(Ee="tiff")),h=`submission_${E.submission_id.substring(0,8)}.${Ee}`}const K=window.URL.createObjectURL(c),pe=document.createElement("a");pe.href=K,pe.download=h,document.body.appendChild(pe),pe.click(),document.body.removeChild(pe),window.URL.revokeObjectURL(K),alert("")}catch(c){console.error(":",c),alert(c.message||"")}finally{ge.value=!1}},H=E=>{W.value=E,oe.approve=!0,oe.reason=""},R=async()=>{if(!oe.approve&&!oe.reason){alert("");return}We.value=!0;try{await Ui(W.value.submission_id,oe.approve,oe.reason||null),te(),alert(""),je(),M.value&&F(W.value)}catch(E){alert(E.message||"")}finally{We.value=!1}},te=()=>{W.value=null,oe.approve=!0,oe.reason=""},q=async E=>{try{let c=E;(!E.filled_data||Object.keys(E.filled_data).length===0)&&(c=await ol(E.submission_id)),ue.value=c,ce.filled_data=JSON.parse(JSON.stringify(c.filled_data||{}))}catch(c){alert(c.message||"")}},Z=async()=>{if(ue.value){if(ue.value.template_id)try{const E=await Cl(ue.value.template_id);if(E&&E.fields){const c=E.fields.filter(h=>h.required&&!ce.filled_data[h.field_id]).map(h=>h.field_name||h.field_id);if(c.length>0){alert(`${c.join("")}`);return}}}catch(E){console.warn(":",E.message)}_e.value=!0;try{const E=ue.value.submission_id,c=await Pi(E,ce.filled_data);alert(""),je(),M.value&&M.value.submission_id===E&&(M.value=c,await D(c)),x()}catch(E){alert(E.message||"")}finally{_e.value=!1}}},x=()=>{ue.value=null,ce.filled_data={}},C=E=>{if(ue.value){if(ue.value.fields){const c=ue.value.fields.find(h=>h.field_id===E);return(c==null?void 0:c.required)||!1}if(ue.value.template&&ue.value.template.fields){const c=ue.value.template.fields.find(h=>h.field_id===E);return(c==null?void 0:c.required)||!1}}return!1},L=E=>E?new Date(E).toLocaleString("zh-CN"):"",G=E=>({pending:"",approved:"",rejected:""})[E]||E,he=E=>(l.value==="admin"||l.value==="manager")&&E.submission_status==="pending",we=E=>!(!E||E.submission_status!=="pending"),xe=E=>({text:"text",number:"number",date:"date",email:"email",phone:"tel"})[E]||"text",Ae=E=>E&&{green:"confidence-high",yellow:"confidence-medium",red:"confidence-low"}[E.toLowerCase()]||"",at=E=>{if(!V.value||!V.value.fields)return E;const c=V.value.fields.find(h=>h.field_id===E);return c?c.field_name:E},rt=E=>{if(!ee.value||!ee.value.auto_filled_data)return null;const c=ee.value.auto_filled_data;if(c.hasOwnProperty(E.field_id))return E.field_id;const h=E.field_name.toLowerCase().replace(/\s+/g,"_");if(c.hasOwnProperty(h))return h;const K=E.field_name.toLowerCase();if(c.hasOwnProperty(K))return K;for(const pe in c){const $e=pe.toLowerCase();if($e===h||$e===K||$e.includes(h)||h.includes($e))return pe}return null},Re=E=>rt(E)!==null,qe=E=>{if(!ee.value||!ee.value.confidence_colors)return null;const c=rt(E);return c?ee.value.confidence_colors[c]:null},Ke=E=>{if(!ee.value||!ee.value.confidence_scores)return null;const c=rt(E);return c?ee.value.confidence_scores[c]:null},Ot=E=>{if(!ee.value)return"OCR ";const c=Ke(E),h=qe(E);return c!==void 0?`OCR  - : ${c}% (${h||""})`:"OCR "},xn=E=>{const c=E.target.files[0];c&&(X.image_file=c,ee.value=null,fe.value=null)},En=E=>E?URL.createObjectURL(E):"",On=E=>{if(!E)return"";if(E.startsWith("http"))return E;const c=localStorage.getItem("chatConfig");let h="https://travesti-scott-specialty-achieving.trycloudflare.com";if(c)try{h=JSON.parse(c).baseUrl||h}catch(K){console.warn("Failed to parse chatConfig",K)}return E.startsWith("/")?`${h}${E}`:`${h}/api${E}`},In=()=>{s("navigate","chat")};return(E,c)=>(d(),f("div",n_,[n("div",l_,[n("div",o_,[c[27]||(c[27]=n("h1",null,"",-1)),n("div",i_,[l.value==="admin"?(d(),f("button",{key:0,class:"create-btn",onClick:c[0]||(c[0]=h=>ne.value=!0)}," +  ")):I("",!0),n("button",{class:"back-btn",onClick:In}," ")])]),n("div",a_,[n("button",{class:Le(["tab",{active:r.value==="templates"}]),onClick:c[1]||(c[1]=h=>r.value="templates")},"  ",2),n("button",{class:Le(["tab",{active:r.value==="submissions"}]),onClick:c[2]||(c[2]=h=>r.value="submissions")},"  ",2)])]),n("div",r_,[r.value==="templates"?(d(),f("div",u_,[v.value?(d(),f("div",d_,"...")):w.value?(d(),f("div",c_,y(w.value),1)):u.value.length===0?(d(),f("div",f_,[c[28]||(c[28]=n("div",{class:"empty-icon"},"",-1)),c[29]||(c[29]=n("p",{class:"empty-title"},"",-1)),l.value==="admin"?(d(),f("p",p_,'""')):(d(),f("p",v_,""))])):(d(),f("div",__,[(d(!0),f(ae,null,Te(u.value,h=>(d(),f("div",{key:h.template_id,class:"template-card"},[n("div",m_,[n("h3",null,y(h.template_name),1),l.value==="admin"?(d(),f("div",g_,[n("button",{class:"icon-btn",onClick:K=>gt(h),title:""},"",8,h_),n("button",{class:"icon-btn",onClick:K=>be(h),title:""},"",8,y_)])):I("",!0)]),h.description?(d(),f("p",b_,y(h.description),1)):I("",!0),n("div",w_,[(d(!0),f(ae,null,Te(h.fields,K=>(d(),f("div",{key:K.field_id,class:"field-tag"},[n("span",null,y(K.field_name),1),n("span",{class:Le(["field-position-badge",`position-${K.position||"full"}`])},y(K.position==="left"?"":K.position==="right"?"":""),3),K.required?(d(),f("span",k_,"*")):I("",!0)]))),128))]),n("div",$_,[n("button",{class:"submit-btn",onClick:K=>Je(h)},"",8,C_),n("span",S_,y(L(h.created_at)),1)])]))),128))])),m.value.total_pages>1?(d(),f("div",T_,[n("button",{disabled:m.value.page===1,onClick:c[3]||(c[3]=h=>Me(m.value.page-1))},"  ",8,x_),n("span",null," "+y(m.value.page)+" / "+y(m.value.total_pages)+" ",1),n("button",{disabled:m.value.page>=m.value.total_pages,onClick:c[4]||(c[4]=h=>Me(m.value.page+1))},"  ",8,E_)])):I("",!0)])):I("",!0),r.value==="submissions"?(d(),f("div",O_,[n("div",I_,[ie(n("select",{"onUpdate:modelValue":c[5]||(c[5]=h=>N.status=h),onChange:c[6]||(c[6]=h=>je(1))},[...c[30]||(c[30]=[n("option",{value:""},"",-1),n("option",{value:"pending"},"",-1),n("option",{value:"approved"},"",-1),n("option",{value:"rejected"},"",-1)])],544),[[ht,N.status]]),ie(n("select",{"onUpdate:modelValue":c[7]||(c[7]=h=>N.template_id=h),onChange:c[8]||(c[8]=h=>je(1))},[c[31]||(c[31]=n("option",{value:""},"",-1)),(d(!0),f(ae,null,Te(u.value,h=>(d(),f("option",{key:h.template_id,value:h.template_id},y(h.template_name),9,A_))),128))],544),[[ht,N.template_id]])]),A.value?(d(),f("div",P_,"...")):$.value?(d(),f("div",U_,y($.value),1)):S.value.length===0?(d(),f("div",F_,[...c[32]||(c[32]=[n("div",{class:"empty-icon"},"",-1),n("p",{class:"empty-title"},"",-1),n("p",{class:"empty-hint"},"",-1)])])):(d(),f("div",M_,[(d(!0),f(ae,null,Te(S.value,h=>(d(),f("div",{key:h.submission_id,class:"submission-card"},[n("div",D_,[n("h3",null,y(h.template_name),1),n("span",{class:Le(["status-badge",h.submission_status])},y(G(h.submission_status)),3)]),n("div",R_,[n("p",null,[c[33]||(c[33]=n("strong",null,":",-1)),Q(" "+y(h.submitted_by),1)]),n("p",null,[c[34]||(c[34]=n("strong",null,":",-1)),Q(" "+y(L(h.submitted_at)),1)]),h.approved_by?(d(),f("p",L_,[n("strong",null,y(h.submission_status==="approved"?"":"")+":",1),Q(" "+y(h.approved_by),1)])):I("",!0),h.rejection_reason?(d(),f("p",j_,[c[35]||(c[35]=n("strong",null,":",-1)),Q(" "+y(h.rejection_reason),1)])):I("",!0)]),n("div",V_,[n("button",{class:"view-btn",onClick:K=>F(h)},"",8,N_),he(h)?(d(),f("button",{key:0,class:"approve-btn",onClick:K=>H(h)},"  ",8,H_)):I("",!0)])]))),128))])),z.value.total_pages>1?(d(),f("div",q_,[n("button",{disabled:z.value.page===1,onClick:c[9]||(c[9]=h=>je(z.value.page-1))},"  ",8,B_),n("span",null," "+y(z.value.page)+" / "+y(z.value.total_pages)+" ",1),n("button",{disabled:z.value.page>=z.value.total_pages,onClick:c[10]||(c[10]=h=>je(z.value.page+1))},"  ",8,K_)])):I("",!0)])):I("",!0)]),ne.value||Y.value?(d(),f("div",{key:0,class:"modal-overlay",onClick:pt},[n("div",{class:"modal-content",onClick:c[14]||(c[14]=Ge(()=>{},["stop"]))},[n("h2",null,y(Y.value?"":""),1),n("form",{onSubmit:Ge(Be,["prevent"])},[n("div",z_,[c[36]||(c[36]=n("label",null," *",-1)),ie(n("input",{"onUpdate:modelValue":c[11]||(c[11]=h=>de.template_name=h),required:""},null,512),[[ye,de.template_name]])]),n("div",W_,[c[37]||(c[37]=n("label",null,"",-1)),ie(n("textarea",{"onUpdate:modelValue":c[12]||(c[12]=h=>de.description=h),rows:"3"},null,512),[[ye,de.description]])]),n("div",J_,[c[38]||(c[38]=n("label",null,"",-1)),ie(n("textarea",{"onUpdate:modelValue":c[13]||(c[13]=h=>de.report_prompt=h),rows:"4",placeholder:"AI"},null,512),[[ye,de.report_prompt]]),c[39]||(c[39]=n("small",{class:"form-hint"},"AI",-1))]),n("div",G_,[c[42]||(c[42]=n("label",null," *",-1)),n("div",X_,[(d(!0),f(ae,null,Te(de.fields,(h,K)=>(d(),f("div",{key:K,class:"field-item"},[n("div",Z_,[ie(n("input",{"onUpdate:modelValue":pe=>h.field_name=pe,placeholder:" *",class:"field-name",required:""},null,8,Y_),[[ye,h.field_name]]),ie(n("select",{"onUpdate:modelValue":pe=>h.position=pe,class:"field-position",required:""},[...c[40]||(c[40]=[n("option",{value:""}," *",-1),n("option",{value:"left"}," (50%) - ",-1),n("option",{value:"right"}," (50%) - ",-1),n("option",{value:"full"}," (100%) - ",-1)])],8,Q_),[[ht,h.position]]),n("label",em,[ie(n("input",{type:"checkbox","onUpdate:modelValue":pe=>h.required=pe},null,8,tm),[[fn,h.required]]),c[41]||(c[41]=Q("  ",-1))])]),n("div",sm,[ie(n("textarea",{"onUpdate:modelValue":pe=>h.description=pe,placeholder:"AI",class:"field-description",rows:"2"},null,8,nm),[[ye,h.description]])]),n("button",{type:"button",class:"remove-field-btn",onClick:pe=>lt(K)},"",8,lm)]))),128)),n("button",{type:"button",class:"add-field-btn",onClick:Et},"+ ")])]),n("div",om,[c[47]||(c[47]=n("label",null,"",-1)),n("div",im,[(d(!0),f(ae,null,Te(de.fields,(h,K)=>{var pe,$e;return d(),f(ae,{key:K},[h.position==="full"||!h.position?(d(),f("div",am,[n("span",rm,y(h.field_name||""),1),h.required?(d(),f("span",um,"*")):I("",!0),c[43]||(c[43]=n("span",{class:"preview-badge preview-badge-full"},"",-1))])):h.position==="left"?(d(),f("div",dm,[n("div",cm,[n("span",fm,y(h.field_name||""),1),h.required?(d(),f("span",pm,"*")):I("",!0),c[44]||(c[44]=n("span",{class:"preview-badge preview-badge-left"},"",-1))]),((pe=de.fields[K+1])==null?void 0:pe.position)==="right"?(d(),f("div",vm,[n("span",_m,y(de.fields[K+1].field_name||""),1),de.fields[K+1].required?(d(),f("span",mm,"*")):I("",!0),c[45]||(c[45]=n("span",{class:"preview-badge preview-badge-right"},"",-1))])):(d(),f("div",gm))])):h.position==="right"&&(($e=de.fields[K-1])==null?void 0:$e.position)!=="left"?(d(),f("div",hm,[n("span",ym,y(h.field_name||""),1),h.required?(d(),f("span",bm,"*")):I("",!0),c[46]||(c[46]=n("span",{class:"preview-badge preview-badge-right"},"()",-1))])):I("",!0)],64)}),128))])]),n("div",wm,[n("button",{type:"button",onClick:pt},""),n("button",{type:"submit",disabled:Ve.value},"",8,km)])],32)])])):I("",!0),V.value?(d(),f("div",{key:1,class:"modal-overlay",onClick:T},[n("div",{class:"modal-content large",onClick:c[16]||(c[16]=Ge(()=>{},["stop"]))},[n("h2",null,": "+y(V.value.template_name),1),n("form",{onSubmit:Ge(_,["prevent"])},[n("div",$m,[c[49]||(c[49]=n("label",null," *",-1)),ie(n("select",{"onUpdate:modelValue":c[15]||(c[15]=h=>X.knowledge_base_id=h),required:"",class:"form-input"},[c[48]||(c[48]=n("option",{value:""},"",-1)),(d(!0),f(ae,null,Te(se.value,h=>(d(),f("option",{key:h.knowledge_base_id,value:h.knowledge_base_id},y(h.knowledge_base_name),9,Cm))),128))],512),[[ht,X.knowledge_base_id]])]),n("div",Sm,[c[51]||(c[51]=n("label",null," *",-1)),n("div",Tm,[n("input",{type:"file",accept:"image/*",onChange:xn,required:"",id:"imageFileInput",class:"file-input"},null,32),n("label",xm,[X.image_file?(d(),f("span",Om,[Q("  "+y(X.image_file.name)+" ",1),n("button",{type:"button",onClick:Ge(b,["stop"]),class:"clear-file-btn"},"")])):(d(),f("span",Em," "))])]),X.image_file?(d(),f("div",Im,[n("img",{src:En(X.image_file),alt:"",class:"image-preview"},null,8,Am),n("button",{type:"button",onClick:He,disabled:Xe.value,class:"preview-ocr-btn"},[Xe.value?(d(),f("span",Um," OCR ...")):(d(),f("span",Fm,"  OCR "))],8,Pm)])):I("",!0),fe.value?(d(),f("div",Mm,"  "+y(fe.value),1)):I("",!0),ee.value&&ee.value.auto_filled_data?(d(),f("div",Dm,[c[50]||(c[50]=Q("  OCR  ",-1)),ee.value.confidence_scores?(d(),f("div",Rm,[(d(!0),f(ae,null,Te(ee.value.confidence_scores,(h,K)=>{var pe;return d(),f("span",{key:K,class:Le(["confidence-item",Ae((pe=ee.value.confidence_colors)==null?void 0:pe[K])])},y(at(K))+": "+y(h)+"% ",3)}),128))])):I("",!0)])):I("",!0)]),n("div",Lm,[c[57]||(c[57]=n("label",null,"",-1)),n("div",jm,[(d(!0),f(ae,null,Te(V.value.fields,(h,K)=>{var pe,$e;return d(),f(ae,{key:h.field_id},[h.position==="full"||!h.position?(d(),f("div",Vm,[n("label",null,[Q(y(h.field_name)+" ",1),h.required?(d(),f("span",Nm,"*")):I("",!0),ee.value&&ee.value.auto_filled_data&&Re(h)?(d(),f("span",{key:1,class:Le(["ocr-badge",Ae(qe(h))]),title:Ot(h)},[c[52]||(c[52]=Q("  OCR ",-1)),Ke(h)?(d(),f("span",qm,y(Ke(h))+"% ",1)):I("",!0)],10,Hm)):I("",!0)]),ie(n("input",{type:"text","onUpdate:modelValue":Ee=>X.filled_data[h.field_id]=Ee,required:h.required,placeholder:`${h.field_name}`,class:"form-input"},null,8,Bm),[[ye,X.filled_data[h.field_id]]])])):h.position==="left"?(d(),f("div",Km,[n("div",zm,[n("label",null,[Q(y(h.field_name)+" ",1),h.required?(d(),f("span",Wm,"*")):I("",!0),ee.value&&ee.value.auto_filled_data&&Re(h)?(d(),f("span",{key:1,class:Le(["ocr-badge",Ae(qe(h))]),title:Ot(h)},[c[53]||(c[53]=Q("  OCR ",-1)),Ke(h)?(d(),f("span",Gm,y(Ke(h))+"% ",1)):I("",!0)],10,Jm)):I("",!0)]),ie(n("input",{type:"text","onUpdate:modelValue":Ee=>X.filled_data[h.field_id]=Ee,required:h.required,placeholder:`${h.field_name}`,class:"form-input"},null,8,Xm),[[ye,X.filled_data[h.field_id]]])]),((pe=V.value.fields[K+1])==null?void 0:pe.position)==="right"?(d(),f("div",Zm,[n("label",null,[Q(y(V.value.fields[K+1].field_name)+" ",1),V.value.fields[K+1].required?(d(),f("span",Ym,"*")):I("",!0),ee.value&&ee.value.auto_filled_data&&Re(V.value.fields[K+1])?(d(),f("span",{key:1,class:Le(["ocr-badge",Ae(qe(V.value.fields[K+1]))]),title:Ot(V.value.fields[K+1])},[c[54]||(c[54]=Q("  OCR ",-1)),Ke(V.value.fields[K+1])?(d(),f("span",eg,y(Ke(V.value.fields[K+1]))+"% ",1)):I("",!0)],10,Qm)):I("",!0)]),ie(n("input",{type:"text","onUpdate:modelValue":Ee=>X.filled_data[V.value.fields[K+1].field_id]=Ee,required:V.value.fields[K+1].required,placeholder:`${V.value.fields[K+1].field_name}`,class:"form-input"},null,8,tg),[[ye,X.filled_data[V.value.fields[K+1].field_id]]])])):(d(),f("div",sg))])):h.position==="right"&&(($e=V.value.fields[K-1])==null?void 0:$e.position)!=="left"?(d(),f("div",ng,[n("label",null,[Q(y(h.field_name)+" ",1),h.required?(d(),f("span",lg,"*")):I("",!0),ee.value&&ee.value.auto_filled_data&&Re(h)?(d(),f("span",{key:1,class:Le(["ocr-badge",Ae(qe(h))]),title:Ot(h)},[c[55]||(c[55]=Q("  OCR ",-1)),Ke(h)?(d(),f("span",ig,y(Ke(h))+"% ",1)):I("",!0)],10,og)):I("",!0)]),h.field_type!=="select"?ie((d(),f("input",{key:0,type:xe(h.field_type),"onUpdate:modelValue":Ee=>X.filled_data[h.field_id]=Ee,required:h.required,placeholder:h.placeholder||`${h.field_name}`,pattern:h.regex_pattern,class:"form-input"},null,8,ag)),[[yu,X.filled_data[h.field_id]]]):ie((d(),f("select",{key:1,"onUpdate:modelValue":Ee=>X.filled_data[h.field_id]=Ee,required:h.required,class:"form-input"},[c[56]||(c[56]=n("option",{value:""},"",-1)),(d(!0),f(ae,null,Te(h.options,Ee=>(d(),f("option",{key:Ee,value:Ee},y(Ee),9,ug))),128))],8,rg)),[[ht,X.filled_data[h.field_id]]])])):I("",!0)],64)}),128))])]),n("div",dg,[n("button",{type:"button",onClick:T},""),n("button",{type:"submit",disabled:ze.value||!X.image_file},[ze.value?(d(),f("span",fg,"...")):(d(),f("span",pg,""))],8,cg)])],32)])])):I("",!0),M.value?(d(),f("div",{key:2,class:"modal-overlay",onClick:P},[n("div",{class:"modal-content large",onClick:c[21]||(c[21]=Ge(()=>{},["stop"]))},[c[71]||(c[71]=n("h2",null,"",-1)),n("div",vg,[n("div",_g,[c[65]||(c[65]=n("h3",null,"",-1)),n("p",null,[c[58]||(c[58]=n("strong",null,":",-1)),Q(" "+y(M.value.template_name),1)]),n("p",null,[c[59]||(c[59]=n("strong",null,":",-1)),n("span",{class:Le(["status-badge",M.value.submission_status])},y(G(M.value.submission_status)),3)]),n("p",null,[c[60]||(c[60]=n("strong",null,":",-1)),Q(" "+y(M.value.submitted_by),1)]),n("p",null,[c[61]||(c[61]=n("strong",null,":",-1)),Q(" "+y(L(M.value.submitted_at)),1)]),M.value.approved_by?(d(),f("p",mg,[c[62]||(c[62]=n("strong",null,":",-1)),Q(" "+y(M.value.approved_by),1)])):I("",!0),M.value.approved_at?(d(),f("p",gg,[c[63]||(c[63]=n("strong",null,":",-1)),Q(" "+y(L(M.value.approved_at)),1)])):I("",!0),M.value.rejection_reason?(d(),f("p",hg,[c[64]||(c[64]=n("strong",null,":",-1)),Q(" "+y(M.value.rejection_reason),1)])):I("",!0)]),n("div",yg,[n("div",bg,[c[66]||(c[66]=n("h3",{style:{margin:"0"}},"",-1)),M.value.image_file_url?(d(),f("button",{key:0,onClick:c[17]||(c[17]=h=>O(M.value)),disabled:ge.value,class:"download-image-btn"},[ge.value?(d(),f("span",kg,"...")):(d(),f("span",$g," "))],8,wg)):I("",!0)]),Fe.value?(d(),f("div",Cg,[...c[67]||(c[67]=[n("span",{class:"spinner"},null,-1),n("p",null,"...",-1)])])):ke.value?(d(),f("img",{key:1,src:ke.value,alt:"",class:"submission-image"},null,8,Sg)):M.value.image_file_url&&M.value.image_file_url.startsWith("http")?(d(),f("img",{key:2,src:M.value.image_file_url,alt:"",class:"submission-image",onError:j},null,40,Tg)):M.value.submission_id&&!Fe.value?(d(),f("div",xg,[...c[68]||(c[68]=[n("p",null," ",-1)])])):I("",!0)]),n("div",Eg,[n("div",Og,[c[69]||(c[69]=n("h3",{style:{margin:"0"}},"",-1)),we(M.value)?(d(),f("button",{key:0,onClick:c[18]||(c[18]=h=>q(M.value)),class:"edit-btn"},"   ")):I("",!0)]),n("div",Ig,[(d(!0),f(ae,null,Te(M.value.filled_data,(h,K)=>(d(),f("div",{key:K,class:"data-item"},[n("strong",null,y(K)+":",1),Q(" "+y(h),1)]))),128))])]),M.value.auto_filled_data?(d(),f("div",Ag,[c[70]||(c[70]=n("h3",null,"OCR ",-1)),n("div",Pg,[(d(!0),f(ae,null,Te(M.value.auto_filled_data,(h,K)=>{var pe,$e;return d(),f("div",{key:K,class:"data-item"},[n("div",Ug,[n("strong",null,y(K)+":",1),(pe=M.value.confidence_scores)!=null&&pe[K]?(d(),f("span",{key:0,class:Le(["confidence-badge",Ae(($e=M.value.confidence_colors)==null?void 0:$e[K])])},y(M.value.confidence_scores[K])+"% ",3)):I("",!0)]),n("div",Fg,y(h),1)])}),128))])])):I("",!0)]),n("div",Mg,[we(M.value)?(d(),f("button",{key:0,onClick:c[19]||(c[19]=h=>q(M.value)),class:"edit-btn"},"   ")):I("",!0),he(M.value)?(d(),f("button",{key:1,onClick:c[20]||(c[20]=h=>H(M.value))},"  ")):I("",!0),n("button",{onClick:P},"")])])])):I("",!0),W.value?(d(),f("div",{key:3,class:"modal-overlay",onClick:te},[n("div",{class:"modal-content",onClick:c[25]||(c[25]=Ge(()=>{},["stop"]))},[c[76]||(c[76]=n("h2",null,"",-1)),n("form",{onSubmit:Ge(R,["prevent"])},[n("div",Dg,[c[74]||(c[74]=n("label",null,"",-1)),n("div",Rg,[n("label",null,[ie(n("input",{type:"radio","onUpdate:modelValue":c[22]||(c[22]=h=>oe.approve=h),value:!0},null,512),[[ll,oe.approve]]),c[72]||(c[72]=Q("  ",-1))]),n("label",null,[ie(n("input",{type:"radio","onUpdate:modelValue":c[23]||(c[23]=h=>oe.approve=h),value:!1},null,512),[[ll,oe.approve]]),c[73]||(c[73]=Q("  ",-1))])])]),oe.approve?I("",!0):(d(),f("div",Lg,[c[75]||(c[75]=n("label",null," *",-1)),ie(n("textarea",{"onUpdate:modelValue":c[24]||(c[24]=h=>oe.reason=h),rows:"3",required:"",placeholder:""},null,512),[[ye,oe.reason]])])),n("div",jg,[n("button",{type:"button",onClick:te},""),n("button",{type:"submit",disabled:We.value},"",8,Vg)])],32)])])):I("",!0),ue.value?(d(),f("div",{key:4,class:"modal-overlay",onClick:x},[n("div",{class:"modal-content large",onClick:c[26]||(c[26]=Ge(()=>{},["stop"]))},[c[78]||(c[78]=n("h2",null,"",-1)),n("form",{onSubmit:Ge(Z,["prevent"])},[n("div",Ng,[c[77]||(c[77]=n("label",null," *",-1)),n("div",Hg,[(d(!0),f(ae,null,Te(ce.filled_data,(h,K)=>(d(),f("div",{key:K,class:"field-input field-full"},[n("label",null,[Q(y(K)+" ",1),C(K)?(d(),f("span",qg,"*")):I("",!0)]),ie(n("input",{type:"text","onUpdate:modelValue":pe=>ce.filled_data[K]=pe,required:C(K),placeholder:`${K}`,class:"form-input"},null,8,Bg),[[ye,ce.filled_data[K]]])]))),128))])]),n("div",Kg,[n("button",{type:"button",onClick:x},""),n("button",{type:"submit",disabled:_e.value},[_e.value?(d(),f("span",Wg,"...")):(d(),f("span",Jg,""))],8,zg)])],32)])])):I("",!0)]))}},Xg=Bs(Gg,[["__scopeId","data-v-4785d2e1"]]),Zg={class:"image-generation"},Yg={class:"header"},Qg={class:"container"},eh={class:"input-section"},th={class:"params-grid"},sh={class:"param-field"},nh={class:"param-field"},lh={class:"param-field"},oh=["disabled"],ih={key:0,class:"result-section"},ah={key:0,class:"error"},rh={key:1,class:"image-container"},uh=["src"],dh={key:1,class:"history-section"},ch={class:"history-grid"},fh=["src","alt","onClick"],ph={class:"history-prompt"},vh={__name:"ImageGeneration",emits:["navigate"],setup(e,{emit:t}){const s=U(""),l=U(5),o=U(512),a=U(512),r=U(""),u=U(!1),v=U(""),w=U([]),m=async()=>{if(s.value.trim()){u.value=!0,v.value="",r.value="";try{const z=await Mi({prompt:s.value.trim(),steps:l.value,width:o.value,height:a.value});if(z.data&&z.data.length>0){const N=z.data[0].b64_json;r.value=`data:image/png;base64,${N}`,w.value.unshift({prompt:s.value,image:r.value,created:z.created}),w.value.length>12&&(w.value=w.value.slice(0,12))}}catch(z){v.value=z.message||""}finally{u.value=!1}}},S=()=>{const z=document.createElement("a");z.href=r.value,z.download=`generated-${Date.now()}.png`,z.click()},A=()=>{r.value="",v.value="",s.value=""},$=z=>{r.value=z,window.scrollTo({top:0,behavior:"smooth"})};return(z,N)=>(d(),f("div",Zg,[n("div",Yg,[N[5]||(N[5]=n("h1",null,"AI ",-1)),n("button",{onClick:N[0]||(N[0]=ne=>z.$emit("navigate","chat")),class:"back-btn"},"")]),n("div",Qg,[n("div",eh,[N[9]||(N[9]=n("label",{for:"prompt"},"",-1)),ie(n("textarea",{id:"prompt","onUpdate:modelValue":N[1]||(N[1]=ne=>s.value=ne),placeholder:"",rows:"4"},null,512),[[ye,s.value]]),n("div",th,[n("div",sh,[N[6]||(N[6]=n("label",{for:"steps"},"",-1)),ie(n("input",{id:"steps",type:"number","onUpdate:modelValue":N[2]||(N[2]=ne=>l.value=ne),min:"1",max:"50"},null,512),[[ye,l.value,void 0,{number:!0}]])]),n("div",nh,[N[7]||(N[7]=n("label",{for:"width"},"",-1)),ie(n("input",{id:"width",type:"number","onUpdate:modelValue":N[3]||(N[3]=ne=>o.value=ne),step:"64",min:"256",max:"1024"},null,512),[[ye,o.value,void 0,{number:!0}]])]),n("div",lh,[N[8]||(N[8]=n("label",{for:"height"},"",-1)),ie(n("input",{id:"height",type:"number","onUpdate:modelValue":N[4]||(N[4]=ne=>a.value=ne),step:"64",min:"256",max:"1024"},null,512),[[ye,a.value,void 0,{number:!0}]])])]),n("button",{onClick:m,disabled:u.value||!s.value.trim()},y(u.value?"...":""),9,oh)]),r.value||v.value?(d(),f("div",ih,[v.value?(d(),f("div",ah,y(v.value),1)):I("",!0),r.value?(d(),f("div",rh,[n("img",{src:r.value,alt:""},null,8,uh),n("div",{class:"image-actions"},[n("button",{onClick:S},""),n("button",{onClick:A},"")])])):I("",!0)])):I("",!0),w.value.length>0?(d(),f("div",dh,[N[10]||(N[10]=n("h2",null,"",-1)),n("div",ch,[(d(!0),f(ae,null,Te(w.value,(ne,Y)=>(d(),f("div",{key:Y,class:"history-item"},[n("img",{src:ne.image,alt:ne.prompt,onClick:V=>$(ne.image)},null,8,fh),n("p",ph,y(ne.prompt),1),n("small",null,y(new Date(ne.created*1e3).toLocaleString("zh-CN")),1)]))),128))])])):I("",!0)])]))}},_h=Bs(vh,[["__scopeId","data-v-f1872a41"]]),mh={key:1,class:"app-container"},gh={class:"app-header"},hh={class:"header-content"},yh={class:"user-info"},bh={class:"username"},wh={class:"user-role"},kh={__name:"App",setup(e){const t={chat:Pd,ingestV2:s_,templates:Xg,imageGen:_h},s=Fa(t.chat),l=U(!1),o=U(null),a=()=>{try{const m=localStorage.getItem("authData");if(m){const S=JSON.parse(m);if(S.expires_at&&S.expires_at>Date.now())return l.value=!0,o.value=S.user,!0;localStorage.removeItem("authData"),localStorage.removeItem("authToken")}}catch(m){console.warn("Failed to check auth",m)}return l.value=!1,o.value=null,!1},r=m=>{l.value=!0,o.value=m.user,window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("auth-token-updated",{detail:m}))},u=()=>{localStorage.removeItem("authData"),localStorage.removeItem("authToken");const m=localStorage.getItem("chatConfig");if(m)try{const S=JSON.parse(m);delete S.authToken,localStorage.setItem("chatConfig",JSON.stringify(S))}catch(S){console.warn("Failed to update chatConfig",S)}l.value=!1,o.value=null},v=m=>({admin:"",manager:"",employee:""})[m]||m||"",w=m=>{s.value=t[m]||t.chat};return Hs(()=>{a()}),(m,S)=>{var A,$;return l.value?(d(),f("div",mh,[n("header",gh,[n("div",hh,[S[0]||(S[0]=n("h1",{class:"app-title"},"MyGPT ",-1)),n("div",yh,[n("span",bh,y((A=o.value)==null?void 0:A.username),1),n("span",wh,y(v(($=o.value)==null?void 0:$.role)),1),n("button",{class:"logout-button",onClick:u},"")])])]),(d(),tl(ir(s.value),{onNavigate:w},null,32))])):(d(),tl(qu,{key:0,onLoginSuccess:r}))}}};xu(kh).mount("#app");
