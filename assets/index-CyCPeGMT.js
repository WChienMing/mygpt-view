(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();/**
* @vue/shared v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function il(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const Oe={},ds=[],Tt=()=>{},bo=()=>!1,vn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),rl=e=>e.startsWith("onUpdate:"),st=Object.assign,al=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},er=Object.prototype.hasOwnProperty,Se=(e,t)=>er.call(e,t),oe=Array.isArray,cs=e=>Vs(e)==="[object Map]",gs=e=>Vs(e)==="[object Set]",Ml=e=>Vs(e)==="[object Date]",pe=e=>typeof e=="function",qe=e=>typeof e=="string",xt=e=>typeof e=="symbol",Pe=e=>e!==null&&typeof e=="object",wo=e=>(Pe(e)||pe(e))&&pe(e.then)&&pe(e.catch),ko=Object.prototype.toString,Vs=e=>ko.call(e),tr=e=>Vs(e).slice(8,-1),$o=e=>Vs(e)==="[object Object]",ul=e=>qe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ts=il(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),_n=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},sr=/-\w/g,mt=_n(e=>e.replace(sr,t=>t.slice(1).toUpperCase())),nr=/\B([A-Z])/g,Zt=_n(e=>e.replace(nr,"-$1").toLowerCase()),mn=_n(e=>e.charAt(0).toUpperCase()+e.slice(1)),Dn=_n(e=>e?`on${mn(e)}`:""),Jt=(e,t)=>!Object.is(e,t),Qs=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Co=(e,t,s,l=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:l,value:s})},gn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Dl;const hn=()=>Dl||(Dl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function yn(e){if(oe(e)){const t={};for(let s=0;s<e.length;s++){const l=e[s],o=qe(l)?rr(l):yn(l);if(o)for(const r in o)t[r]=o[r]}return t}else if(qe(e)||Pe(e))return e}const lr=/;(?![^(]*\))/g,or=/:([^]+)/,ir=/\/\*[^]*?\*\//g;function rr(e){const t={};return e.replace(ir,"").split(lr).forEach(s=>{if(s){const l=s.split(or);l.length>1&&(t[l[0].trim()]=l[1].trim())}}),t}function De(e){let t="";if(qe(e))t=e;else if(oe(e))for(let s=0;s<e.length;s++){const l=De(e[s]);l&&(t+=l+" ")}else if(Pe(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const ar="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ur=il(ar);function So(e){return!!e||e===""}function dr(e,t){if(e.length!==t.length)return!1;let s=!0;for(let l=0;s&&l<e.length;l++)s=os(e[l],t[l]);return s}function os(e,t){if(e===t)return!0;let s=Ml(e),l=Ml(t);if(s||l)return s&&l?e.getTime()===t.getTime():!1;if(s=xt(e),l=xt(t),s||l)return e===t;if(s=oe(e),l=oe(t),s||l)return s&&l?dr(e,t):!1;if(s=Pe(e),l=Pe(t),s||l){if(!s||!l)return!1;const o=Object.keys(e).length,r=Object.keys(t).length;if(o!==r)return!1;for(const a in e){const u=e.hasOwnProperty(a),_=t.hasOwnProperty(a);if(u&&!_||!u&&_||!os(e[a],t[a]))return!1}}return String(e)===String(t)}function dl(e,t){return e.findIndex(s=>os(s,t))}const To=e=>!!(e&&e.__v_isRef===!0),b=e=>qe(e)?e:e==null?"":oe(e)||Pe(e)&&(e.toString===ko||!pe(e.toString))?To(e)?b(e.value):JSON.stringify(e,xo,2):String(e),xo=(e,t)=>To(t)?xo(e,t.value):cs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[l,o],r)=>(s[Rn(l,r)+" =>"]=o,s),{})}:gs(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Rn(s))}:xt(t)?Rn(t):Pe(t)&&!oe(t)&&!$o(t)?String(t):t,Rn=(e,t="")=>{var s;return xt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ot;class cr{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ot,!t&&ot&&(this.index=(ot.scopes||(ot.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=ot;try{return ot=this,t()}finally{ot=s}}}on(){++this._on===1&&(this.prevScope=ot,ot=this)}off(){this._on>0&&--this._on===0&&(ot=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,l;for(s=0,l=this.effects.length;s<l;s++)this.effects[s].stop();for(this.effects.length=0,s=0,l=this.cleanups.length;s<l;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,l=this.scopes.length;s<l;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function fr(){return ot}let Ae;const Ln=new WeakSet;class Eo{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ot&&ot.active&&ot.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ln.has(this)&&(Ln.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ao(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Rl(this),Po(this);const t=Ae,s=bt;Ae=this,bt=!0;try{return this.fn()}finally{Io(this),Ae=t,bt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)pl(t);this.deps=this.depsTail=void 0,Rl(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ln.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){zn(this)&&this.run()}get dirty(){return zn(this)}}let Oo=0,xs,Es;function Ao(e,t=!1){if(e.flags|=8,t){e.next=Es,Es=e;return}e.next=xs,xs=e}function cl(){Oo++}function fl(){if(--Oo>0)return;if(Es){let t=Es;for(Es=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;xs;){let t=xs;for(xs=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(l){e||(e=l)}t=s}}if(e)throw e}function Po(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Io(e){let t,s=e.depsTail,l=s;for(;l;){const o=l.prevDep;l.version===-1?(l===s&&(s=o),pl(l),pr(l)):t=l,l.dep.activeLink=l.prevActiveLink,l.prevActiveLink=void 0,l=o}e.deps=t,e.depsTail=s}function zn(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Uo(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Uo(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Fs)||(e.globalVersion=Fs,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!zn(e))))return;e.flags|=2;const t=e.dep,s=Ae,l=bt;Ae=e,bt=!0;try{Po(e);const o=e.fn(e._value);(t.version===0||Jt(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{Ae=s,bt=l,Io(e),e.flags&=-3}}function pl(e,t=!1){const{dep:s,prevSub:l,nextSub:o}=e;if(l&&(l.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=l,e.nextSub=void 0),s.subs===e&&(s.subs=l,!l&&s.computed)){s.computed.flags&=-5;for(let r=s.computed.deps;r;r=r.nextDep)pl(r,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function pr(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let bt=!0;const Fo=[];function jt(){Fo.push(bt),bt=!1}function Vt(){const e=Fo.pop();bt=e===void 0?!0:e}function Rl(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Ae;Ae=void 0;try{t()}finally{Ae=s}}}let Fs=0;class vr{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class vl{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Ae||!bt||Ae===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Ae)s=this.activeLink=new vr(Ae,this),Ae.deps?(s.prevDep=Ae.depsTail,Ae.depsTail.nextDep=s,Ae.depsTail=s):Ae.deps=Ae.depsTail=s,Mo(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const l=s.nextDep;l.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=l),s.prevDep=Ae.depsTail,s.nextDep=void 0,Ae.depsTail.nextDep=s,Ae.depsTail=s,Ae.deps===s&&(Ae.deps=l)}return s}trigger(t){this.version++,Fs++,this.notify(t)}notify(t){cl();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{fl()}}}function Mo(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let l=t.deps;l;l=l.nextDep)Mo(l)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Wn=new WeakMap,ns=Symbol(""),Jn=Symbol(""),Ms=Symbol("");function Xe(e,t,s){if(bt&&Ae){let l=Wn.get(e);l||Wn.set(e,l=new Map);let o=l.get(s);o||(l.set(s,o=new vl),o.map=l,o.key=s),o.track()}}function Mt(e,t,s,l,o,r){const a=Wn.get(e);if(!a){Fs++;return}const u=_=>{_&&_.trigger()};if(cl(),t==="clear")a.forEach(u);else{const _=oe(e),w=_&&ul(s);if(_&&s==="length"){const g=Number(l);a.forEach((S,I)=>{(I==="length"||I===Ms||!xt(I)&&I>=g)&&u(S)})}else switch((s!==void 0||a.has(void 0))&&u(a.get(s)),w&&u(a.get(Ms)),t){case"add":_?w&&u(a.get("length")):(u(a.get(ns)),cs(e)&&u(a.get(Jn)));break;case"delete":_||(u(a.get(ns)),cs(e)&&u(a.get(Jn)));break;case"set":cs(e)&&u(a.get(ns));break}}fl()}function as(e){const t=Ce(e);return t===e?t:(Xe(t,"iterate",Ms),vt(e)?t:t.map(wt))}function bn(e){return Xe(e=Ce(e),"iterate",Ms),e}function Bt(e,t){return Nt(e)?ls(e)?vs(wt(t)):vs(t):wt(t)}const _r={__proto__:null,[Symbol.iterator](){return jn(this,Symbol.iterator,e=>Bt(this,e))},concat(...e){return as(this).concat(...e.map(t=>oe(t)?as(t):t))},entries(){return jn(this,"entries",e=>(e[1]=Bt(this,e[1]),e))},every(e,t){return Ut(this,"every",e,t,void 0,arguments)},filter(e,t){return Ut(this,"filter",e,t,s=>s.map(l=>Bt(this,l)),arguments)},find(e,t){return Ut(this,"find",e,t,s=>Bt(this,s),arguments)},findIndex(e,t){return Ut(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ut(this,"findLast",e,t,s=>Bt(this,s),arguments)},findLastIndex(e,t){return Ut(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ut(this,"forEach",e,t,void 0,arguments)},includes(...e){return Vn(this,"includes",e)},indexOf(...e){return Vn(this,"indexOf",e)},join(e){return as(this).join(e)},lastIndexOf(...e){return Vn(this,"lastIndexOf",e)},map(e,t){return Ut(this,"map",e,t,void 0,arguments)},pop(){return $s(this,"pop")},push(...e){return $s(this,"push",e)},reduce(e,...t){return Ll(this,"reduce",e,t)},reduceRight(e,...t){return Ll(this,"reduceRight",e,t)},shift(){return $s(this,"shift")},some(e,t){return Ut(this,"some",e,t,void 0,arguments)},splice(...e){return $s(this,"splice",e)},toReversed(){return as(this).toReversed()},toSorted(e){return as(this).toSorted(e)},toSpliced(...e){return as(this).toSpliced(...e)},unshift(...e){return $s(this,"unshift",e)},values(){return jn(this,"values",e=>Bt(this,e))}};function jn(e,t,s){const l=bn(e),o=l[t]();return l!==e&&!vt(e)&&(o._next=o.next,o.next=()=>{const r=o._next();return r.done||(r.value=s(r.value)),r}),o}const mr=Array.prototype;function Ut(e,t,s,l,o,r){const a=bn(e),u=a!==e&&!vt(e),_=a[t];if(_!==mr[t]){const S=_.apply(e,r);return u?wt(S):S}let w=s;a!==e&&(u?w=function(S,I){return s.call(this,Bt(e,S),I,e)}:s.length>2&&(w=function(S,I){return s.call(this,S,I,e)}));const g=_.call(a,w,l);return u&&o?o(g):g}function Ll(e,t,s,l){const o=bn(e);let r=s;return o!==e&&(vt(e)?s.length>3&&(r=function(a,u,_){return s.call(this,a,u,_,e)}):r=function(a,u,_){return s.call(this,a,Bt(e,u),_,e)}),o[t](r,...l)}function Vn(e,t,s){const l=Ce(e);Xe(l,"iterate",Ms);const o=l[t](...s);return(o===-1||o===!1)&&gl(s[0])?(s[0]=Ce(s[0]),l[t](...s)):o}function $s(e,t,s=[]){jt(),cl();const l=Ce(e)[t].apply(e,s);return fl(),Vt(),l}const gr=il("__proto__,__v_isRef,__isVue"),Do=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(xt));function hr(e){xt(e)||(e=String(e));const t=Ce(this);return Xe(t,"has",e),t.hasOwnProperty(e)}class Ro{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,l){if(s==="__v_skip")return t.__v_skip;const o=this._isReadonly,r=this._isShallow;if(s==="__v_isReactive")return!o;if(s==="__v_isReadonly")return o;if(s==="__v_isShallow")return r;if(s==="__v_raw")return l===(o?r?Er:No:r?Vo:jo).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(l)?t:void 0;const a=oe(t);if(!o){let _;if(a&&(_=_r[s]))return _;if(s==="hasOwnProperty")return hr}const u=Reflect.get(t,s,Qe(t)?t:l);if((xt(s)?Do.has(s):gr(s))||(o||Xe(t,"get",s),r))return u;if(Qe(u)){const _=a&&ul(s)?u:u.value;return o&&Pe(_)?Xn(_):_}return Pe(u)?o?Xn(u):Ze(u):u}}class Lo extends Ro{constructor(t=!1){super(!1,t)}set(t,s,l,o){let r=t[s];const a=oe(t)&&ul(s);if(!this._isShallow){const w=Nt(r);if(!vt(l)&&!Nt(l)&&(r=Ce(r),l=Ce(l)),!a&&Qe(r)&&!Qe(l))return w||(r.value=l),!0}const u=a?Number(s)<t.length:Se(t,s),_=Reflect.set(t,s,l,Qe(t)?t:o);return t===Ce(o)&&(u?Jt(l,r)&&Mt(t,"set",s,l):Mt(t,"add",s,l)),_}deleteProperty(t,s){const l=Se(t,s);t[s];const o=Reflect.deleteProperty(t,s);return o&&l&&Mt(t,"delete",s,void 0),o}has(t,s){const l=Reflect.has(t,s);return(!xt(s)||!Do.has(s))&&Xe(t,"has",s),l}ownKeys(t){return Xe(t,"iterate",oe(t)?"length":ns),Reflect.ownKeys(t)}}class yr extends Ro{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const br=new Lo,wr=new yr,kr=new Lo(!0);const Gn=e=>e,Js=e=>Reflect.getPrototypeOf(e);function $r(e,t,s){return function(...l){const o=this.__v_raw,r=Ce(o),a=cs(r),u=e==="entries"||e===Symbol.iterator&&a,_=e==="keys"&&a,w=o[e](...l),g=s?Gn:t?vs:wt;return!t&&Xe(r,"iterate",_?Jn:ns),{next(){const{value:S,done:I}=w.next();return I?{value:S,done:I}:{value:u?[g(S[0]),g(S[1])]:g(S),done:I}},[Symbol.iterator](){return this}}}}function Gs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Cr(e,t){const s={get(o){const r=this.__v_raw,a=Ce(r),u=Ce(o);e||(Jt(o,u)&&Xe(a,"get",o),Xe(a,"get",u));const{has:_}=Js(a),w=t?Gn:e?vs:wt;if(_.call(a,o))return w(r.get(o));if(_.call(a,u))return w(r.get(u));r!==a&&r.get(o)},get size(){const o=this.__v_raw;return!e&&Xe(Ce(o),"iterate",ns),o.size},has(o){const r=this.__v_raw,a=Ce(r),u=Ce(o);return e||(Jt(o,u)&&Xe(a,"has",o),Xe(a,"has",u)),o===u?r.has(o):r.has(o)||r.has(u)},forEach(o,r){const a=this,u=a.__v_raw,_=Ce(u),w=t?Gn:e?vs:wt;return!e&&Xe(_,"iterate",ns),u.forEach((g,S)=>o.call(r,w(g),w(S),a))}};return st(s,e?{add:Gs("add"),set:Gs("set"),delete:Gs("delete"),clear:Gs("clear")}:{add(o){!t&&!vt(o)&&!Nt(o)&&(o=Ce(o));const r=Ce(this);return Js(r).has.call(r,o)||(r.add(o),Mt(r,"add",o,o)),this},set(o,r){!t&&!vt(r)&&!Nt(r)&&(r=Ce(r));const a=Ce(this),{has:u,get:_}=Js(a);let w=u.call(a,o);w||(o=Ce(o),w=u.call(a,o));const g=_.call(a,o);return a.set(o,r),w?Jt(r,g)&&Mt(a,"set",o,r):Mt(a,"add",o,r),this},delete(o){const r=Ce(this),{has:a,get:u}=Js(r);let _=a.call(r,o);_||(o=Ce(o),_=a.call(r,o)),u&&u.call(r,o);const w=r.delete(o);return _&&Mt(r,"delete",o,void 0),w},clear(){const o=Ce(this),r=o.size!==0,a=o.clear();return r&&Mt(o,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(o=>{s[o]=$r(o,e,t)}),s}function _l(e,t){const s=Cr(e,t);return(l,o,r)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?l:Reflect.get(Se(s,o)&&o in l?s:l,o,r)}const Sr={get:_l(!1,!1)},Tr={get:_l(!1,!0)},xr={get:_l(!0,!1)};const jo=new WeakMap,Vo=new WeakMap,No=new WeakMap,Er=new WeakMap;function Or(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ar(e){return e.__v_skip||!Object.isExtensible(e)?0:Or(tr(e))}function Ze(e){return Nt(e)?e:ml(e,!1,br,Sr,jo)}function Pr(e){return ml(e,!1,kr,Tr,Vo)}function Xn(e){return ml(e,!0,wr,xr,No)}function ml(e,t,s,l,o){if(!Pe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=Ar(e);if(r===0)return e;const a=o.get(e);if(a)return a;const u=new Proxy(e,r===2?l:s);return o.set(e,u),u}function ls(e){return Nt(e)?ls(e.__v_raw):!!(e&&e.__v_isReactive)}function Nt(e){return!!(e&&e.__v_isReadonly)}function vt(e){return!!(e&&e.__v_isShallow)}function gl(e){return e?!!e.__v_raw:!1}function Ce(e){const t=e&&e.__v_raw;return t?Ce(t):e}function Ir(e){return!Se(e,"__v_skip")&&Object.isExtensible(e)&&Co(e,"__v_skip",!0),e}const wt=e=>Pe(e)?Ze(e):e,vs=e=>Pe(e)?Xn(e):e;function Qe(e){return e?e.__v_isRef===!0:!1}function L(e){return Ho(e,!1)}function Ur(e){return Ho(e,!0)}function Ho(e,t){return Qe(e)?e:new Fr(e,t)}class Fr{constructor(t,s){this.dep=new vl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:Ce(t),this._value=s?t:wt(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,l=this.__v_isShallow||vt(t)||Nt(t);t=l?t:Ce(t),Jt(t,s)&&(this._rawValue=t,this._value=l?t:wt(t),this.dep.trigger())}}function en(e){return Qe(e)?e.value:e}const Mr={get:(e,t,s)=>t==="__v_raw"?e:en(Reflect.get(e,t,s)),set:(e,t,s,l)=>{const o=e[t];return Qe(o)&&!Qe(s)?(o.value=s,!0):Reflect.set(e,t,s,l)}};function qo(e){return ls(e)?e:new Proxy(e,Mr)}class Dr{constructor(t,s,l){this.fn=t,this.setter=s,this._value=void 0,this.dep=new vl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Fs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=l}notify(){if(this.flags|=16,!(this.flags&8)&&Ae!==this)return Ao(this,!0),!0}get value(){const t=this.dep.track();return Uo(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Rr(e,t,s=!1){let l,o;return pe(e)?l=e:(l=e.get,o=e.set),new Dr(l,o,s)}const Xs={},ln=new WeakMap;let ts;function Lr(e,t=!1,s=ts){if(s){let l=ln.get(s);l||ln.set(s,l=[]),l.push(e)}}function jr(e,t,s=Oe){const{immediate:l,deep:o,once:r,scheduler:a,augmentJob:u,call:_}=s,w=K=>o?K:vt(K)||o===!1||o===0?Dt(K,1):Dt(K);let g,S,I,C,G=!1,X=!1;if(Qe(e)?(S=()=>e.value,G=vt(e)):ls(e)?(S=()=>w(e),G=!0):oe(e)?(X=!0,G=e.some(K=>ls(K)||vt(K)),S=()=>e.map(K=>{if(Qe(K))return K.value;if(ls(K))return w(K);if(pe(K))return _?_(K,2):K()})):pe(e)?t?S=_?()=>_(e,2):e:S=()=>{if(I){jt();try{I()}finally{Vt()}}const K=ts;ts=g;try{return _?_(e,3,[C]):e(C)}finally{ts=K}}:S=Tt,t&&o){const K=S,ie=o===!0?1/0:o;S=()=>Dt(K(),ie)}const ve=fr(),ee=()=>{g.stop(),ve&&ve.active&&al(ve.effects,g)};if(r&&t){const K=t;t=(...ie)=>{K(...ie),ee()}}let V=X?new Array(e.length).fill(Xs):Xs;const M=K=>{if(!(!(g.flags&1)||!g.dirty&&!K))if(t){const ie=g.run();if(o||G||(X?ie.some((re,J)=>Jt(re,V[J])):Jt(ie,V))){I&&I();const re=ts;ts=g;try{const J=[ie,V===Xs?void 0:X&&V[0]===Xs?[]:V,C];V=ie,_?_(t,3,J):t(...J)}finally{ts=re}}}else g.run()};return u&&u(M),g=new Eo(S),g.scheduler=a?()=>a(M,!1):M,C=K=>Lr(K,!1,g),I=g.onStop=()=>{const K=ln.get(g);if(K){if(_)_(K,4);else for(const ie of K)ie();ln.delete(g)}},t?l?M(!0):V=g.run():a?a(M.bind(null,!0),!0):g.run(),ee.pause=g.pause.bind(g),ee.resume=g.resume.bind(g),ee.stop=ee,ee}function Dt(e,t=1/0,s){if(t<=0||!Pe(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,Qe(e))Dt(e.value,t,s);else if(oe(e))for(let l=0;l<e.length;l++)Dt(e[l],t,s);else if(gs(e)||cs(e))e.forEach(l=>{Dt(l,t,s)});else if($o(e)){for(const l in e)Dt(e[l],t,s);for(const l of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,l)&&Dt(e[l],t,s)}return e}/**
* @vue/runtime-core v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ns(e,t,s,l){try{return l?e(...l):e()}catch(o){wn(o,t,s)}}function Et(e,t,s,l){if(pe(e)){const o=Ns(e,t,s,l);return o&&wo(o)&&o.catch(r=>{wn(r,t,s)}),o}if(oe(e)){const o=[];for(let r=0;r<e.length;r++)o.push(Et(e[r],t,s,l));return o}}function wn(e,t,s,l=!0){const o=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||Oe;if(t){let u=t.parent;const _=t.proxy,w=`https://vuejs.org/error-reference/#runtime-${s}`;for(;u;){const g=u.ec;if(g){for(let S=0;S<g.length;S++)if(g[S](e,_,w)===!1)return}u=u.parent}if(r){jt(),Ns(r,null,10,[e,_,w]),Vt();return}}Vr(e,s,o,l,a)}function Vr(e,t,s,l=!0,o=!1){if(o)throw e;console.error(e)}const tt=[];let Ct=-1;const fs=[];let Kt=null,us=0;const Bo=Promise.resolve();let on=null;function Os(e){const t=on||Bo;return e?t.then(this?e.bind(this):e):t}function Nr(e){let t=Ct+1,s=tt.length;for(;t<s;){const l=t+s>>>1,o=tt[l],r=Ds(o);r<e||r===e&&o.flags&2?t=l+1:s=l}return t}function hl(e){if(!(e.flags&1)){const t=Ds(e),s=tt[tt.length-1];!s||!(e.flags&2)&&t>=Ds(s)?tt.push(e):tt.splice(Nr(t),0,e),e.flags|=1,Ko()}}function Ko(){on||(on=Bo.then(Wo))}function Hr(e){oe(e)?fs.push(...e):Kt&&e.id===-1?Kt.splice(us+1,0,e):e.flags&1||(fs.push(e),e.flags|=1),Ko()}function jl(e,t,s=Ct+1){for(;s<tt.length;s++){const l=tt[s];if(l&&l.flags&2){if(e&&l.id!==e.uid)continue;tt.splice(s,1),s--,l.flags&4&&(l.flags&=-2),l(),l.flags&4||(l.flags&=-2)}}}function zo(e){if(fs.length){const t=[...new Set(fs)].sort((s,l)=>Ds(s)-Ds(l));if(fs.length=0,Kt){Kt.push(...t);return}for(Kt=t,us=0;us<Kt.length;us++){const s=Kt[us];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Kt=null,us=0}}const Ds=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Wo(e){try{for(Ct=0;Ct<tt.length;Ct++){const t=tt[Ct];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ns(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ct<tt.length;Ct++){const t=tt[Ct];t&&(t.flags&=-2)}Ct=-1,tt.length=0,zo(),on=null,(tt.length||fs.length)&&Wo()}}let ct=null,Jo=null;function rn(e){const t=ct;return ct=e,Jo=e&&e.type.__scopeId||null,t}function qr(e,t=ct,s){if(!t||e._n)return e;const l=(...o)=>{l._d&&Xl(-1);const r=rn(t);let a;try{a=e(...o)}finally{rn(r),l._d&&Xl(1)}return a};return l._n=!0,l._c=!0,l._d=!0,l}function de(e,t){if(ct===null)return e;const s=Sn(ct),l=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[r,a,u,_=Oe]=t[o];r&&(pe(r)&&(r={mounted:r,updated:r}),r.deep&&Dt(a),l.push({dir:r,instance:s,value:a,oldValue:void 0,arg:u,modifiers:_}))}return e}function Qt(e,t,s,l){const o=e.dirs,r=t&&t.dirs;for(let a=0;a<o.length;a++){const u=o[a];r&&(u.oldValue=r[a].value);let _=u.dir[l];_&&(jt(),Et(_,s,8,[e.el,u,e,t]),Vt())}}const Br=Symbol("_vte"),Kr=e=>e.__isTeleport,zr=Symbol("_leaveCb");function yl(e,t){e.shapeFlag&6&&e.component?(e.transition=t,yl(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Go(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const an=new WeakMap;function As(e,t,s,l,o=!1){if(oe(e)){e.forEach((G,X)=>As(G,t&&(oe(t)?t[X]:t),s,l,o));return}if(Ps(l)&&!o){l.shapeFlag&512&&l.type.__asyncResolved&&l.component.subTree.component&&As(e,t,s,l.component.subTree);return}const r=l.shapeFlag&4?Sn(l.component):l.el,a=o?null:r,{i:u,r:_}=e,w=t&&t.r,g=u.refs===Oe?u.refs={}:u.refs,S=u.setupState,I=Ce(S),C=S===Oe?bo:G=>Se(I,G);if(w!=null&&w!==_){if(Vl(t),qe(w))g[w]=null,C(w)&&(S[w]=null);else if(Qe(w)){w.value=null;const G=t;G.k&&(g[G.k]=null)}}if(pe(_))Ns(_,u,12,[a,g]);else{const G=qe(_),X=Qe(_);if(G||X){const ve=()=>{if(e.f){const ee=G?C(_)?S[_]:g[_]:_.value;if(o)oe(ee)&&al(ee,r);else if(oe(ee))ee.includes(r)||ee.push(r);else if(G)g[_]=[r],C(_)&&(S[_]=g[_]);else{const V=[r];_.value=V,e.k&&(g[e.k]=V)}}else G?(g[_]=a,C(_)&&(S[_]=a)):X&&(_.value=a,e.k&&(g[e.k]=a))};if(a){const ee=()=>{ve(),an.delete(e)};ee.id=-1,an.set(e,ee),dt(ee,s)}else Vl(e),ve()}}}function Vl(e){const t=an.get(e);t&&(t.flags|=8,an.delete(e))}hn().requestIdleCallback;hn().cancelIdleCallback;const Ps=e=>!!e.type.__asyncLoader,Xo=e=>e.type.__isKeepAlive;function Wr(e,t){Zo(e,"a",t)}function Jr(e,t){Zo(e,"da",t)}function Zo(e,t,s=Ye){const l=e.__wdc||(e.__wdc=()=>{let o=s;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(kn(t,l,s),s){let o=s.parent;for(;o&&o.parent;)Xo(o.parent.vnode)&&Gr(l,t,s,o),o=o.parent}}function Gr(e,t,s,l){const o=kn(t,e,l,!0);Yo(()=>{al(l[t],o)},s)}function kn(e,t,s=Ye,l=!1){if(s){const o=s[e]||(s[e]=[]),r=t.__weh||(t.__weh=(...a)=>{jt();const u=qs(s),_=Et(t,s,e,a);return u(),Vt(),_});return l?o.unshift(r):o.push(r),r}}const Ht=e=>(t,s=Ye)=>{(!Ls||e==="sp")&&kn(e,(...l)=>t(...l),s)},Xr=Ht("bm"),Hs=Ht("m"),Zr=Ht("bu"),Yr=Ht("u"),Qr=Ht("bum"),Yo=Ht("um"),ea=Ht("sp"),ta=Ht("rtg"),sa=Ht("rtc");function na(e,t=Ye){kn("ec",e,t)}const la="components",Qo=Symbol.for("v-ndc");function oa(e){return qe(e)?ia(la,e,!1)||e:e||Qo}function ia(e,t,s=!0,l=!1){const o=ct||Ye;if(o){const r=o.type;{const u=Ga(r,!1);if(u&&(u===t||u===mt(t)||u===mn(mt(t))))return r}const a=Nl(o[e]||r[e],t)||Nl(o.appContext[e],t);return!a&&l?r:a}}function Nl(e,t){return e&&(e[t]||e[mt(t)]||e[mn(mt(t))])}function xe(e,t,s,l){let o;const r=s,a=oe(e);if(a||qe(e)){const u=a&&ls(e);let _=!1,w=!1;u&&(_=!vt(e),w=Nt(e),e=bn(e)),o=new Array(e.length);for(let g=0,S=e.length;g<S;g++)o[g]=t(_?w?vs(wt(e[g])):wt(e[g]):e[g],g,void 0,r)}else if(typeof e=="number"){o=new Array(e);for(let u=0;u<e;u++)o[u]=t(u+1,u,void 0,r)}else if(Pe(e))if(e[Symbol.iterator])o=Array.from(e,(u,_)=>t(u,_,void 0,r));else{const u=Object.keys(e);o=new Array(u.length);for(let _=0,w=u.length;_<w;_++){const g=u[_];o[_]=t(e[g],g,_,r)}}else o=[];return o}const Zn=e=>e?bi(e)?Sn(e):Zn(e.parent):null,Is=st(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Zn(e.parent),$root:e=>Zn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ti(e),$forceUpdate:e=>e.f||(e.f=()=>{hl(e.update)}),$nextTick:e=>e.n||(e.n=Os.bind(e.proxy)),$watch:e=>ha.bind(e)}),Nn=(e,t)=>e!==Oe&&!e.__isScriptSetup&&Se(e,t),ra={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:l,data:o,props:r,accessCache:a,type:u,appContext:_}=e;if(t[0]!=="$"){const I=a[t];if(I!==void 0)switch(I){case 1:return l[t];case 2:return o[t];case 4:return s[t];case 3:return r[t]}else{if(Nn(l,t))return a[t]=1,l[t];if(o!==Oe&&Se(o,t))return a[t]=2,o[t];if(Se(r,t))return a[t]=3,r[t];if(s!==Oe&&Se(s,t))return a[t]=4,s[t];Yn&&(a[t]=0)}}const w=Is[t];let g,S;if(w)return t==="$attrs"&&Xe(e.attrs,"get",""),w(e);if((g=u.__cssModules)&&(g=g[t]))return g;if(s!==Oe&&Se(s,t))return a[t]=4,s[t];if(S=_.config.globalProperties,Se(S,t))return S[t]},set({_:e},t,s){const{data:l,setupState:o,ctx:r}=e;return Nn(o,t)?(o[t]=s,!0):l!==Oe&&Se(l,t)?(l[t]=s,!0):Se(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:l,appContext:o,props:r,type:a}},u){let _;return!!(s[u]||e!==Oe&&u[0]!=="$"&&Se(e,u)||Nn(t,u)||Se(r,u)||Se(l,u)||Se(Is,u)||Se(o.config.globalProperties,u)||(_=a.__cssModules)&&_[u])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Se(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Hl(e){return oe(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Yn=!0;function aa(e){const t=ti(e),s=e.proxy,l=e.ctx;Yn=!1,t.beforeCreate&&ql(t.beforeCreate,e,"bc");const{data:o,computed:r,methods:a,watch:u,provide:_,inject:w,created:g,beforeMount:S,mounted:I,beforeUpdate:C,updated:G,activated:X,deactivated:ve,beforeDestroy:ee,beforeUnmount:V,destroyed:M,unmounted:K,render:ie,renderTracked:re,renderTriggered:J,errorCaptured:te,serverPrefetch:le,expose:ue,inheritAttrs:Ve,components:Ke,directives:ze,filters:_e}=t;if(w&&ua(w,l,null),a)for(const ce in a){const ge=a[ce];pe(ge)&&(l[ce]=ge.bind(s))}if(o){const ce=o.call(s,s);Pe(ce)&&(e.data=Ze(ce))}if(Yn=!0,r)for(const ce in r){const ge=r[ce],be=pe(ge)?ge.bind(s,s):pe(ge.get)?ge.get.bind(s,s):Tt,Ie=!pe(ge)&&pe(ge.set)?ge.set.bind(s):Tt,me=ss({get:be,set:Ie});Object.defineProperty(l,ce,{enumerable:!0,configurable:!0,get:()=>me.value,set:Ue=>me.value=Ue})}if(u)for(const ce in u)ei(u[ce],l,s,ce);if(_){const ce=pe(_)?_.call(s):_;Reflect.ownKeys(ce).forEach(ge=>{_a(ge,ce[ge])})}g&&ql(g,e,"c");function Y(ce,ge){oe(ge)?ge.forEach(be=>ce(be.bind(s))):ge&&ce(ge.bind(s))}if(Y(Xr,S),Y(Hs,I),Y(Zr,C),Y(Yr,G),Y(Wr,X),Y(Jr,ve),Y(na,te),Y(sa,re),Y(ta,J),Y(Qr,V),Y(Yo,K),Y(ea,le),oe(ue))if(ue.length){const ce=e.exposed||(e.exposed={});ue.forEach(ge=>{Object.defineProperty(ce,ge,{get:()=>s[ge],set:be=>s[ge]=be,enumerable:!0})})}else e.exposed||(e.exposed={});ie&&e.render===Tt&&(e.render=ie),Ve!=null&&(e.inheritAttrs=Ve),Ke&&(e.components=Ke),ze&&(e.directives=ze),le&&Go(e)}function ua(e,t,s=Tt){oe(e)&&(e=Qn(e));for(const l in e){const o=e[l];let r;Pe(o)?"default"in o?r=tn(o.from||l,o.default,!0):r=tn(o.from||l):r=tn(o),Qe(r)?Object.defineProperty(t,l,{enumerable:!0,configurable:!0,get:()=>r.value,set:a=>r.value=a}):t[l]=r}}function ql(e,t,s){Et(oe(e)?e.map(l=>l.bind(t.proxy)):e.bind(t.proxy),t,s)}function ei(e,t,s,l){let o=l.includes(".")?li(s,l):()=>s[l];if(qe(e)){const r=t[e];pe(r)&&Wt(o,r)}else if(pe(e))Wt(o,e.bind(s));else if(Pe(e))if(oe(e))e.forEach(r=>ei(r,t,s,l));else{const r=pe(e.handler)?e.handler.bind(s):t[e.handler];pe(r)&&Wt(o,r,e)}}function ti(e){const t=e.type,{mixins:s,extends:l}=t,{mixins:o,optionsCache:r,config:{optionMergeStrategies:a}}=e.appContext,u=r.get(t);let _;return u?_=u:!o.length&&!s&&!l?_=t:(_={},o.length&&o.forEach(w=>un(_,w,a,!0)),un(_,t,a)),Pe(t)&&r.set(t,_),_}function un(e,t,s,l=!1){const{mixins:o,extends:r}=t;r&&un(e,r,s,!0),o&&o.forEach(a=>un(e,a,s,!0));for(const a in t)if(!(l&&a==="expose")){const u=da[a]||s&&s[a];e[a]=u?u(e[a],t[a]):t[a]}return e}const da={data:Bl,props:Kl,emits:Kl,methods:Ss,computed:Ss,beforeCreate:et,created:et,beforeMount:et,mounted:et,beforeUpdate:et,updated:et,beforeDestroy:et,beforeUnmount:et,destroyed:et,unmounted:et,activated:et,deactivated:et,errorCaptured:et,serverPrefetch:et,components:Ss,directives:Ss,watch:fa,provide:Bl,inject:ca};function Bl(e,t){return t?e?function(){return st(pe(e)?e.call(this,this):e,pe(t)?t.call(this,this):t)}:t:e}function ca(e,t){return Ss(Qn(e),Qn(t))}function Qn(e){if(oe(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function et(e,t){return e?[...new Set([].concat(e,t))]:t}function Ss(e,t){return e?st(Object.create(null),e,t):t}function Kl(e,t){return e?oe(e)&&oe(t)?[...new Set([...e,...t])]:st(Object.create(null),Hl(e),Hl(t??{})):t}function fa(e,t){if(!e)return t;if(!t)return e;const s=st(Object.create(null),e);for(const l in t)s[l]=et(e[l],t[l]);return s}function si(){return{app:null,config:{isNativeTag:bo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let pa=0;function va(e,t){return function(l,o=null){pe(l)||(l=st({},l)),o!=null&&!Pe(o)&&(o=null);const r=si(),a=new WeakSet,u=[];let _=!1;const w=r.app={_uid:pa++,_component:l,_props:o,_container:null,_context:r,_instance:null,version:Za,get config(){return r.config},set config(g){},use(g,...S){return a.has(g)||(g&&pe(g.install)?(a.add(g),g.install(w,...S)):pe(g)&&(a.add(g),g(w,...S))),w},mixin(g){return r.mixins.includes(g)||r.mixins.push(g),w},component(g,S){return S?(r.components[g]=S,w):r.components[g]},directive(g,S){return S?(r.directives[g]=S,w):r.directives[g]},mount(g,S,I){if(!_){const C=w._ceVNode||Lt(l,o);return C.appContext=r,I===!0?I="svg":I===!1&&(I=void 0),e(C,g,I),_=!0,w._container=g,g.__vue_app__=w,Sn(C.component)}},onUnmount(g){u.push(g)},unmount(){_&&(Et(u,w._instance,16),e(null,w._container),delete w._container.__vue_app__)},provide(g,S){return r.provides[g]=S,w},runWithContext(g){const S=ps;ps=w;try{return g()}finally{ps=S}}};return w}}let ps=null;function _a(e,t){if(Ye){let s=Ye.provides;const l=Ye.parent&&Ye.parent.provides;l===s&&(s=Ye.provides=Object.create(l)),s[e]=t}}function tn(e,t,s=!1){const l=Ba();if(l||ps){let o=ps?ps._context.provides:l?l.parent==null||l.ce?l.vnode.appContext&&l.vnode.appContext.provides:l.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return s&&pe(t)?t.call(l&&l.proxy):t}}const ma=Symbol.for("v-scx"),ga=()=>tn(ma);function Wt(e,t,s){return ni(e,t,s)}function ni(e,t,s=Oe){const{immediate:l,deep:o,flush:r,once:a}=s,u=st({},s),_=t&&l||!t&&r!=="post";let w;if(Ls){if(r==="sync"){const C=ga();w=C.__watcherHandles||(C.__watcherHandles=[])}else if(!_){const C=()=>{};return C.stop=Tt,C.resume=Tt,C.pause=Tt,C}}const g=Ye;u.call=(C,G,X)=>Et(C,g,G,X);let S=!1;r==="post"?u.scheduler=C=>{dt(C,g&&g.suspense)}:r!=="sync"&&(S=!0,u.scheduler=(C,G)=>{G?C():hl(C)}),u.augmentJob=C=>{t&&(C.flags|=4),S&&(C.flags|=2,g&&(C.id=g.uid,C.i=g))};const I=jr(e,t,u);return Ls&&(w?w.push(I):_&&I()),I}function ha(e,t,s){const l=this.proxy,o=qe(e)?e.includes(".")?li(l,e):()=>l[e]:e.bind(l,l);let r;pe(t)?r=t:(r=t.handler,s=t);const a=qs(this),u=ni(o,r.bind(l),s);return a(),u}function li(e,t){const s=t.split(".");return()=>{let l=e;for(let o=0;o<s.length&&l;o++)l=l[s[o]];return l}}const ya=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${mt(t)}Modifiers`]||e[`${Zt(t)}Modifiers`];function ba(e,t,...s){if(e.isUnmounted)return;const l=e.vnode.props||Oe;let o=s;const r=t.startsWith("update:"),a=r&&ya(l,t.slice(7));a&&(a.trim&&(o=s.map(g=>qe(g)?g.trim():g)),a.number&&(o=s.map(gn)));let u,_=l[u=Dn(t)]||l[u=Dn(mt(t))];!_&&r&&(_=l[u=Dn(Zt(t))]),_&&Et(_,e,6,o);const w=l[u+"Once"];if(w){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,Et(w,e,6,o)}}const wa=new WeakMap;function oi(e,t,s=!1){const l=s?wa:t.emitsCache,o=l.get(e);if(o!==void 0)return o;const r=e.emits;let a={},u=!1;if(!pe(e)){const _=w=>{const g=oi(w,t,!0);g&&(u=!0,st(a,g))};!s&&t.mixins.length&&t.mixins.forEach(_),e.extends&&_(e.extends),e.mixins&&e.mixins.forEach(_)}return!r&&!u?(Pe(e)&&l.set(e,null),null):(oe(r)?r.forEach(_=>a[_]=null):st(a,r),Pe(e)&&l.set(e,a),a)}function $n(e,t){return!e||!vn(t)?!1:(t=t.slice(2).replace(/Once$/,""),Se(e,t[0].toLowerCase()+t.slice(1))||Se(e,Zt(t))||Se(e,t))}function zl(e){const{type:t,vnode:s,proxy:l,withProxy:o,propsOptions:[r],slots:a,attrs:u,emit:_,render:w,renderCache:g,props:S,data:I,setupState:C,ctx:G,inheritAttrs:X}=e,ve=rn(e);let ee,V;try{if(s.shapeFlag&4){const K=o||l,ie=K;ee=St(w.call(ie,K,g,S,C,I,G)),V=u}else{const K=t;ee=St(K.length>1?K(S,{attrs:u,slots:a,emit:_}):K(S,null)),V=t.props?u:ka(u)}}catch(K){Us.length=0,wn(K,e,1),ee=Lt(Gt)}let M=ee;if(V&&X!==!1){const K=Object.keys(V),{shapeFlag:ie}=M;K.length&&ie&7&&(r&&K.some(rl)&&(V=$a(V,r)),M=_s(M,V,!1,!0))}return s.dirs&&(M=_s(M,null,!1,!0),M.dirs=M.dirs?M.dirs.concat(s.dirs):s.dirs),s.transition&&yl(M,s.transition),ee=M,rn(ve),ee}const ka=e=>{let t;for(const s in e)(s==="class"||s==="style"||vn(s))&&((t||(t={}))[s]=e[s]);return t},$a=(e,t)=>{const s={};for(const l in e)(!rl(l)||!(l.slice(9)in t))&&(s[l]=e[l]);return s};function Ca(e,t,s){const{props:l,children:o,component:r}=e,{props:a,children:u,patchFlag:_}=t,w=r.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&_>=0){if(_&1024)return!0;if(_&16)return l?Wl(l,a,w):!!a;if(_&8){const g=t.dynamicProps;for(let S=0;S<g.length;S++){const I=g[S];if(a[I]!==l[I]&&!$n(w,I))return!0}}}else return(o||u)&&(!u||!u.$stable)?!0:l===a?!1:l?a?Wl(l,a,w):!0:!!a;return!1}function Wl(e,t,s){const l=Object.keys(t);if(l.length!==Object.keys(e).length)return!0;for(let o=0;o<l.length;o++){const r=l[o];if(t[r]!==e[r]&&!$n(s,r))return!0}return!1}function Sa({vnode:e,parent:t},s){for(;t;){const l=t.subTree;if(l.suspense&&l.suspense.activeBranch===e&&(l.el=e.el),l===e)(e=t.vnode).el=s,t=t.parent;else break}}const ii={},ri=()=>Object.create(ii),ai=e=>Object.getPrototypeOf(e)===ii;function Ta(e,t,s,l=!1){const o={},r=ri();e.propsDefaults=Object.create(null),ui(e,t,o,r);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);s?e.props=l?o:Pr(o):e.type.props?e.props=o:e.props=r,e.attrs=r}function xa(e,t,s,l){const{props:o,attrs:r,vnode:{patchFlag:a}}=e,u=Ce(o),[_]=e.propsOptions;let w=!1;if((l||a>0)&&!(a&16)){if(a&8){const g=e.vnode.dynamicProps;for(let S=0;S<g.length;S++){let I=g[S];if($n(e.emitsOptions,I))continue;const C=t[I];if(_)if(Se(r,I))C!==r[I]&&(r[I]=C,w=!0);else{const G=mt(I);o[G]=el(_,u,G,C,e,!1)}else C!==r[I]&&(r[I]=C,w=!0)}}}else{ui(e,t,o,r)&&(w=!0);let g;for(const S in u)(!t||!Se(t,S)&&((g=Zt(S))===S||!Se(t,g)))&&(_?s&&(s[S]!==void 0||s[g]!==void 0)&&(o[S]=el(_,u,S,void 0,e,!0)):delete o[S]);if(r!==u)for(const S in r)(!t||!Se(t,S))&&(delete r[S],w=!0)}w&&Mt(e.attrs,"set","")}function ui(e,t,s,l){const[o,r]=e.propsOptions;let a=!1,u;if(t)for(let _ in t){if(Ts(_))continue;const w=t[_];let g;o&&Se(o,g=mt(_))?!r||!r.includes(g)?s[g]=w:(u||(u={}))[g]=w:$n(e.emitsOptions,_)||(!(_ in l)||w!==l[_])&&(l[_]=w,a=!0)}if(r){const _=Ce(s),w=u||Oe;for(let g=0;g<r.length;g++){const S=r[g];s[S]=el(o,_,S,w[S],e,!Se(w,S))}}return a}function el(e,t,s,l,o,r){const a=e[s];if(a!=null){const u=Se(a,"default");if(u&&l===void 0){const _=a.default;if(a.type!==Function&&!a.skipFactory&&pe(_)){const{propsDefaults:w}=o;if(s in w)l=w[s];else{const g=qs(o);l=w[s]=_.call(null,t),g()}}else l=_;o.ce&&o.ce._setProp(s,l)}a[0]&&(r&&!u?l=!1:a[1]&&(l===""||l===Zt(s))&&(l=!0))}return l}const Ea=new WeakMap;function di(e,t,s=!1){const l=s?Ea:t.propsCache,o=l.get(e);if(o)return o;const r=e.props,a={},u=[];let _=!1;if(!pe(e)){const g=S=>{_=!0;const[I,C]=di(S,t,!0);st(a,I),C&&u.push(...C)};!s&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}if(!r&&!_)return Pe(e)&&l.set(e,ds),ds;if(oe(r))for(let g=0;g<r.length;g++){const S=mt(r[g]);Jl(S)&&(a[S]=Oe)}else if(r)for(const g in r){const S=mt(g);if(Jl(S)){const I=r[g],C=a[S]=oe(I)||pe(I)?{type:I}:st({},I),G=C.type;let X=!1,ve=!0;if(oe(G))for(let ee=0;ee<G.length;++ee){const V=G[ee],M=pe(V)&&V.name;if(M==="Boolean"){X=!0;break}else M==="String"&&(ve=!1)}else X=pe(G)&&G.name==="Boolean";C[0]=X,C[1]=ve,(X||Se(C,"default"))&&u.push(S)}}const w=[a,u];return Pe(e)&&l.set(e,w),w}function Jl(e){return e[0]!=="$"&&!Ts(e)}const bl=e=>e==="_"||e==="_ctx"||e==="$stable",wl=e=>oe(e)?e.map(St):[St(e)],Oa=(e,t,s)=>{if(t._n)return t;const l=qr((...o)=>wl(t(...o)),s);return l._c=!1,l},ci=(e,t,s)=>{const l=e._ctx;for(const o in e){if(bl(o))continue;const r=e[o];if(pe(r))t[o]=Oa(o,r,l);else if(r!=null){const a=wl(r);t[o]=()=>a}}},fi=(e,t)=>{const s=wl(t);e.slots.default=()=>s},pi=(e,t,s)=>{for(const l in t)(s||!bl(l))&&(e[l]=t[l])},Aa=(e,t,s)=>{const l=e.slots=ri();if(e.vnode.shapeFlag&32){const o=t._;o?(pi(l,t,s),s&&Co(l,"_",o,!0)):ci(t,l)}else t&&fi(e,t)},Pa=(e,t,s)=>{const{vnode:l,slots:o}=e;let r=!0,a=Oe;if(l.shapeFlag&32){const u=t._;u?s&&u===1?r=!1:pi(o,t,s):(r=!t.$stable,ci(t,o)),a=t}else t&&(fi(e,t),a={default:1});if(r)for(const u in o)!bl(u)&&a[u]==null&&delete o[u]},dt=Da;function Ia(e){return Ua(e)}function Ua(e,t){const s=hn();s.__VUE__=!0;const{insert:l,remove:o,patchProp:r,createElement:a,createText:u,createComment:_,setText:w,setElementText:g,parentNode:S,nextSibling:I,setScopeId:C=Tt,insertStaticContent:G}=e,X=(v,h,O,D=null,F=null,A=null,j=void 0,E=null,N=!!h.dynamicChildren)=>{if(v===h)return;v&&!Cs(v,h)&&(D=pt(v),Ue(v,F,A,!0),v=null),h.patchFlag===-2&&(N=!1,h.dynamicChildren=null);const{type:R,ref:Q,shapeFlag:H}=h;switch(R){case Cn:ve(v,h,O,D);break;case Gt:ee(v,h,O,D);break;case qn:v==null&&V(h,O,D,j);break;case ae:Ke(v,h,O,D,F,A,j,E,N);break;default:H&1?ie(v,h,O,D,F,A,j,E,N):H&6?ze(v,h,O,D,F,A,j,E,N):(H&64||H&128)&&R.process(v,h,O,D,F,A,j,E,N,We)}Q!=null&&F?As(Q,v&&v.ref,A,h||v,!h):Q==null&&v&&v.ref!=null&&As(v.ref,null,A,v,!0)},ve=(v,h,O,D)=>{if(v==null)l(h.el=u(h.children),O,D);else{const F=h.el=v.el;h.children!==v.children&&w(F,h.children)}},ee=(v,h,O,D)=>{v==null?l(h.el=_(h.children||""),O,D):h.el=v.el},V=(v,h,O,D)=>{[v.el,v.anchor]=G(v.children,h,O,D,v.el,v.anchor)},M=({el:v,anchor:h},O,D)=>{let F;for(;v&&v!==h;)F=I(v),l(v,O,D),v=F;l(h,O,D)},K=({el:v,anchor:h})=>{let O;for(;v&&v!==h;)O=I(v),o(v),v=O;o(h)},ie=(v,h,O,D,F,A,j,E,N)=>{if(h.type==="svg"?j="svg":h.type==="math"&&(j="mathml"),v==null)re(h,O,D,F,A,j,E,N);else{const R=v.el&&v.el._isVueCE?v.el:null;try{R&&R._beginPatch(),le(v,h,F,A,j,E,N)}finally{R&&R._endPatch()}}},re=(v,h,O,D,F,A,j,E)=>{let N,R;const{props:Q,shapeFlag:H,transition:T,dirs:k}=v;if(N=v.el=a(v.type,A,Q&&Q.is,Q),H&8?g(N,v.children):H&16&&te(v.children,N,null,D,F,Hn(v,A),j,E),k&&Qt(v,null,D,"created"),J(N,v,v.scopeId,j,D),Q){for(const W in Q)W!=="value"&&!Ts(W)&&r(N,W,null,Q[W],A,D);"value"in Q&&r(N,"value",null,Q.value,A),(R=Q.onVnodeBeforeMount)&&$t(R,D,v)}k&&Qt(v,null,D,"beforeMount");const U=Fa(F,T);U&&T.beforeEnter(N),l(N,h,O),((R=Q&&Q.onVnodeMounted)||U||k)&&dt(()=>{R&&$t(R,D,v),U&&T.enter(N),k&&Qt(v,null,D,"mounted")},F)},J=(v,h,O,D,F)=>{if(O&&C(v,O),D)for(let A=0;A<D.length;A++)C(v,D[A]);if(F){let A=F.subTree;if(h===A||mi(A.type)&&(A.ssContent===h||A.ssFallback===h)){const j=F.vnode;J(v,j,j.scopeId,j.slotScopeIds,F.parent)}}},te=(v,h,O,D,F,A,j,E,N=0)=>{for(let R=N;R<v.length;R++){const Q=v[R]=E?zt(v[R]):St(v[R]);X(null,Q,h,O,D,F,A,j,E)}},le=(v,h,O,D,F,A,j)=>{const E=h.el=v.el;let{patchFlag:N,dynamicChildren:R,dirs:Q}=h;N|=v.patchFlag&16;const H=v.props||Oe,T=h.props||Oe;let k;if(O&&es(O,!1),(k=T.onVnodeBeforeUpdate)&&$t(k,O,h,v),Q&&Qt(h,v,O,"beforeUpdate"),O&&es(O,!0),(H.innerHTML&&T.innerHTML==null||H.textContent&&T.textContent==null)&&g(E,""),R?ue(v.dynamicChildren,R,E,O,D,Hn(h,F),A):j||ge(v,h,E,null,O,D,Hn(h,F),A,!1),N>0){if(N&16)Ve(E,H,T,O,F);else if(N&2&&H.class!==T.class&&r(E,"class",null,T.class,F),N&4&&r(E,"style",H.style,T.style,F),N&8){const U=h.dynamicProps;for(let W=0;W<U.length;W++){const se=U[W],ye=H[se],we=T[se];(we!==ye||se==="value")&&r(E,se,ye,we,F,O)}}N&1&&v.children!==h.children&&g(E,h.children)}else!j&&R==null&&Ve(E,H,T,O,F);((k=T.onVnodeUpdated)||Q)&&dt(()=>{k&&$t(k,O,h,v),Q&&Qt(h,v,O,"updated")},D)},ue=(v,h,O,D,F,A,j)=>{for(let E=0;E<h.length;E++){const N=v[E],R=h[E],Q=N.el&&(N.type===ae||!Cs(N,R)||N.shapeFlag&198)?S(N.el):O;X(N,R,Q,null,D,F,A,j,!0)}},Ve=(v,h,O,D,F)=>{if(h!==O){if(h!==Oe)for(const A in h)!Ts(A)&&!(A in O)&&r(v,A,h[A],null,F,D);for(const A in O){if(Ts(A))continue;const j=O[A],E=h[A];j!==E&&A!=="value"&&r(v,A,E,j,F,D)}"value"in O&&r(v,"value",h.value,O.value,F)}},Ke=(v,h,O,D,F,A,j,E,N)=>{const R=h.el=v?v.el:u(""),Q=h.anchor=v?v.anchor:u("");let{patchFlag:H,dynamicChildren:T,slotScopeIds:k}=h;k&&(E=E?E.concat(k):k),v==null?(l(R,O,D),l(Q,O,D),te(h.children||[],O,Q,F,A,j,E,N)):H>0&&H&64&&T&&v.dynamicChildren?(ue(v.dynamicChildren,T,O,F,A,j,E),(h.key!=null||F&&h===F.subTree)&&vi(v,h,!0)):ge(v,h,O,Q,F,A,j,E,N)},ze=(v,h,O,D,F,A,j,E,N)=>{h.slotScopeIds=E,v==null?h.shapeFlag&512?F.ctx.activate(h,O,D,j,N):_e(h,O,D,F,A,j,N):Ge(v,h,N)},_e=(v,h,O,D,F,A,j)=>{const E=v.component=qa(v,D,F);if(Xo(v)&&(E.ctx.renderer=We),Ka(E,!1,j),E.asyncDep){if(F&&F.registerDep(E,Y,j),!v.el){const N=E.subTree=Lt(Gt);ee(null,N,h,O),v.placeholder=N.el}}else Y(E,v,h,O,F,A,j)},Ge=(v,h,O)=>{const D=h.component=v.component;if(Ca(v,h,O))if(D.asyncDep&&!D.asyncResolved){ce(D,h,O);return}else D.next=h,D.update();else h.el=v.el,D.vnode=h},Y=(v,h,O,D,F,A,j)=>{const E=()=>{if(v.isMounted){let{next:H,bu:T,u:k,parent:U,vnode:W}=v;{const Le=_i(v);if(Le){H&&(H.el=W.el,ce(v,H,j)),Le.asyncDep.then(()=>{v.isUnmounted||E()});return}}let se=H,ye;es(v,!1),H?(H.el=W.el,ce(v,H,j)):H=W,T&&Qs(T),(ye=H.props&&H.props.onVnodeBeforeUpdate)&&$t(ye,U,H,W),es(v,!0);const we=zl(v),He=v.subTree;v.subTree=we,X(He,we,S(He.el),pt(He),v,F,A),H.el=we.el,se===null&&Sa(v,we.el),k&&dt(k,F),(ye=H.props&&H.props.onVnodeUpdated)&&dt(()=>$t(ye,U,H,W),F)}else{let H;const{el:T,props:k}=h,{bm:U,m:W,parent:se,root:ye,type:we}=v,He=Ps(h);es(v,!1),U&&Qs(U),!He&&(H=k&&k.onVnodeBeforeMount)&&$t(H,se,h),es(v,!0);{ye.ce&&ye.ce._def.shadowRoot!==!1&&ye.ce._injectChildStyle(we);const Le=v.subTree=zl(v);X(null,Le,O,D,v,F,A),h.el=Le.el}if(W&&dt(W,F),!He&&(H=k&&k.onVnodeMounted)){const Le=h;dt(()=>$t(H,se,Le),F)}(h.shapeFlag&256||se&&Ps(se.vnode)&&se.vnode.shapeFlag&256)&&v.a&&dt(v.a,F),v.isMounted=!0,h=O=D=null}};v.scope.on();const N=v.effect=new Eo(E);v.scope.off();const R=v.update=N.run.bind(N),Q=v.job=N.runIfDirty.bind(N);Q.i=v,Q.id=v.uid,N.scheduler=()=>hl(Q),es(v,!0),R()},ce=(v,h,O)=>{h.component=v;const D=v.vnode.props;v.vnode=h,v.next=null,xa(v,h.props,D,O),Pa(v,h.children,O),jt(),jl(v),Vt()},ge=(v,h,O,D,F,A,j,E,N=!1)=>{const R=v&&v.children,Q=v?v.shapeFlag:0,H=h.children,{patchFlag:T,shapeFlag:k}=h;if(T>0){if(T&128){Ie(R,H,O,D,F,A,j,E,N);return}else if(T&256){be(R,H,O,D,F,A,j,E,N);return}}k&8?(Q&16&&gt(R,F,A),H!==R&&g(O,H)):Q&16?k&16?Ie(R,H,O,D,F,A,j,E,N):gt(R,F,A,!0):(Q&8&&g(O,""),k&16&&te(H,O,D,F,A,j,E,N))},be=(v,h,O,D,F,A,j,E,N)=>{v=v||ds,h=h||ds;const R=v.length,Q=h.length,H=Math.min(R,Q);let T;for(T=0;T<H;T++){const k=h[T]=N?zt(h[T]):St(h[T]);X(v[T],k,O,null,F,A,j,E,N)}R>Q?gt(v,F,A,!0,!1,H):te(h,O,D,F,A,j,E,N,H)},Ie=(v,h,O,D,F,A,j,E,N)=>{let R=0;const Q=h.length;let H=v.length-1,T=Q-1;for(;R<=H&&R<=T;){const k=v[R],U=h[R]=N?zt(h[R]):St(h[R]);if(Cs(k,U))X(k,U,O,null,F,A,j,E,N);else break;R++}for(;R<=H&&R<=T;){const k=v[H],U=h[T]=N?zt(h[T]):St(h[T]);if(Cs(k,U))X(k,U,O,null,F,A,j,E,N);else break;H--,T--}if(R>H){if(R<=T){const k=T+1,U=k<Q?h[k].el:D;for(;R<=T;)X(null,h[R]=N?zt(h[R]):St(h[R]),O,U,F,A,j,E,N),R++}}else if(R>T)for(;R<=H;)Ue(v[R],F,A,!0),R++;else{const k=R,U=R,W=new Map;for(R=U;R<=T;R++){const je=h[R]=N?zt(h[R]):St(h[R]);je.key!=null&&W.set(je.key,R)}let se,ye=0;const we=T-U+1;let He=!1,Le=0;const nt=new Array(we);for(R=0;R<we;R++)nt[R]=0;for(R=k;R<=H;R++){const je=v[R];if(ye>=we){Ue(je,F,A,!0);continue}let Me;if(je.key!=null)Me=W.get(je.key);else for(se=U;se<=T;se++)if(nt[se-U]===0&&Cs(je,h[se])){Me=se;break}Me===void 0?Ue(je,F,A,!0):(nt[Me-U]=R+1,Me>=Le?Le=Me:He=!0,X(je,h[Me],O,null,F,A,j,E,N),ye++)}const at=He?Ma(nt):ds;for(se=at.length-1,R=we-1;R>=0;R--){const je=U+R,Me=h[je],lt=h[je+1],Ot=je+1<Q?lt.el||lt.placeholder:D;nt[R]===0?X(null,Me,O,Ot,F,A,j,E,N):He&&(se<0||R!==at[se]?me(Me,O,Ot,2):se--)}}},me=(v,h,O,D,F=null)=>{const{el:A,type:j,transition:E,children:N,shapeFlag:R}=v;if(R&6){me(v.component.subTree,h,O,D);return}if(R&128){v.suspense.move(h,O,D);return}if(R&64){j.move(v,h,O,We);return}if(j===ae){l(A,h,O);for(let H=0;H<N.length;H++)me(N[H],h,O,D);l(v.anchor,h,O);return}if(j===qn){M(v,h,O);return}if(D!==2&&R&1&&E)if(D===0)E.beforeEnter(A),l(A,h,O),dt(()=>E.enter(A),F);else{const{leave:H,delayLeave:T,afterLeave:k}=E,U=()=>{v.ctx.isUnmounted?o(A):l(A,h,O)},W=()=>{A._isLeaving&&A[zr](!0),H(A,()=>{U(),k&&k()})};T?T(A,U,W):W()}else l(A,h,O)},Ue=(v,h,O,D=!1,F=!1)=>{const{type:A,props:j,ref:E,children:N,dynamicChildren:R,shapeFlag:Q,patchFlag:H,dirs:T,cacheIndex:k}=v;if(H===-2&&(F=!1),E!=null&&(jt(),As(E,null,O,v,!0),Vt()),k!=null&&(h.renderCache[k]=void 0),Q&256){h.ctx.deactivate(v);return}const U=Q&1&&T,W=!Ps(v);let se;if(W&&(se=j&&j.onVnodeBeforeUnmount)&&$t(se,h,v),Q&6)he(v.component,O,D);else{if(Q&128){v.suspense.unmount(O,D);return}U&&Qt(v,null,h,"beforeUnmount"),Q&64?v.type.remove(v,h,O,We,D):R&&!R.hasOnce&&(A!==ae||H>0&&H&64)?gt(R,h,O,!1,!0):(A===ae&&H&384||!F&&Q&16)&&gt(N,h,O),D&&Re(v)}(W&&(se=j&&j.onVnodeUnmounted)||U)&&dt(()=>{se&&$t(se,h,v),U&&Qt(v,null,h,"unmounted")},O)},Re=v=>{const{type:h,el:O,anchor:D,transition:F}=v;if(h===ae){Be(O,D);return}if(h===qn){K(v);return}const A=()=>{o(O),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(v.shapeFlag&1&&F&&!F.persisted){const{leave:j,delayLeave:E}=F,N=()=>j(O,A);E?E(v.el,A,N):N()}else A()},Be=(v,h)=>{let O;for(;v!==h;)O=I(v),o(v),v=O;o(h)},he=(v,h,O)=>{const{bum:D,scope:F,job:A,subTree:j,um:E,m:N,a:R}=v;Gl(N),Gl(R),D&&Qs(D),F.stop(),A&&(A.flags|=8,Ue(j,v,h,O)),E&&dt(E,h),dt(()=>{v.isUnmounted=!0},h)},gt=(v,h,O,D=!1,F=!1,A=0)=>{for(let j=A;j<v.length;j++)Ue(v[j],h,O,D,F)},pt=v=>{if(v.shapeFlag&6)return pt(v.component.subTree);if(v.shapeFlag&128)return v.suspense.next();const h=I(v.anchor||v.el),O=h&&h[Br];return O?I(O):h};let rt=!1;const ht=(v,h,O)=>{v==null?h._vnode&&Ue(h._vnode,null,null,!0):X(h._vnode||null,v,h,null,null,null,O),h._vnode=v,rt||(rt=!0,jl(),zo(),rt=!1)},We={p:X,um:Ue,m:me,r:Re,mt:_e,mc:te,pc:ge,pbc:ue,n:pt,o:e};return{render:ht,hydrate:void 0,createApp:va(ht)}}function Hn({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function es({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Fa(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function vi(e,t,s=!1){const l=e.children,o=t.children;if(oe(l)&&oe(o))for(let r=0;r<l.length;r++){const a=l[r];let u=o[r];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=o[r]=zt(o[r]),u.el=a.el),!s&&u.patchFlag!==-2&&vi(a,u)),u.type===Cn&&u.patchFlag!==-1&&(u.el=a.el),u.type===Gt&&!u.el&&(u.el=a.el)}}function Ma(e){const t=e.slice(),s=[0];let l,o,r,a,u;const _=e.length;for(l=0;l<_;l++){const w=e[l];if(w!==0){if(o=s[s.length-1],e[o]<w){t[l]=o,s.push(l);continue}for(r=0,a=s.length-1;r<a;)u=r+a>>1,e[s[u]]<w?r=u+1:a=u;w<e[s[r]]&&(r>0&&(t[l]=s[r-1]),s[r]=l)}}for(r=s.length,a=s[r-1];r-- >0;)s[r]=a,a=t[a];return s}function _i(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:_i(t)}function Gl(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const mi=e=>e.__isSuspense;function Da(e,t){t&&t.pendingBranch?oe(e)?t.effects.push(...e):t.effects.push(e):Hr(e)}const ae=Symbol.for("v-fgt"),Cn=Symbol.for("v-txt"),Gt=Symbol.for("v-cmt"),qn=Symbol.for("v-stc"),Us=[];let ft=null;function c(e=!1){Us.push(ft=e?null:[])}function Ra(){Us.pop(),ft=Us[Us.length-1]||null}let Rs=1;function Xl(e,t=!1){Rs+=e,e<0&&ft&&t&&(ft.hasOnce=!0)}function gi(e){return e.dynamicChildren=Rs>0?ft||ds:null,Ra(),Rs>0&&ft&&ft.push(e),e}function f(e,t,s,l,o,r){return gi(n(e,t,s,l,o,r,!0))}function tl(e,t,s,l,o){return gi(Lt(e,t,s,l,o,!0))}function hi(e){return e?e.__v_isVNode===!0:!1}function Cs(e,t){return e.type===t.type&&e.key===t.key}const yi=({key:e})=>e??null,sn=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?qe(e)||Qe(e)||pe(e)?{i:ct,r:e,k:t,f:!!s}:e:null);function n(e,t=null,s=null,l=0,o=null,r=e===ae?0:1,a=!1,u=!1){const _={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&yi(t),ref:t&&sn(t),scopeId:Jo,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:l,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:ct};return u?(kl(_,s),r&128&&e.normalize(_)):s&&(_.shapeFlag|=qe(s)?8:16),Rs>0&&!a&&ft&&(_.patchFlag>0||r&6)&&_.patchFlag!==32&&ft.push(_),_}const Lt=La;function La(e,t=null,s=null,l=0,o=null,r=!1){if((!e||e===Qo)&&(e=Gt),hi(e)){const u=_s(e,t,!0);return s&&kl(u,s),Rs>0&&!r&&ft&&(u.shapeFlag&6?ft[ft.indexOf(e)]=u:ft.push(u)),u.patchFlag=-2,u}if(Xa(e)&&(e=e.__vccOpts),t){t=ja(t);let{class:u,style:_}=t;u&&!qe(u)&&(t.class=De(u)),Pe(_)&&(gl(_)&&!oe(_)&&(_=st({},_)),t.style=yn(_))}const a=qe(e)?1:mi(e)?128:Kr(e)?64:Pe(e)?4:pe(e)?2:0;return n(e,t,s,l,o,a,r,!0)}function ja(e){return e?gl(e)||ai(e)?st({},e):e:null}function _s(e,t,s=!1,l=!1){const{props:o,ref:r,patchFlag:a,children:u,transition:_}=e,w=t?Va(o||{},t):o,g={__v_isVNode:!0,__v_skip:!0,type:e.type,props:w,key:w&&yi(w),ref:t&&t.ref?s&&r?oe(r)?r.concat(sn(t)):[r,sn(t)]:sn(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ae?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:_,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&_s(e.ssContent),ssFallback:e.ssFallback&&_s(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return _&&l&&yl(g,_.clone(g)),g}function Z(e=" ",t=0){return Lt(Cn,null,e,t)}function P(e="",t=!1){return t?(c(),tl(Gt,null,e)):Lt(Gt,null,e)}function St(e){return e==null||typeof e=="boolean"?Lt(Gt):oe(e)?Lt(ae,null,e.slice()):hi(e)?zt(e):Lt(Cn,null,String(e))}function zt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:_s(e)}function kl(e,t){let s=0;const{shapeFlag:l}=e;if(t==null)t=null;else if(oe(t))s=16;else if(typeof t=="object")if(l&65){const o=t.default;o&&(o._c&&(o._d=!1),kl(e,o()),o._c&&(o._d=!0));return}else{s=32;const o=t._;!o&&!ai(t)?t._ctx=ct:o===3&&ct&&(ct.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else pe(t)?(t={default:t,_ctx:ct},s=32):(t=String(t),l&64?(s=16,t=[Z(t)]):s=8);e.children=t,e.shapeFlag|=s}function Va(...e){const t={};for(let s=0;s<e.length;s++){const l=e[s];for(const o in l)if(o==="class")t.class!==l.class&&(t.class=De([t.class,l.class]));else if(o==="style")t.style=yn([t.style,l.style]);else if(vn(o)){const r=t[o],a=l[o];a&&r!==a&&!(oe(r)&&r.includes(a))&&(t[o]=r?[].concat(r,a):a)}else o!==""&&(t[o]=l[o])}return t}function $t(e,t,s,l=null){Et(e,t,7,[s,l])}const Na=si();let Ha=0;function qa(e,t,s){const l=e.type,o=(t?t.appContext:e.appContext)||Na,r={uid:Ha++,vnode:e,type:l,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new cr(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:di(l,o),emitsOptions:oi(l,o),emit:null,emitted:null,propsDefaults:Oe,inheritAttrs:l.inheritAttrs,ctx:Oe,data:Oe,props:Oe,attrs:Oe,slots:Oe,refs:Oe,setupState:Oe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=ba.bind(null,r),e.ce&&e.ce(r),r}let Ye=null;const Ba=()=>Ye||ct;let dn,sl;{const e=hn(),t=(s,l)=>{let o;return(o=e[s])||(o=e[s]=[]),o.push(l),r=>{o.length>1?o.forEach(a=>a(r)):o[0](r)}};dn=t("__VUE_INSTANCE_SETTERS__",s=>Ye=s),sl=t("__VUE_SSR_SETTERS__",s=>Ls=s)}const qs=e=>{const t=Ye;return dn(e),e.scope.on(),()=>{e.scope.off(),dn(t)}},Zl=()=>{Ye&&Ye.scope.off(),dn(null)};function bi(e){return e.vnode.shapeFlag&4}let Ls=!1;function Ka(e,t=!1,s=!1){t&&sl(t);const{props:l,children:o}=e.vnode,r=bi(e);Ta(e,l,r,t),Aa(e,o,s||t);const a=r?za(e,t):void 0;return t&&sl(!1),a}function za(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,ra);const{setup:l}=s;if(l){jt();const o=e.setupContext=l.length>1?Ja(e):null,r=qs(e),a=Ns(l,e,0,[e.props,o]),u=wo(a);if(Vt(),r(),(u||e.sp)&&!Ps(e)&&Go(e),u){if(a.then(Zl,Zl),t)return a.then(_=>{Yl(e,_)}).catch(_=>{wn(_,e,0)});e.asyncDep=a}else Yl(e,a)}else wi(e)}function Yl(e,t,s){pe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Pe(t)&&(e.setupState=qo(t)),wi(e)}function wi(e,t,s){const l=e.type;e.render||(e.render=l.render||Tt);{const o=qs(e);jt();try{aa(e)}finally{Vt(),o()}}}const Wa={get(e,t){return Xe(e,"get",""),e[t]}};function Ja(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Wa),slots:e.slots,emit:e.emit,expose:t}}function Sn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(qo(Ir(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Is)return Is[s](e)},has(t,s){return s in t||s in Is}})):e.proxy}function Ga(e,t=!0){return pe(e)?e.displayName||e.name:e.name||t&&e.__name}function Xa(e){return pe(e)&&"__vccOpts"in e}const ss=(e,t)=>Rr(e,t,Ls),Za="3.5.25";/**
* @vue/runtime-dom v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let nl;const Ql=typeof window<"u"&&window.trustedTypes;if(Ql)try{nl=Ql.createPolicy("vue",{createHTML:e=>e})}catch{}const ki=nl?e=>nl.createHTML(e):e=>e,Ya="http://www.w3.org/2000/svg",Qa="http://www.w3.org/1998/Math/MathML",Ft=typeof document<"u"?document:null,eo=Ft&&Ft.createElement("template"),eu={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,l)=>{const o=t==="svg"?Ft.createElementNS(Ya,e):t==="mathml"?Ft.createElementNS(Qa,e):s?Ft.createElement(e,{is:s}):Ft.createElement(e);return e==="select"&&l&&l.multiple!=null&&o.setAttribute("multiple",l.multiple),o},createText:e=>Ft.createTextNode(e),createComment:e=>Ft.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ft.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,l,o,r){const a=s?s.previousSibling:t.lastChild;if(o&&(o===r||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),s),!(o===r||!(o=o.nextSibling)););else{eo.innerHTML=ki(l==="svg"?`<svg>${e}</svg>`:l==="mathml"?`<math>${e}</math>`:e);const u=eo.content;if(l==="svg"||l==="mathml"){const _=u.firstChild;for(;_.firstChild;)u.appendChild(_.firstChild);u.removeChild(_)}t.insertBefore(u,s)}return[a?a.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},tu=Symbol("_vtc");function su(e,t,s){const l=e[tu];l&&(t=(t?[t,...l]:[...l]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const to=Symbol("_vod"),nu=Symbol("_vsh"),lu=Symbol(""),ou=/(?:^|;)\s*display\s*:/;function iu(e,t,s){const l=e.style,o=qe(s);let r=!1;if(s&&!o){if(t)if(qe(t))for(const a of t.split(";")){const u=a.slice(0,a.indexOf(":")).trim();s[u]==null&&nn(l,u,"")}else for(const a in t)s[a]==null&&nn(l,a,"");for(const a in s)a==="display"&&(r=!0),nn(l,a,s[a])}else if(o){if(t!==s){const a=l[lu];a&&(s+=";"+a),l.cssText=s,r=ou.test(s)}}else t&&e.removeAttribute("style");to in e&&(e[to]=r?l.display:"",e[nu]&&(l.display="none"))}const so=/\s*!important$/;function nn(e,t,s){if(oe(s))s.forEach(l=>nn(e,t,l));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const l=ru(e,t);so.test(s)?e.setProperty(Zt(l),s.replace(so,""),"important"):e[l]=s}}const no=["Webkit","Moz","ms"],Bn={};function ru(e,t){const s=Bn[t];if(s)return s;let l=mt(t);if(l!=="filter"&&l in e)return Bn[t]=l;l=mn(l);for(let o=0;o<no.length;o++){const r=no[o]+l;if(r in e)return Bn[t]=r}return t}const lo="http://www.w3.org/1999/xlink";function oo(e,t,s,l,o,r=ur(t)){l&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(lo,t.slice(6,t.length)):e.setAttributeNS(lo,t,s):s==null||r&&!So(s)?e.removeAttribute(t):e.setAttribute(t,r?"":xt(s)?String(s):s)}function io(e,t,s,l,o){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?ki(s):s);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const u=r==="OPTION"?e.getAttribute("value")||"":e.value,_=s==null?e.type==="checkbox"?"on":"":String(s);(u!==_||!("_value"in e))&&(e.value=_),s==null&&e.removeAttribute(t),e._value=s;return}let a=!1;if(s===""||s==null){const u=typeof e[t];u==="boolean"?s=So(s):s==null&&u==="string"?(s="",a=!0):u==="number"&&(s=0,a=!0)}try{e[t]=s}catch{}a&&e.removeAttribute(o||t)}function Rt(e,t,s,l){e.addEventListener(t,s,l)}function au(e,t,s,l){e.removeEventListener(t,s,l)}const ro=Symbol("_vei");function uu(e,t,s,l,o=null){const r=e[ro]||(e[ro]={}),a=r[t];if(l&&a)a.value=l;else{const[u,_]=du(t);if(l){const w=r[t]=pu(l,o);Rt(e,u,w,_)}else a&&(au(e,u,a,_),r[t]=void 0)}}const ao=/(?:Once|Passive|Capture)$/;function du(e){let t;if(ao.test(e)){t={};let l;for(;l=e.match(ao);)e=e.slice(0,e.length-l[0].length),t[l[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Zt(e.slice(2)),t]}let Kn=0;const cu=Promise.resolve(),fu=()=>Kn||(cu.then(()=>Kn=0),Kn=Date.now());function pu(e,t){const s=l=>{if(!l._vts)l._vts=Date.now();else if(l._vts<=s.attached)return;Et(vu(l,s.value),t,5,[l])};return s.value=e,s.attached=fu(),s}function vu(e,t){if(oe(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(l=>o=>!o._stopped&&l&&l(o))}else return t}const uo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,_u=(e,t,s,l,o,r)=>{const a=o==="svg";t==="class"?su(e,l,a):t==="style"?iu(e,s,l):vn(t)?rl(t)||uu(e,t,s,l,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):mu(e,t,l,a))?(io(e,t,l),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&oo(e,t,l,a,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!qe(l))?io(e,mt(t),l,r,t):(t==="true-value"?e._trueValue=l:t==="false-value"&&(e._falseValue=l),oo(e,t,l,a))};function mu(e,t,s,l){if(l)return!!(t==="innerHTML"||t==="textContent"||t in e&&uo(t)&&pe(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return uo(t)&&qe(s)?!1:t in e}const Xt=e=>{const t=e.props["onUpdate:modelValue"]||!1;return oe(t)?s=>Qs(t,s):t};function gu(e){e.target.composing=!0}function co(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const _t=Symbol("_assign");function fo(e,t,s){return t&&(e=e.trim()),s&&(e=gn(e)),e}const ke={created(e,{modifiers:{lazy:t,trim:s,number:l}},o){e[_t]=Xt(o);const r=l||o.props&&o.props.type==="number";Rt(e,t?"change":"input",a=>{a.target.composing||e[_t](fo(e.value,s,r))}),(s||r)&&Rt(e,"change",()=>{e.value=fo(e.value,s,r)}),t||(Rt(e,"compositionstart",gu),Rt(e,"compositionend",co),Rt(e,"change",co))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:l,trim:o,number:r}},a){if(e[_t]=Xt(a),e.composing)return;const u=(r||e.type==="number")&&!/^0\d/.test(e.value)?gn(e.value):e.value,_=t??"";u!==_&&(document.activeElement===e&&e.type!=="range"&&(l&&t===s||o&&e.value.trim()===_)||(e.value=_))}},cn={deep:!0,created(e,t,s){e[_t]=Xt(s),Rt(e,"change",()=>{const l=e._modelValue,o=ms(e),r=e.checked,a=e[_t];if(oe(l)){const u=dl(l,o),_=u!==-1;if(r&&!_)a(l.concat(o));else if(!r&&_){const w=[...l];w.splice(u,1),a(w)}}else if(gs(l)){const u=new Set(l);r?u.add(o):u.delete(o),a(u)}else a($i(e,r))})},mounted:po,beforeUpdate(e,t,s){e[_t]=Xt(s),po(e,t,s)}};function po(e,{value:t,oldValue:s},l){e._modelValue=t;let o;if(oe(t))o=dl(t,l.props.value)>-1;else if(gs(t))o=t.has(l.props.value);else{if(t===s)return;o=os(t,$i(e,!0))}e.checked!==o&&(e.checked=o)}const ll={created(e,{value:t},s){e.checked=os(t,s.props.value),e[_t]=Xt(s),Rt(e,"change",()=>{e[_t](ms(e))})},beforeUpdate(e,{value:t,oldValue:s},l){e[_t]=Xt(l),t!==s&&(e.checked=os(t,l.props.value))}},yt={deep:!0,created(e,{value:t,modifiers:{number:s}},l){const o=gs(t);Rt(e,"change",()=>{const r=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>s?gn(ms(a)):ms(a));e[_t](e.multiple?o?new Set(r):r:r[0]),e._assigning=!0,Os(()=>{e._assigning=!1})}),e[_t]=Xt(l)},mounted(e,{value:t}){vo(e,t)},beforeUpdate(e,t,s){e[_t]=Xt(s)},updated(e,{value:t}){e._assigning||vo(e,t)}};function vo(e,t){const s=e.multiple,l=oe(t);if(!(s&&!l&&!gs(t))){for(let o=0,r=e.options.length;o<r;o++){const a=e.options[o],u=ms(a);if(s)if(l){const _=typeof u;_==="string"||_==="number"?a.selected=t.some(w=>String(w)===String(u)):a.selected=dl(t,u)>-1}else a.selected=t.has(u);else if(os(ms(a),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ms(e){return"_value"in e?e._value:e.value}function $i(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const hu={created(e,t,s){Zs(e,t,s,null,"created")},mounted(e,t,s){Zs(e,t,s,null,"mounted")},beforeUpdate(e,t,s,l){Zs(e,t,s,l,"beforeUpdate")},updated(e,t,s,l){Zs(e,t,s,l,"updated")}};function yu(e,t){switch(e){case"SELECT":return yt;case"TEXTAREA":return ke;default:switch(t){case"checkbox":return cn;case"radio":return ll;default:return ke}}}function Zs(e,t,s,l,o){const a=yu(e.tagName,s.props&&s.props.type)[o];a&&a(e,t,s,l)}const bu=["ctrl","shift","alt","meta"],wu={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>bu.some(s=>e[`${s}Key`]&&!t.includes(s))},Je=(e,t)=>{const s=e._withMods||(e._withMods={}),l=t.join(".");return s[l]||(s[l]=(o,...r)=>{for(let a=0;a<t.length;a++){const u=wu[t[a]];if(u&&u(o,t))return}return e(o,...r)})},ku={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},$u=(e,t)=>{const s=e._withKeys||(e._withKeys={}),l=t.join(".");return s[l]||(s[l]=o=>{if(!("key"in o))return;const r=Zt(o.key);if(t.some(a=>a===r||ku[a]===r))return e(o)})},Cu=st({patchProp:_u},eu);let _o;function Su(){return _o||(_o=Ia(Cu))}const Tu=(...e)=>{const t=Su().createApp(...e),{mount:s}=t;return t.mount=l=>{const o=Eu(l);if(!o)return;const r=t._component;!pe(r)&&!r.render&&!r.template&&(r.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const a=s(o,!1,xu(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t};function xu(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Eu(e){return qe(e)?document.querySelector(e):e}const Ci={authBaseUrl:"https://privaterag.jpegonapechain.com",get ragBaseUrl(){const e=localStorage.getItem("chatConfig");if(e)try{return JSON.parse(e).baseUrl||"https://privaterag.jpegonapechain.com"}catch(t){console.warn("Failed to parse chatConfig",t)}return"https://privaterag.jpegonapechain.com"}},js=()=>{const e=localStorage.getItem("authToken");return e?{Authorization:`Bearer ${e}`}:{}},Si=e=>`${Ci.authBaseUrl}/api${e}`,Ee=e=>`${Ci.ragBaseUrl}${e}`,it=async(e,t={})=>{const{method:s="GET",headers:l={},body:o,requireAuth:r=!0,...a}=t,u={"Content-Type":"application/json",...l};r&&Object.assign(u,js());const _={method:s,headers:u,...a};o&&(o instanceof FormData?(delete _.headers["Content-Type"],_.body=o):typeof o=="object"?_.body=JSON.stringify(o):_.body=o);try{const w=await fetch(e,_),g=w.headers.get("content-type");if(g&&g.includes("application/json")){const S=await w.json();if(!w.ok){const I=new Error(S.message||S.detail||`HTTP ${w.status}`);throw I.status=w.status,I.data=S,I}return S}else{if(!w.ok){const S=new Error(`HTTP ${w.status}: ${w.statusText}`);throw S.status=w.status,S}return w}}catch(w){throw w.name==="TypeError"&&w.message.includes("fetch")?new Error(" API "):w}},Ti=async(e,t)=>{const s=Si("/auth/login");return it(s,{method:"POST",body:{username:e,password:t},requireAuth:!1})},xi=async(e=1,t=20)=>{const s=Ee(`/knowledge-bases?page=${e}&limit=${t}`);return it(s,{method:"GET"})},Ou=async e=>{const t=Ee(`/knowledge-bases/${encodeURIComponent(e)}`);return it(t,{method:"GET"})},Ei=async(e,t,s=null,l=null)=>{const o=Ee("/templates"),r={template_name:e,fields:t};return s&&(r.description=s),l&&(r.report_prompt=l),it(o,{method:"POST",body:r})},$l=async(e=1,t=20)=>{const s=Ee(`/templates?page=${e}&limit=${t}`);return it(s,{method:"GET"})},Cl=async e=>{const t=Ee(`/templates/${encodeURIComponent(e)}`);return it(t,{method:"GET"})},Oi=async(e,t)=>{const s=Ee(`/templates/${encodeURIComponent(e)}`),l={};return t.template_name&&(l.template_name=t.template_name),t.description!==void 0&&(l.description=t.description),t.report_prompt!==void 0&&(l.report_prompt=t.report_prompt),t.fields&&(l.fields=t.fields),it(s,{method:"PATCH",body:l})},Ai=async e=>{const t=Ee(`/templates/${encodeURIComponent(e)}`);return it(t,{method:"DELETE"})},Au=e=>new Promise((t,s)=>{const l=new FileReader;l.readAsDataURL(e),l.onload=()=>{const o=l.result.split(",")[1];t(o)},l.onerror=o=>s(o)}),Sl=async(e,t)=>{const s=Ee("/templates/preview-ocr"),l=await Au(t);return it(s,{method:"POST",body:{template_id:e,image_base64:l}})},Tl=async(e,t,s,l)=>{const o=Ee("/template-submissions"),r=new FormData;return r.append("template_id",e),r.append("knowledge_base_id",t),r.append("image_file",s),r.append("filled_data_json",JSON.stringify(l)),it(o,{method:"POST",body:r,headers:{}})},Pi=async(e={})=>{const t=new URLSearchParams;e.template_id&&t.append("template_id",e.template_id),e.knowledge_base_id&&t.append("knowledge_base_id",e.knowledge_base_id),e.status&&t.append("status",e.status),e.page&&t.append("page",e.page.toString()),e.limit&&t.append("limit",e.limit.toString());const s=Ee(`/template-submissions?${t.toString()}`);return it(s,{method:"GET"})},ol=async e=>{const t=Ee(`/template-submissions/${encodeURIComponent(e)}`);return it(t,{method:"GET"})},Ii=async(e,t)=>{const s=Ee(`/template-submissions/${encodeURIComponent(e)}`);return it(s,{method:"PATCH",body:{filled_data:t}})},Ui=async(e,t,s=null)=>{const l=Ee(`/template-submissions/${encodeURIComponent(e)}/approve`),o={approve:t};return!t&&s&&(o.reason=s),it(l,{method:"POST",body:o})},Fi=async(e,t)=>await pn(t),fn=async e=>{const t=Ee(`/template-submissions/${encodeURIComponent(e)}/file`),s=js();if(!s.Authorization)throw new Error("");const l=await fetch(t,{method:"GET",headers:{...s,Accept:"application/json"}});if(!l.ok){const o=await l.json().catch(()=>({detail:`HTTP ${l.status}`}));throw new Error(o.detail||o.message||` (HTTP ${l.status})`)}return await l.json()},pn=async e=>{const t=await fn(e);if(!t||!t.file_base64||!t.mime_type)throw new Error("");const s=t.file_base64,l=t.mime_type,o=atob(s),r=new Array(o.length);for(let u=0;u<o.length;u++)r[u]=o.charCodeAt(u);const a=new Uint8Array(r);return new Blob([a],{type:l})},mo=Object.freeze(Object.defineProperty({__proto__:null,approveTemplateSubmission:Ui,createTemplate:Ei,deleteTemplate:Ai,downloadSubmissionImage:pn,downloadSubmissionImageByKnowledgeBase:Fi,getAuthHeaders:js,getAuthUrl:Si,getKnowledgeBase:Ou,getKnowledgeBases:xi,getSubmissionImage:fn,getTemplate:Cl,getTemplateSubmission:ol,getTemplateSubmissions:Pi,getTemplates:$l,getV2Url:Ee,login:Ti,previewTemplateOcr:Sl,submitTemplateData:Tl,updateTemplate:Oi,updateTemplateSubmission:Ii},Symbol.toStringTag,{value:"Module"})),Tn=(e,t)=>{const s=e.__vccOpts||e;for(const[l,o]of t)s[l]=o;return s},Pu={class:"login-container"},Iu={class:"login-card"},Uu={class:"form-group"},Fu=["disabled"],Mu={class:"form-group"},Du=["disabled"],Ru={key:0,class:"error-message"},Lu=["disabled"],ju={key:0},Vu={key:1,class:"loading"},Nu={__name:"Login",emits:["login-success"],setup(e,{emit:t}){const s=t,l=Ze({username:"",password:""}),o=L(!1),r=L(""),a=ss(()=>l.username.trim()&&l.password.trim()),u=async()=>{if(!(!a.value||o.value)){o.value=!0,r.value="";try{const _=await Ti(l.username.trim(),l.password);if(_.statusCode===200&&_.data&&_.data.access_token){const{access_token:w,refresh_token:g,expires_in:S,token_type:I,user:C}=_.data,G={access_token:w,refresh_token:g,expires_in:S,token_type:I||"Bearer",expires_at:Date.now()+S*1e3,user:{id:C.id,username:C.username,role:C.role}};localStorage.setItem("authToken",w),localStorage.setItem("authData",JSON.stringify(G));const X=localStorage.getItem("chatConfig");let ve={baseUrl:"https://privaterag.jpegonapechain.com",authToken:w};if(X)try{const ee=JSON.parse(X);ve.baseUrl=ee.baseUrl||"https://privaterag.jpegonapechain.com",ve.authToken=w}catch(ee){console.warn("Failed to parse chatConfig",ee)}localStorage.setItem("chatConfig",JSON.stringify(ve)),s("login-success",G)}else throw new Error(_.message||"")}catch(_){console.error("Login error:",_),r.value=_.message||""}finally{o.value=!1}}};return(_,w)=>(c(),f("div",Pu,[n("div",Iu,[w[5]||(w[5]=n("div",{class:"login-header"},[n("h1",null,""),n("p",null,"")],-1)),n("form",{onSubmit:Je(u,["prevent"]),class:"login-form"},[n("div",Uu,[w[2]||(w[2]=n("label",{for:"username"},"",-1)),de(n("input",{id:"username","onUpdate:modelValue":w[0]||(w[0]=g=>l.username=g),type:"text",placeholder:"",required:"",disabled:o.value,autocomplete:"username"},null,8,Fu),[[ke,l.username]])]),n("div",Mu,[w[3]||(w[3]=n("label",{for:"password"},"",-1)),de(n("input",{id:"password","onUpdate:modelValue":w[1]||(w[1]=g=>l.password=g),type:"password",placeholder:"",required:"",disabled:o.value,autocomplete:"current-password"},null,8,Du),[[ke,l.password]])]),r.value?(c(),f("div",Ru,b(r.value),1)):P("",!0),n("button",{type:"submit",class:"login-button",disabled:o.value||!a.value},[o.value?(c(),f("span",Vu,[...w[4]||(w[4]=[n("span",{class:"spinner"},null,-1),Z(" ... ",-1)])])):(c(),f("span",ju,""))],8,Lu)],32),w[6]||(w[6]=n("div",{class:"login-footer"},[n("p",{class:"hint"},"")],-1))])]))}},Hu=Tn(Nu,[["__scopeId","data-v-0adb1653"]]),qu={class:"chat-app"},Bu={class:"history-panel"},Ku={class:"history-header"},zu=["disabled"],Wu={key:0,class:"spinner small"},Ju={key:1},Gu={class:"history-actions"},Xu=["disabled"],Zu=["disabled"],Yu={class:"history-filter"},Qu={class:"filter-field"},ed={class:"filter-field"},td=["disabled"],sd={class:"history-content"},nd={key:0,class:"history-empty"},ld={key:1,class:"history-empty"},od={key:2,class:"history-error"},id={key:3,class:"history-empty"},rd={key:4,class:"history-list"},ad=["onClick","disabled"],ud={class:"history-title"},dd={class:"history-meta"},cd=["onClick","disabled"],fd={key:5,class:"history-pagination"},pd=["disabled"],vd={class:"pagination-info"},_d=["disabled"],md={class:"chat-container"},gd={class:"chat-header"},hd={class:"chat-header-center"},yd={key:0,class:"session-pill"},bd={key:0,class:"session-loading-banner"},wd={class:"message-content"},kd={key:0,class:"message-meta"},$d={key:0,class:"typing-indicator"},Cd={class:"chat-input-container"},Sd={class:"chat-input-row"},Td=["disabled"],xd=["disabled"],Ed={class:"settings-content"},go=" Webify AI Settings  API endpoint  Token",Od=20,Ad={__name:"ChatWindow",emits:["navigate"],setup(e,{emit:t}){const s=t,l=Ze({baseUrl:"https://travesti-scott-specialty-achieving.trycloudflare.com",authToken:""}),o=Ze({apiUrl:l.baseUrl,authToken:l.authToken}),r=T=>T.replace(/\/$/,""),a=()=>r(l.baseUrl),u=T=>`${a()}${T}`,_=()=>u("/rag/query"),w=(T,k=!1)=>({role:"system",content:T,isError:k,timestamp:new Date().toISOString()}),g=L([w(go)]),S=L(""),I=L(!1),C=L(!1),G=L(null),X=L(null),ve=L(!1),ee=L([]),V=L(!1),M=L(null),K=L(""),ie=L(!1),re=L(1),J=L(20),te=L({page:1,limit:20,total:0,total_pages:0}),le=L(String(Od)),ue=L(""),Ve=L(!0),Ke=L(0),ze=L(!1),_e=L(!1),Ge=()=>{const T=localStorage.getItem("chatConfig");if(T)try{const k=JSON.parse(T);k.baseUrl&&(l.baseUrl=k.baseUrl),k.authToken&&(l.authToken=k.authToken)}catch(k){console.warn("Failed to parse saved config",k)}o.apiUrl=l.baseUrl,o.authToken=l.authToken};Hs(()=>{Ge(),l.authToken&&h()}),Wt(g,()=>{if(_e.value){_e.value=!1;return}Os(()=>{Ie()})},{deep:!0}),Wt(I,()=>{Os(()=>{Ie()})});const Y=T=>{if(T===""||T===null||T===void 0)return null;const k=Number(T);return!Number.isFinite(k)||k<0?null:Math.floor(k)};Wt(le,T=>{if(T==="")return;const k=Y(T);k===null?le.value="":String(k)!==T&&(le.value=String(k))}),Wt(ue,T=>{if(T==="")return;const k=Y(T);k===null?ue.value="":String(k)!==T&&(ue.value=String(k))});const ce=ss(()=>{const T=Y(ue.value);return T===null?!1:T>0}),ge=()=>{Ve.value=!1},be=()=>{Ve.value=!1},Ie=()=>{G.value&&(G.value.scrollTop=G.value.scrollHeight)},me=()=>{localStorage.setItem("chatConfig",JSON.stringify({baseUrl:l.baseUrl,authToken:l.authToken}))},Ue=()=>{g.value.push(w(`Settings saved. Current RAG endpoint: ${_()}`))},Re=()=>{if(!o.apiUrl.trim()){alert("API base URL is required.");return}if(!o.authToken.trim()){alert("API token is required.");return}l.baseUrl=r(o.apiUrl.trim()),l.authToken=o.authToken.trim(),me(),C.value=!1,Ue(),h()},Be=()=>{o.apiUrl=l.baseUrl,o.authToken=l.authToken,C.value=!1},he=(T,k,U=!1)=>{g.value.push({role:T,content:k,isError:U,timestamp:new Date().toISOString()})},gt=()=>{s("navigate","ingestV2")},pt=()=>{s("navigate","templates")},rt=()=>l.authToken?{Authorization:`Bearer ${l.authToken}`}:{},ht=T=>{if(!T)return"Unknown";const k=new Date(T);return Number.isNaN(k.getTime())?T:k.toLocaleString()},We=()=>{Ve.value=!0,ue.value="",Ke.value=0},Ne=()=>{X.value=null,g.value=[w(go)],We()},v=async()=>{const T=S.value.trim();if(!(!T||I.value)){if(!l.authToken){he("system","Please configure an API token before chatting.",!0);return}he("user",T),S.value="",I.value=!0;try{const k={query:T};X.value&&(k.session_id=X.value);const U=await fetch(_(),{method:"POST",headers:{"Content-Type":"application/json",...rt()},body:JSON.stringify(k)}),W=await U.json();if(!U.ok){let ye=`Error ${U.status}: `;throw W.message?ye+=W.message:W.error?ye+=W.error:ye+=U.statusText,new Error(ye)}W.session_id&&(X.value=W.session_id);let se="";W.response?se=W.response:W.answer?se=W.answer:W.result?se=W.result:typeof W=="string"?se=W:se=JSON.stringify(W,null,2),he("assistant",se),await h()}catch(k){console.error("Error:",k);let U=k.message;(U.includes("Failed to fetch")||U.includes("NetworkError"))&&(U=` API


1. 
2. API 
3. CORS 


-  API 
-  Settings  API 
-  CORS_SOLUTION.md`),he("system",U,!0)}finally{I.value=!1}}},h=async(T=null,k=null)=>{if(!l.authToken){ee.value=[],M.value=null;return}V.value=!0,M.value=null;try{const U=T!==null?T:re.value,W=k!==null?k:J.value,se=new URLSearchParams({page:U.toString(),limit:W.toString()}),ye=await fetch(u(`/chat/sessions?${se.toString()}`),{method:"GET",headers:{...rt()}}),we=await ye.json();if(!ye.ok)throw new Error(we.message||we.error||`HTTP ${ye.status}`);ee.value=we.sessions||[],we.pagination&&(te.value={page:we.pagination.page||U,limit:we.pagination.limit||W,total:we.pagination.total||0,total_pages:we.pagination.total_pages||0},re.value=te.value.page,J.value=te.value.limit)}catch(U){console.error("Failed to load sessions",U),M.value=U.message}finally{V.value=!1}},O=(T,k=null)=>{const U=new URLSearchParams({session_id:T}),W=Y(le.value);if(W!==null&&U.set("limit",W.toString()),k!==null)U.set("offset",k.toString());else{const se=Y(ue.value);se!==null&&U.set("offset",se.toString())}return`${u("/chat/sessions/"+T+"/messages")}?${U.toString()}`},D=(T=[],k={})=>{const{withPlaceholder:U=!0}=k;return!Array.isArray(T)||T.length===0?U?[w("This session has no stored messages yet.")]:[]:T.map(W=>({role:W.role||"assistant",content:W.content||"",isError:!1,timestamp:W.timestamp||new Date().toISOString()}))},F=T=>{if(!T||T.length===0)return;const k=G.value,U=k?k.scrollHeight:0,W=k?k.scrollTop:0;_e.value=!0,g.value=[...T,...g.value],Os(()=>{if(!k)return;const se=k.scrollHeight-U;k.scrollTop=W+se})},A=async(T,k={})=>{if(!T)return;const{append:U=!1,offsetOverride:W=null,skipAutoAdjust:se=!1}=k;U||(ve.value=!0);try{const ye=O(T,W),we=await fetch(ye,{headers:{...rt()}}),He=await we.json();if(!we.ok)throw new Error(He.message||He.error||`HTTP ${we.status}`);const Le=D(He.messages,{withPlaceholder:!U}),nt=He.total_messages??(Array.isArray(He.messages)?He.messages.length:0);Ke.value=nt;const at=Y(le.value),je=W!==null?W:Y(ue.value);if(!U&&Ve.value&&!se&&at!==null&&nt>at){const Me=Math.max(nt-at,0);ue.value=Me.toString(),Ve.value=!1,await A(T,{append:!1,offsetOverride:Me,skipAutoAdjust:!0});return}if(!U&&ue.value===""){const Me=je??0;ue.value=Me.toString()}U||(Ve.value=!1),U?F(Le):(g.value=Le,X.value=T)}catch(ye){console.error("Failed to load session messages",ye),U?he("system",`Failed to load older messages: ${ye.message}`,!0):g.value=[w(`Failed to load session: ${ye.message}`,!0)]}finally{U||(ve.value=!1)}},j=T=>{if(!l.authToken){he("system","Please configure an API token before loading history.",!0);return}!T||T.session_id===X.value||(We(),A(T.session_id))},E=()=>{X.value&&(Ve.value=!1,A(X.value))},N=async()=>{if(!X.value)return;const T=Y(le.value),k=Y(ue.value);if(T===null||T===0||k===null||k===0)return;const U=Math.max(k-T,0);if(U!==k){ue.value=U.toString(),ze.value=!0,_e.value=!0;try{await A(X.value,{append:!0,offsetOverride:U,skipAutoAdjust:!0})}finally{ze.value=!1}}},R=()=>{const T=G.value;!T||ze.value||!ce.value||T.scrollTop<=60&&N()},Q=async T=>{if(!(!T||K.value)&&confirm("Delete this session permanently?")){K.value=T;try{const k=await fetch(u(`/chat/sessions/${encodeURIComponent(T)}`),{method:"DELETE",headers:{...rt()}}),U=await k.json();if(!k.ok)throw new Error(U.message||U.error||`HTTP ${k.status}`);X.value===T&&Ne();const W=te.value.page;ee.value.length-1===0&&W>1?await h(W-1):await h(),he("system",`Session ${T} deleted.`)}catch(k){console.error("Failed to delete session",k),he("system",`Failed to delete session: ${k.message}`,!0)}finally{K.value=""}}},H=async()=>{if(!(ee.value.length===0||ie.value)&&confirm("Clear all sessions for the current user?")){ie.value=!0;try{const T=await fetch(u("/chat/sessions"),{method:"DELETE",headers:{...rt()}}),k=await T.json();if(!T.ok)throw new Error(k.message||k.error||`HTTP ${T.status}`);ee.value=[],te.value={page:1,limit:J.value,total:0,total_pages:0},re.value=1,Ne(),he("system",k.message||"All sessions cleared.")}catch(T){console.error("Failed to clear sessions",T),he("system",`Failed to clear sessions: ${T.message}`,!0)}finally{ie.value=!1}}};return(T,k)=>(c(),f("div",qu,[n("aside",Bu,[n("div",Ku,[k[9]||(k[9]=n("div",null,[n("h2",null,"Chat History"),n("p",{class:"history-subtitle"},"Sessions stored by the RAG service")],-1)),n("button",{class:"icon-button",onClick:h,disabled:V.value},[V.value?(c(),f("span",Wu)):(c(),f("span",Ju,""))],8,zu)]),n("div",Gu,[n("button",{class:"new-chat-button",onClick:Ne,disabled:I.value||ve.value}," Start New Chat ",8,Xu),n("button",{class:"clear-history-button",onClick:H,disabled:ie.value||ee.value.length===0},b(ie.value?"Clearing":"Clear All Sessions"),9,Zu)]),n("div",Yu,[n("div",Qu,[k[10]||(k[10]=n("label",{for:"historyLimit"},"Limit",-1)),de(n("input",{id:"historyLimit",type:"number",min:"0",step:"1","onUpdate:modelValue":k[0]||(k[0]=U=>le.value=U),placeholder:"All",onInput:ge},null,544),[[ke,le.value]])]),n("div",ed,[k[11]||(k[11]=n("label",{for:"historyOffset"},"Offset",-1)),de(n("input",{id:"historyOffset",type:"number",min:"0",step:"1","onUpdate:modelValue":k[1]||(k[1]=U=>ue.value=U),placeholder:"Auto",onInput:be},null,544),[[ke,ue.value]])]),n("button",{class:"apply-filter",onClick:E,disabled:!X.value||ve.value},b(ve.value?"Loading":"Apply"),9,td),k[12]||(k[12]=n("p",{class:"filter-hint"}," limit offset  offset=20limit=20  21-40  ",-1))]),n("div",sd,[l.authToken?V.value?(c(),f("div",ld,[...k[14]||(k[14]=[n("span",{class:"spinner"},null,-1),n("p",null,"Loading history",-1)])])):M.value?(c(),f("div",od,b(M.value),1)):ee.value.length===0?(c(),f("div",id,[...k[15]||(k[15]=[n("p",null,"No saved sessions yet.",-1),n("p",{class:"history-hint"},"Once you chat with the assistant, the session will appear here.",-1)])])):(c(),f("div",rd,[(c(!0),f(ae,null,xe(ee.value,U=>(c(),f("div",{key:U.session_id,class:De(["history-item",{active:U.session_id===X.value}])},[n("button",{class:"history-body",onClick:W=>j(U),disabled:ve.value},[n("div",ud,b(U.first_message||"Untitled conversation"),1),n("div",dd,[n("span",null,b(U.message_count)+" messages",1),n("span",null,b(ht(U.last_updated)),1)])],8,ad),n("button",{class:"delete-history-button",onClick:Je(W=>Q(U.session_id),["stop"]),disabled:K.value===U.session_id},b(K.value===U.session_id?"":""),9,cd)],2))),128))])):(c(),f("div",nd,[...k[13]||(k[13]=[n("p",null,"Configure an API token to load your history.",-1)])])),ee.value.length>0&&te.value.total_pages>1?(c(),f("div",fd,[n("button",{class:"pagination-button",onClick:k[2]||(k[2]=U=>h(te.value.page-1)),disabled:V.value||te.value.page<=1},"  ",8,pd),n("span",vd,"  "+b(te.value.page)+" / "+b(te.value.total_pages)+"  ( "+b(te.value.total)+" ) ",1),n("button",{class:"pagination-button",onClick:k[3]||(k[3]=U=>h(te.value.page+1)),disabled:V.value||te.value.page>=te.value.total_pages},"  ",8,_d)])):P("",!0)])]),n("div",md,[n("div",gd,[n("div",{class:"chat-header-left"},[n("button",{class:"nav-button",onClick:gt},""),n("button",{class:"nav-button",onClick:pt},"")]),n("div",hd,[k[16]||(k[16]=n("span",{class:"app-title"},"Webify AI RAG Assistant",-1)),X.value?(c(),f("span",yd,"Session: "+b(X.value),1)):P("",!0)]),n("button",{class:"settings-button",onClick:k[4]||(k[4]=U=>C.value=!0)}," Settings ")]),ve.value?(c(),f("div",bd," Loading conversation history ")):P("",!0),n("div",{class:"chat-messages",ref_key:"messagesContainer",ref:G,onScrollPassive:R},[(c(!0),f(ae,null,xe(g.value,(U,W)=>(c(),f("div",{key:W,class:De(["message",U.role,{error:U.isError}])},[n("div",wd,[U.timestamp?(c(),f("div",kd,b(ht(U.timestamp)),1)):P("",!0),n("div",null,b(U.content),1)])],2))),128)),I.value?(c(),f("div",$d,[...k[17]||(k[17]=[n("div",{class:"dot"},null,-1),n("div",{class:"dot"},null,-1),n("div",{class:"dot"},null,-1)])])):P("",!0)],544),n("div",Cd,[n("div",Sd,[de(n("input",{"onUpdate:modelValue":k[5]||(k[5]=U=>S.value=U),type:"text",class:"chat-input",placeholder:"Ask a question...",onKeypress:$u(v,["enter"]),disabled:I.value,autocomplete:"off"},null,40,Td),[[ke,S.value]]),n("button",{class:"send-button",onClick:v,disabled:I.value||!S.value.trim()}," Send ",8,xd)])])]),C.value?(c(),f("div",{key:0,class:"settings-modal",onClick:k[8]||(k[8]=Je(U=>C.value=!1,["self"]))},[n("div",Ed,[k[18]||(k[18]=n("h2",null,"API Settings",-1)),k[19]||(k[19]=n("label",{for:"apiUrl"},"API Base URL",-1)),de(n("input",{"onUpdate:modelValue":k[6]||(k[6]=U=>o.apiUrl=U),type:"text",id:"apiUrl",placeholder:"https://api.example.com"},null,512),[[ke,o.apiUrl]]),k[20]||(k[20]=n("small",{class:"help-text"}," Only provide the base domain. Endpoints such as /rag/query or /chat/sessions are appended automatically. ",-1)),k[21]||(k[21]=n("label",{for:"apiToken"},"API Token",-1)),de(n("input",{"onUpdate:modelValue":k[7]||(k[7]=U=>o.authToken=U),type:"text",id:"apiToken",placeholder:"Paste your access token"},null,512),[[ke,o.authToken]]),k[22]||(k[22]=n("small",{class:"help-text"}," Tokens are only kept inside this browser and are used to populate the Authorization header. ",-1)),n("div",{class:"settings-buttons"},[n("button",{class:"cancel-settings",onClick:Be},"Cancel"),n("button",{class:"save-settings",onClick:Re},"Save")])])])):P("",!0)]))}},Pd=Tn(Ad,[["__scopeId","data-v-40125e00"]]),Id="modulepreload",Ud=function(e){return"/mygpt-view/"+e},ho={},yo=function(t,s,l){let o=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));o=Promise.allSettled(s.map(_=>{if(_=Ud(_),_ in ho)return;ho[_]=!0;const w=_.endsWith(".css"),g=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${g}`))return;const S=document.createElement("link");if(S.rel=w?"stylesheet":Id,w||(S.as="script"),S.crossOrigin="",S.href=_,u&&S.setAttribute("nonce",u),document.head.appendChild(S),w)return new Promise((I,C)=>{S.addEventListener("load",I),S.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${_}`)))})}))}function r(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return o.then(a=>{for(const u of a||[])u.status==="rejected"&&r(u.reason);return t().catch(r)})},Fd={class:"ingest-v2-shell"},Md={class:"ingest-v2-page"},Dd={class:"ingest-hero"},Rd={class:"hero-text"},Ld={class:"hero-description"},jd={key:0,class:"hero-stats"},Vd={class:"hero-stat"},Nd={key:1,class:"hero-stats"},Hd={class:"hero-stat"},qd={class:"hero-stat"},Bd={key:0,class:"hero-stat"},Kd={class:"hero-stat"},zd={class:"hero-stat"},Wd={class:"hero-stat"},Jd={class:"hero-stat"},Gd={key:2,class:"hero-stats"},Xd={class:"hero-stat"},Zd={class:"hero-stat"},Yd={class:"hero-stat"},Qd={class:"hero-actions"},ec={class:"ingest-v2-layout"},tc={class:"ingest-v2-main"},sc={key:0,class:"view-container"},nc={class:"ingest-card step-card"},lc={class:"form-grid"},oc={class:"form-section-departments"},ic={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"8px"}},rc=["disabled"],ac={key:0,class:"loading-block"},uc={key:1,class:"error-text"},dc={key:2,class:"empty-sessions"},cc={key:3,class:"tags-grid"},fc=["value","disabled"],pc={class:"form-grid"},vc=["disabled"],_c={key:0},mc=["disabled"],gc=["value"],hc={key:0,class:"help-text",style:{"margin-top":"4px","font-size":"12px",color:"#6b7280"}},yc={key:1,class:"help-text",style:{"margin-top":"4px","font-size":"12px",color:"#ef4444"}},bc={class:"step-actions"},wc=["disabled"],kc={key:0},$c={key:1},Cc={key:0,class:"edit-folder-section"},Sc={class:"form-grid"},Tc={class:"form-section-departments"},xc={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"8px"}},Ec=["disabled"],Oc={key:0,class:"loading-block"},Ac={key:1,class:"error-text"},Pc={key:2,class:"empty-sessions"},Ic={key:3,class:"tags-grid"},Uc=["value","disabled"],Fc={class:"form-grid"},Mc=["disabled"],Dc={key:0},Rc=["disabled"],Lc=["value"],jc={key:0,class:"help-text",style:{"margin-top":"4px","font-size":"12px",color:"#6b7280"}},Vc={key:1,class:"help-text",style:{"margin-top":"4px","font-size":"12px",color:"#ef4444"}},Nc={class:"step-actions"},Hc=["disabled"],qc=["disabled"],Bc={key:0},Kc={key:1},zc={class:"ingest-card step-card"},Wc={class:"step-heading"},Jc=["disabled"],Gc={key:0,class:"error-text"},Xc={key:1,class:"loading-block"},Zc={key:2,class:"folders-list"},Yc=["onClick"],Qc={class:"folder-item-header"},ef={class:"folder-id"},tf=["onClick"],sf=["onClick","disabled"],nf={class:"folder-item-info"},lf={key:0},of={class:"folder-item-time"},rf={key:0,class:"pagination-controls"},af=["disabled"],uf={class:"pagination-info"},df=["disabled"],cf={key:3,class:"empty-sessions"},ff={key:1,class:"view-container"},pf={class:"ingest-card step-card"},vf={class:"step-heading"},_f={class:"summary-grid"},mf={key:0},gf={class:"ingest-card step-card"},hf={class:"form-grid"},yf={class:"form-grid",style:{"margin-top":"10px"}},bf=["disabled"],wf={key:1,class:"file-upload-area"},kf=["disabled"],$f={key:0},Cf={class:"upload-limits"},Sf={key:1},Tf={class:"upload-title"},xf={key:0,class:"selected-files"},Ef=["onClick"],Of={key:2,class:"template-input-area"},Af={key:0,class:"error-text",style:{"margin-bottom":"15px"}},Pf={key:1,class:"template-form-section"},If={class:"form-group",style:{"margin-bottom":"15px"}},Uf={class:"help-text",style:{"margin-top":"4px","font-size":"14px",color:"#6b7280"}},Ff={key:0,style:{"margin-left":"8px",color:"#9ca3af"}},Mf={class:"form-group"},Df={class:"file-upload-area"},Rf=["disabled"],Lf={for:"templateImageInput",class:"file-upload-label"},jf={key:0},Vf={key:1,class:"file-selected"},Nf={key:0,class:"image-preview-area"},Hf=["src"],qf=["disabled"],Bf={key:0},Kf={key:1},zf={key:1,class:"ocr-error"},Wf={key:2,class:"ocr-success"},Jf={class:"form-group"},Gf={class:"fields-input"},Xf={key:0,class:"field-input field-full"},Zf={key:0,class:"required"},Yf=["title"],Qf={key:0,class:"confidence-score"},ep=["onUpdate:modelValue","required","placeholder","disabled"],tp={key:1,class:"field-row-layout"},sp={class:"field-input field-left"},np={key:0,class:"required"},lp=["title"],op={key:0,class:"confidence-score"},ip=["onUpdate:modelValue","required","placeholder","disabled"],rp={key:0,class:"field-input field-right"},ap={key:0,class:"required"},up=["title"],dp={key:0,class:"confidence-score"},cp=["onUpdate:modelValue","required","placeholder","disabled"],fp={key:1,class:"field-spacer"},pp={key:2,class:"field-input field-full"},vp={key:0,class:"required"},_p=["title"],mp={key:0,class:"confidence-score"},gp=["onUpdate:modelValue","required","placeholder","disabled"],hp={class:"step-actions"},yp=["disabled"],bp={key:0},wp={key:1},kp={key:3,class:"error-text"},$p={class:"ingest-card step-card"},Cp={class:"step-heading"},Sp=["disabled"],Tp={key:0,class:"error-text"},xp={key:1,class:"loading-block"},Ep={key:2,class:"sessions-list"},Op=["onClick"],Ap={class:"session-item-header"},Pp={class:"session-id"},Ip={class:"session-item-info"},Up={key:0},Fp={key:1},Mp={key:2},Dp={class:"session-item-time"},Rp={key:0,class:"pagination-controls"},Lp=["disabled"],jp={class:"pagination-info"},Vp=["disabled"],Np={key:3,class:"empty-sessions"},Hp={key:2,class:"view-container"},qp={key:0,class:"ingest-card step-card"},Bp={class:"step-heading"},Kp={style:{display:"flex",gap:"10px"}},zp=["disabled"],Wp=["disabled"],Jp={class:"summary-grid"},Gp={key:0},Xp={key:1},Zp={key:2},Yp={key:3},Qp={key:4},ev={key:5},tv={key:6},sv={key:0,class:"files-table"},nv={class:"ingest-card step-card scrollable-card"},lv={class:"step-heading"},ov={style:{display:"flex",gap:"10px"}},iv=["disabled"],rv={key:0},av={key:1},uv=["disabled"],dv=["disabled"],cv=["disabled"],fv={key:0},pv={key:1},vv={key:0,class:"error-text"},_v={key:1,class:"error-text"},mv={key:2,class:"metadata-edit-section"},gv={class:"section-header"},hv={key:0},yv={class:"form-grid"},bv={key:3,class:"loading-block"},wv={key:4,class:"preview-summary"},kv={class:"summary-grid"},$v={class:"preview-files"},Cv={class:"preview-file-header"},Sv={key:0,class:"badge"},Tv={key:0,class:"pdf-preview"},xv=["src"],Ev={key:1,class:"image-preview"},Ov=["src"],Av={key:2,class:"original-content"},Pv={class:"scrollable-pre"},Iv={key:3,class:"original-content"},Uv={class:"scrollable-pre"},Fv={class:"chunks-grid"},Mv={key:0},Dv={class:"chunk-title"},Rv={class:"chunk-actions"},Lv=["onClick"],jv=["onClick","disabled"],Vv=["onClick"],Nv=["onUpdate:modelValue","rows"],Hv={key:1,class:"empty-chunks-hint"},qv={class:"chunk-card add-chunk-card"},Bv=["onClick"],Kv={class:"chunk-title"},zv={class:"scrollable-pre"},Wv={class:"ingest-card step-card"},Jv={class:"step-heading"},Gv=["disabled"],Xv={key:0},Zv={key:1},Yv={key:0,class:"error-text"},Qv={key:1,class:"result-card"},Ys='"Settings" API Token',e_={__name:"DataIngestV2",emits:["navigate"],setup(e,{emit:t}){const s=t,l=Ze({baseUrl:"https://privaterag.jpegonapechain.com",authToken:""}),o=[".pdf",".docx",".txt",".jpg",".jpeg",".png",".bmp",".tiff"],r=[{id:18,name:"employee",tag:"employee",description:"employee"},{id:17,name:"manager",tag:"manager",description:"manager"},{id:16,name:"admin",tag:"admin",description:"admin"},{id:15,name:"12",tag:"sales12",description:"test2"},{id:13,name:"1",tag:"sales1",description:"test2"},{id:12,name:"2",tag:"finance2",description:null},{id:10,name:"5",tag:"sales5",description:"test2"},{id:4,name:"",tag:"hr",description:""},{id:3,name:"",tag:"finance",description:""},{id:2,name:"",tag:"tech",description:""}],a=L(r.map(p=>({label:p.name,value:String(p.id),tag:p.tag,description:p.description}))),u=L(!1),_=L(null),w={MAX_FILES:5,MAX_FILE_SIZE_MB:10,MAX_TOTAL_SIZE_MB:50},g=w.MAX_FILE_SIZE_MB*1024*1024,S=w.MAX_TOTAL_SIZE_MB*1024*1024,I=Ze({source:"",description:"",folder_id:"",data_type:"private",inputMode:"upload"}),C=Ze({folder_name:"",description:"",selectedDepartments:[],knowledge_type:"raw",template_id:null});a.value.length>0&&C.selectedDepartments.length===0&&(C.selectedDepartments=[a.value[0].value]);const G=L([]),X=L(null),ve=L([]),ee=L(!1),V=L(null),M=Ze({selectedTemplateId:"",image_file:null,filled_data:{}}),K=L(null),ie=L(null),re=L(!1),J=L(!1),te=L(null),le=L(""),ue=L(null),Ve=L(""),Ke=L(!1),ze=L(!1),_e=L(null),Ge=L(!1),Y=L(null),ce=L(null),ge=L(!1),be=L(null),Ie=L(!1),me=L({}),Ue=L(!1),Re=L(null),Be=L(!1),he=Ze({source:"",description:"",selectedDepartments:[]}),gt=L([]);L(!1);const pt=L(null);L({page:1,limit:20,total:0,total_pages:0});const rt=L(!1),ht=L([]),We=L(!1),Ne=L(null),v=L({page:1,limit:20,total:0,total_pages:0});L(!1);const h=L(!1),O=L(!1),D=L(!1),F=L(""),A=L(null),j=L("folders"),E=L(null),N=L([]),R=L(!1),Q=L(null),H=L({page:1,limit:20,total:0,total_pages:0}),T=()=>{if(typeof window>"u"||!window.localStorage)return;const p=localStorage.getItem("chatConfig");if(p)try{const $=JSON.parse(p);$.baseUrl&&(l.baseUrl=$.baseUrl),$.authToken&&(l.authToken=$.authToken)}catch($){console.warn("Failed to parse stored config",$)}const i=localStorage.getItem("authData");if(i)try{const $=JSON.parse(i);if($.access_token){l.authToken=$.access_token;const q=localStorage.getItem("chatConfig");if(q)try{const ne=JSON.parse(q);ne.authToken=$.access_token,localStorage.setItem("chatConfig",JSON.stringify(ne))}catch{}}}catch($){console.warn("Failed to parse auth data",$)}};T(),typeof window<"u"&&(window.addEventListener("storage",T),window.addEventListener("auth-token-updated",T),setInterval(()=>{T()},2e3));const k=()=>l.authToken?{Authorization:`Bearer ${l.authToken}`}:{},U=ss(()=>{const p=!!C.folder_name.trim(),i=C.selectedDepartments.length>0,$=C.knowledge_type==="raw"||C.knowledge_type==="template"&&C.template_id;return p&&i&&$}),W=ss(()=>J.value||!E.value?!1:E.value.knowledge_type==="raw"?!!(I.source.trim()&&I.description.trim()&&I.folder_id)&&G.value.length>0:E.value.knowledge_type==="template"?!I.folder_id||!M.selectedTemplateId||!M.image_file||!V.value?!1:V.value.fields.filter($=>$.required).every($=>{const q=M.filled_data[$.field_id];return q&&q.trim()!==""}):!1),se=ss(()=>!!le.value),ye=ss(()=>!!le.value),we=()=>{var p;return j.value==="folders"?"":j.value==="folder-detail"?((p=E.value)==null?void 0:p.folder_name)||"":j.value==="session-detail"?"":""},He=()=>j.value==="folders"?"":j.value==="folder-detail"?"":j.value==="session-detail"?"":"/OCR",Le=()=>{j.value==="session-detail"?Me():j.value==="folder-detail"?at():nt()},nt=()=>{s("navigate","chat")},at=()=>{j.value="folders",E.value=null,N.value=[]},je=async p=>{if(p.knowledge_type==="template"&&p.submission_count===void 0||p.knowledge_type==="raw"&&p.session_count===void 0)try{const{getKnowledgeBase:i}=await yo(async()=>{const{getKnowledgeBase:q}=await Promise.resolve().then(()=>mo);return{getKnowledgeBase:q}},void 0),$=await i(p.folder_id);p={...p,...$,folder_id:$.knowledge_base_id||$.folder_id,folder_name:$.knowledge_base_name||$.folder_name,knowledge_base_id:$.knowledge_base_id||$.folder_id,knowledge_base_name:$.knowledge_base_name||$.folder_name,session_count:$.session_count||0,total_files:$.total_files||0,total_size:$.total_size||0,submission_count:$.submission_count||0,pending_submissions:$.pending_submissions||0,approved_submissions:$.approved_submissions||0,rejected_submissions:$.rejected_submissions||0}}catch(i){console.warn(":",i)}E.value=p,I.folder_id=p.folder_id,p.knowledge_type==="template"?(I.inputMode="template",p.template_id?(M.selectedTemplateId=p.template_id,await Gi(p.template_id)):(M.selectedTemplateId="",V.value=null,M.filled_data={})):(I.inputMode="upload",M.selectedTemplateId="",V.value=null,M.filled_data={}),j.value="folder-detail",bs()},Me=()=>{E.value?j.value="folder-detail":at()},lt=async p=>{if(p.submission_id||p.submission_status){s("navigate","templates"),p.submission_id&&localStorage.setItem("viewSubmissionId",p.submission_id);return}le.value=p.document_id||p.session_id,j.value="session-detail",await Pn()},Ot=()=>{A.value=null,C.folder_name="",C.description="",C.selectedDepartments=a.value.length>0?[a.value[0].value]:[]},xn=()=>{!J.value&&X.value&&X.value.click()},En=(p="")=>{const i=p.toLowerCase();return o.some($=>i.endsWith($))},On=p=>{const i=Array.from(p.target.files||[]);y(i),p.target&&(p.target.value="")},An=p=>{if(p.size>g){const i=(p.size/1048576).toFixed(2);throw new Error(` "${p.name}" : ${i}MB: ${w.MAX_FILE_SIZE_MB}MB`)}return!0},x=p=>{const i=p.reduce(($,q)=>$+q.size,0);if(i>S){const $=(i/1048576).toFixed(2);throw new Error(`: ${$}MB: ${w.MAX_TOTAL_SIZE_MB}MB`)}return!0},d=(p,i)=>{const $=p+i;if($>w.MAX_FILES)throw new Error(` ${w.MAX_FILES}  ${$} `);return!0},y=p=>{try{d(G.value.length,p.length);const i=[];for(const q of p){if(!En(q.name)){alert(` ${q.name}  PDF/DOCX/TXT/JPG/JPEG/PNG/BMP/TIFF`);continue}An(q),i.push(q)}if(i.length===0)return;const $=[...G.value,...i];x($),G.value=$}catch(i){alert(i.message),ue.value=i.message}},B=p=>{G.value=G.value.filter((i,$)=>$!==p)},fe=()=>{G.value=[],I.source="",I.description="",I.folder_id="",I.data_type="private",te.value=null,le.value="",ue.value=null,Ve.value="",_e.value=null,Y.value=null,ce.value=null,be.value=null,Ie.value=!1,me.value={},Re.value=null,rt.value=!1,gt.value=[],pt.value=null,Be.value=!1,he.source="",he.description="",he.selectedDepartments=[],F.value="",X.value&&(X.value.value="")},$e=(p=0)=>{if(!Number.isFinite(p)||p<=0)return"0 Bytes";const i=["Bytes","KB","MB","GB"],$=Math.floor(Math.log(p)/Math.log(1024));return`${(p/Math.pow(1024,$)).toFixed(2)} ${i[$]}`},Te=p=>{if(!p)return"-";const i=new Date(p);return Number.isNaN(i.getTime())?p:i.toLocaleString()},hs=(p,i)=>p?p.length<=i?p:`${p.slice(0,i)}...`:"",qt=p=>{if(!p)return"";const i=Ol(p);return i.length===0?"":i.map(q=>{const ne=a.value.find(m=>m.value===String(q));return ne?ne.label:`ID: ${q}`}).join(", ")},ys=p=>{te.value=p,le.value=(p==null?void 0:p.document_id)||(p==null?void 0:p.session_id)||"",Ve.value=le.value,_e.value=null,Y.value=null,ce.value=null,be.value=null,Ie.value=!1,me.value={},Re.value=null,Be.value=!1,he.source="",he.description="",he.selectedDepartments=[]},ut=()=>{if(T(),!l.authToken)throw new Error(Ys)},is=async()=>{if(!(!W.value||J.value)){try{ut()}catch(p){ue.value=p.message;return}J.value=!0,ue.value=null;try{if(E.value&&E.value.knowledge_type==="template"){if(!E.value.template_id||!M.image_file)throw new Error("");await Tl(E.value.template_id,I.folder_id,M.image_file,M.filled_data),alert(""),M.image_file=null,V.value&&V.value.fields&&(M.filled_data={},V.value.fields.forEach(p=>{M.filled_data[p.field_id]=""})),K.value=null,ie.value=null,E.value&&bs(H.value.page,H.value.limit)}else if(E.value&&E.value.knowledge_type==="raw"){const p=new FormData;p.append("source",I.source.trim()),p.append("knowledge_base_id",I.folder_id),p.append("description",I.description.trim()),p.append("data_type",I.data_type),G.value.forEach(q=>p.append("files",q));const i=await fetch(Ee("/documents"),{method:"POST",headers:{...k()},body:p});let $;try{$=await i.json()}catch{throw new Error(` (HTTP ${i.status})`)}if(!i.ok){const q=$.detail||$.message||`HTTP ${i.status}`;throw new Error(q)}ys($),G.value=[],X.value&&(X.value.value=""),j.value="session-detail",E.value&&bs(H.value.page,H.value.limit),I.source="",I.description="",I.data_type="private"}}catch(p){console.error("Create session error:",p),ue.value=p.message}finally{J.value=!1}}},Pn=async()=>{const p=(le.value||Ve.value||"").trim();if(!p){ue.value=" session_id";return}try{ut()}catch(i){ue.value=i.message;return}Ke.value=!0,ue.value=null;try{const i=await fetch(Ee(`/documents/${encodeURIComponent(p)}`),{method:"GET",headers:{...k()}});let $;try{$=await i.json()}catch{throw new Error(` (HTTP ${i.status})`)}if(!i.ok){const q=$.detail||$.message||`HTTP ${i.status}`;throw new Error(q)}ys($)}catch(i){console.error("Fetch session error:",i),ue.value=i.message}finally{Ke.value=!1}},Mi=async()=>{if(!le.value){ue.value="";return}if(window.confirm(` ${le.value} `)){try{ut()}catch(p){ue.value=p.message;return}ze.value=!0,ue.value=null;try{const p=await fetch(Ee(`/documents/${encodeURIComponent(le.value)}`),{method:"DELETE",headers:{...k()}});if(!p.ok){const i=await p.json().catch(()=>({}));throw new Error(i.detail||i.message||`HTTP ${p.status}`)}fe()}catch(p){console.error("Delete session error:",p),ue.value=p.message}finally{ze.value=!1}}},xl=async()=>{if(!(!se.value||Ge.value)){try{ut()}catch(p){Y.value=p.message;return}Ge.value=!0,Y.value=null;try{T();const p=k();if(!p.Authorization)throw new Error(Ys);const i=await fetch(Ee("/documents/preview"),{method:"POST",headers:{"Content-Type":"application/json",...p},body:JSON.stringify({document_id:le.value})}),$=await i.json();if(!i.ok)throw new Error($.detail||$.message||`HTTP ${i.status}`);_e.value=$,El($)}catch(p){console.error("Preview error:",p),Y.value=p.message}finally{Ge.value=!1}}},El=p=>{!p||!p.files||(me.value={},p.files.forEach(i=>{i.file_id&&(i.chunks&&i.chunks.length>0?me.value[i.file_id]=i.chunks.map($=>$.description||$.text||""):me.value[i.file_id]=[""])}))},Di=()=>{!Ie.value&&_e.value&&(El(_e.value),he.source=_e.value.source||"",he.description=_e.value.description||""),Ie.value=!Ie.value,Be.value=!1,Re.value=null},Ol=p=>{if(!p)return[];if(Array.isArray(p))return p.map(i=>String(i));if(typeof p=="string")try{const i=JSON.parse(p);return Array.isArray(i)?i.map($=>String($)):[String(p)]}catch{return[String(p)]}return[String(p)]},Al=()=>{Be.value=!Be.value,Be.value&&(_e.value?(he.source=_e.value.source||"",he.description=_e.value.description||""):te.value&&(he.source=te.value.source||"",he.description=te.value.description||""))},Ri=(p,i)=>{if(!me.value[p])return;const $=me.value[p][i],q=Math.floor($.length/2),ne=$.lastIndexOf(`
`,q)!==-1?$.lastIndexOf(`
`,q)+1:$.lastIndexOf(" ",q)!==-1?$.lastIndexOf(" ",q)+1:q,m=$.slice(0,ne).trim(),z=$.slice(ne).trim();m&&z&&me.value[p].splice(i,1,m,z)},Li=(p,i)=>{if(!me.value[p]||i>=me.value[p].length-1)return;const $=me.value[p][i],q=me.value[p][i+1];me.value[p].splice(i,2,`${$}
${q}`)},ji=(p,i)=>{if(!me.value[p]||me.value[p].length<=1){alert("");return}window.confirm("")&&me.value[p].splice(i,1)},Vi=p=>{var i,$;if(!me.value[p]){const q=($=(i=_e.value)==null?void 0:i.files)==null?void 0:$.find(ne=>ne.file_id===p);q&&q.chunks?me.value[p]=q.chunks.map(ne=>ne.description||ne.text||""):me.value[p]=[]}me.value[p].push("")},Ni=async()=>{if(le.value){try{ut()}catch(p){Re.value=p.message;return}Ue.value=!0,Re.value=null;try{const p={};if(_e.value&&Ie.value){const ne=[];_e.value.files.forEach(m=>{if(m.file_id&&me.value[m.file_id]){const z=me.value[m.file_id].filter(Fe=>Fe.trim());z.length>0&&ne.push({file_id:m.file_id,chunks:z})}}),ne.length>0&&(p.custom_chunks=ne)}if(Be.value&&(he.source.trim()&&(p.source=he.source.trim()),he.description.trim()&&(p.description=he.description.trim())),!(Object.keys(p).length>0))throw new Error("");const $=await fetch(Ee(`/documents/${encodeURIComponent(le.value)}`),{method:"PATCH",headers:{"Content-Type":"application/json",...k()},body:JSON.stringify(p)});let q;try{q=await $.json()}catch{throw new Error(` (HTTP ${$.status})`)}if(!$.ok){const ne=q.detail||q.message||`HTTP ${$.status}`;throw new Error(ne)}_e.value?await xl():await Pn(),Ie.value=!1,Be.value=!1,alert(q.message||"")}catch(p){console.error("Update chunks error:",p),Re.value=p.message}finally{Ue.value=!1}}},Hi=async()=>{if(!(!ye.value||ge.value)){try{ut()}catch(p){be.value=p.message;return}ge.value=!0,be.value=null;try{const p=await fetch(Ee(`/documents/${encodeURIComponent(le.value)}/process`),{method:"POST",headers:{"Content-Type":"application/json",...k()},body:JSON.stringify({confirmed:!0})}),i=await p.json();if(!p.ok)throw new Error(i.detail||i.message||`HTTP ${p.status}`);ce.value=i}catch(p){console.error("Process error:",p),be.value=p.message}finally{ge.value=!1}}},In=p=>p==="processed"||p==="approved"?"status-processed":p==="pending"?"status-pending":p==="rejected"?"status-rejected":"status-draft",Un=p=>p==="processed"?"":p==="pending"?"":p==="approved"?"":p==="rejected"?"":"",qi=async()=>{if(!(!U.value||h.value)){try{ut()}catch(p){Ne.value=p.message;return}h.value=!0,Ne.value=null;try{const p={knowledge_base_name:C.folder_name.trim(),department_ids:C.selectedDepartments,knowledge_type:C.knowledge_type||"raw"};if(C.description.trim()&&(p.description=C.description.trim()),C.knowledge_type==="template"){if(!C.template_id)throw new Error(" template ");p.template_id=C.template_id}const i=await fetch(Ee("/knowledge-bases"),{method:"POST",headers:{"Content-Type":"application/json",...k()},body:JSON.stringify(p)});let $;try{$=await i.json()}catch{throw new Error(` (HTTP ${i.status})`)}if(!i.ok){const q=$.detail||$.message||`HTTP ${i.status}`;throw new Error(q)}I.folder_id=$.knowledge_base_id||$.folder_id,F.value=$.knowledge_base_name||$.folder_name,C.folder_name="",C.description="",C.selectedDepartments=a.value.length>0?[a.value[0].value]:[],C.knowledge_type="raw",C.template_id=null,await Yt(),alert("")}catch(p){console.error("Create folder error:",p),Ne.value=p.message}finally{h.value=!1}}},Yt=async(p=1,i=20)=>{try{ut()}catch($){Ne.value=$.message,We.value=!1;return}We.value=!0,Ne.value=null;try{T();const $=k();if(!$.Authorization)throw new Error(Ys);const q=await fetch(Ee(`/knowledge-bases?page=${p}&limit=${i}`),{headers:{"Content-Type":"application/json",...$}});let ne;try{ne=await q.json()}catch{throw new Error(` (HTTP ${q.status})`)}if(!q.ok){const z=ne.detail||ne.message||`HTTP ${q.status}`;throw new Error(z)}const m=ne.knowledge_bases||ne.folders||[];ht.value=m.map(z=>({folder_id:z.knowledge_base_id||z.folder_id,folder_name:z.knowledge_base_name||z.folder_name,knowledge_base_id:z.knowledge_base_id||z.folder_id,knowledge_base_name:z.knowledge_base_name||z.folder_name,description:z.description,department_ids:z.department_ids,session_count:z.session_count||0,total_files:z.total_files||0,total_size:z.total_size||0,created_at:z.created_at,updated_at:z.updated_at,last_upload_time:z.last_upload_time,user_id:z.user_id,knowledge_type:z.knowledge_type||"raw",template_id:z.template_id||null,submission_count:z.submission_count||0,pending_submissions:z.pending_submissions||0,approved_submissions:z.approved_submissions||0,rejected_submissions:z.rejected_submissions||0})),v.value=ne.pagination||{page:1,limit:20,total:0,total_pages:0}}catch($){console.error("Fetch folders list error:",$),Ne.value=$.message}finally{We.value=!1}},Pl=p=>{Yt(p,v.value.limit)},bs=async(p=1,i=20)=>{if(E.value){try{ut()}catch($){Q.value=$.message;return}R.value=!0,Q.value=null;try{T();const $=k();if(!$.Authorization)throw new Error(Ys);let q,ne;if(E.value.knowledge_type==="template"){const{getTemplateSubmissions:m}=await yo(async()=>{const{getTemplateSubmissions:Fe}=await Promise.resolve().then(()=>mo);return{getTemplateSubmissions:Fe}},void 0);q=await m({knowledge_base_id:E.value.folder_id,page:p,limit:i});const z=q.submissions||[];N.value=z.map(Fe=>({...Fe,session_id:Fe.submission_id,document_id:Fe.submission_id,status:Fe.submission_status||"draft",source:Fe.template_name||"",description:`: ${Fe.template_name||""}`,created_at:Fe.submitted_at||Fe.created_at,submission_id:Fe.submission_id,submission_status:Fe.submission_status,template_id:Fe.template_id,template_name:Fe.template_name,submitted_by:Fe.submitted_by,submitted_at:Fe.submitted_at}))}else{ne=await fetch(Ee(`/knowledge-bases/${encodeURIComponent(E.value.folder_id)}/documents?page=${p}&limit=${i}`),{headers:{"Content-Type":"application/json",...$}});try{q=await ne.json()}catch{throw new Error(` (HTTP ${ne.status})`)}if(!ne.ok){const z=q.detail||q.message||`HTTP ${ne.status}`;throw new Error(z)}const m=q.documents||q.sessions||[];N.value=m.map(z=>({...z,session_id:z.document_id||z.session_id,document_id:z.document_id||z.session_id}))}H.value=q.pagination||{page:1,limit:20,total:0,total_pages:0}}catch($){console.error("Fetch folder sessions error:",$),Q.value=$.message}finally{R.value=!1}}},Il=p=>{bs(p,H.value.limit)},Bi=async p=>{A.value={...p},C.folder_name=p.folder_name||p.knowledge_base_name||"",C.description=p.description||"",C.selectedDepartments=Ol(p.department_ids),C.knowledge_type=p.knowledge_type||"raw",C.template_id=p.template_id||null,C.knowledge_type==="template"&&ve.value.length===0&&await Ul(),window.scrollTo({top:0,behavior:"smooth"})},Ki=async()=>{if(A.value){try{ut()}catch(p){Ne.value=p.message;return}D.value=!0,Ne.value=null;try{const p={};if(C.folder_name.trim()&&C.folder_name.trim()!==(A.value.folder_name||A.value.knowledge_base_name)&&(p.knowledge_base_name=C.folder_name.trim()),C.description.trim()!==(A.value.description||"")&&(p.description=C.description.trim()||void 0),Ji(C.selectedDepartments,A.value.department_ids)||(p.department_ids=C.selectedDepartments),C.knowledge_type!==(A.value.knowledge_type||"raw"))if(p.knowledge_type=C.knowledge_type,C.knowledge_type==="template"){if(!C.template_id)throw new Error(" template ");p.template_id=C.template_id}else p.template_id=null;else if(C.knowledge_type==="template"&&C.template_id!==(A.value.template_id||null)){if(!C.template_id)throw new Error(" template ");p.template_id=C.template_id}if(Object.keys(p).length===0)throw new Error("");const i=await fetch(Ee(`/knowledge-bases/${encodeURIComponent(A.value.folder_id)}`),{method:"PATCH",headers:{"Content-Type":"application/json",...k()},body:JSON.stringify(p)});let $;try{$=await i.json()}catch{throw new Error(` (HTTP ${i.status})`)}if(!i.ok){const q=$.detail||$.message||`HTTP ${i.status}`;throw new Error(q)}I.folder_id===A.value.folder_id&&(F.value=$.knowledge_base_name||$.folder_name,E.value&&E.value.folder_id===A.value.folder_id&&(E.value={...E.value,...$,folder_id:$.knowledge_base_id||$.folder_id,folder_name:$.knowledge_base_name||$.folder_name,knowledge_base_id:$.knowledge_base_id||$.folder_id,knowledge_base_name:$.knowledge_base_name||$.folder_name,session_count:$.session_count||0,total_files:$.total_files||0,total_size:$.total_size||0,submission_count:$.submission_count||0,pending_submissions:$.pending_submissions||0,approved_submissions:$.approved_submissions||0,rejected_submissions:$.rejected_submissions||0})),A.value=null,C.folder_name="",C.description="",C.selectedDepartments=a.value.length>0?[a.value[0].value]:[],C.knowledge_type="raw",C.template_id=null,await Yt(v.value.page,v.value.limit),alert("")}catch(p){console.error("Update folder error:",p),Ne.value=p.message}finally{D.value=!1}}},zi=async p=>{window.confirm(` "${p.folder_name}" 

`)&&await Wi(p.folder_id)},Wi=async p=>{try{ut()}catch(i){Ne.value=i.message;return}O.value=!0,Ne.value=null;try{const i=await fetch(Ee(`/knowledge-bases/${encodeURIComponent(p)}`),{method:"DELETE",headers:{...k()}});if(!i.ok){const $=await i.json().catch(()=>({}));throw new Error($.detail||$.message||`HTTP ${i.status}`)}I.folder_id===p&&(I.folder_id="",F.value=""),await Yt(v.value.page,v.value.limit),alert("")}catch(i){console.error("Delete folder error:",i),Ne.value=i.message}finally{O.value=!1}},Ji=(p=[],i=[])=>{const $=m=>[...m].map(z=>String(z)).sort(),q=$(p),ne=$(i);return q.length!==ne.length?!1:q.every((m,z)=>m===ne[z])},rs=async(p=1,i=100,$="")=>{u.value=!0,_.value=null;try{let q=r;if($.trim()){const ne=$.trim().toLowerCase();q=r.filter(m=>m.name.toLowerCase().includes(ne)||m.tag.toLowerCase().includes(ne)||m.description&&m.description.toLowerCase().includes(ne))}a.value=q.map(ne=>({label:ne.name,value:String(ne.id),tag:ne.tag,description:ne.description})),a.value.length>0&&C.selectedDepartments.length===0&&(C.selectedDepartments=[a.value[0].value])}catch(q){console.error("Fetch departments error:",q),_.value=q.message}finally{u.value=!1}},Ul=async()=>{ee.value=!0;try{const p=await $l(1,100);ve.value=p.templates||[]}catch(p){console.error(":",p)}finally{ee.value=!1}},Gi=async p=>{if(!p){V.value=null,M.filled_data={};return}ee.value=!0;try{const i=await Cl(p);V.value=i,M.filled_data={},i.fields&&i.fields.forEach($=>{M.filled_data[$.field_id]=""})}catch(i){console.error(":",i),V.value=null,M.filled_data={}}finally{ee.value=!1}},Fl=async()=>{C.knowledge_type==="template"&&ve.value.length===0&&await Ul(),C.knowledge_type==="raw"&&(C.template_id=null)},Xi=p=>{const i=p.target.files[0];i&&(M.image_file=i,K.value=null,ie.value=null)},Zi=()=>{M.image_file=null,K.value=null,ie.value=null,V.value&&V.value.fields.forEach(p=>{M.filled_data[p.field_id]=""})},Yi=async()=>{if(!(!M.image_file||!V.value)){re.value=!0,ie.value=null;try{const p=await Sl(V.value.template_id,M.image_file);if(K.value=p,p.auto_filled_data&&V.value){const i={};V.value.fields.forEach($=>{const q=$.field_name.toLowerCase().replace(/\s+/g,"_");i[q]=$.field_id,i[$.field_name.toLowerCase()]=$.field_id,i[$.field_id]=$.field_id}),Object.keys(p.auto_filled_data).forEach($=>{let q=i[$.toLowerCase()]||i[$]||$;M.filled_data.hasOwnProperty(q)&&(!M.filled_data[q]||M.filled_data[q]==="")&&(M.filled_data[q]=p.auto_filled_data[$])})}}catch(p){ie.value=p.message||"OCR ",console.error("OCR preview error:",p)}finally{re.value=!1}}},Qi=p=>p?URL.createObjectURL(p):"",Fn=p=>{if(!K.value||!K.value.auto_filled_data)return null;const i=K.value.auto_filled_data;if(i.hasOwnProperty(p.field_id))return p.field_id;const $=p.field_name.toLowerCase().replace(/\s+/g,"_");if(i.hasOwnProperty($))return $;const q=p.field_name.toLowerCase();if(i.hasOwnProperty(q))return q;for(const ne in i){const m=ne.toLowerCase();if(m===$||m===q||m.includes($)||$.includes(m))return ne}return null},Bs=p=>Fn(p)!==null,ws=p=>{if(!K.value||!K.value.confidence_colors)return null;const i=Fn(p);return i?K.value.confidence_colors[i]:null},At=p=>{if(!K.value||!K.value.confidence_scores)return null;const i=Fn(p);return i?K.value.confidence_scores[i]:null},Ks=p=>{if(!K.value)return"OCR ";const i=At(p),$=ws(p);return i!==void 0?`OCR  - : ${i}% (${$||""})`:"OCR "},zs=p=>p&&{green:"confidence-high",yellow:"confidence-medium",red:"confidence-low"}[p.toLowerCase()]||"";Wt(()=>l.authToken,(p,i)=>{p&&!i&&(rs(),Yt())}),Hs(()=>{T(),setTimeout(()=>{T(),l.authToken?(rs(),Yt()):console.warn("Token not found after sync, user may need to login")},100)});const Mn=w;return(p,i)=>{var $,q,ne;return c(),f("div",Fd,[n("div",Md,[n("header",Dd,[n("div",Rd,[i[33]||(i[33]=n("p",{class:"hero-eyebrow"}," /upload/v2",-1)),n("h1",null,b(we()),1),n("p",Ld,b(He()),1),j.value==="folders"?(c(),f("div",jd,[n("div",Vd,[i[22]||(i[22]=n("span",null,"",-1)),n("strong",null,b(v.value.total||0),1)])])):j.value==="folder-detail"&&E.value?(c(),f("div",Nd,[E.value.knowledge_type==="raw"?(c(),f(ae,{key:0},[n("div",Hd,[i[23]||(i[23]=n("span",null,"",-1)),n("strong",null,b(E.value.session_count||0),1)]),n("div",qd,[i[24]||(i[24]=n("span",null,"",-1)),n("strong",null,b(E.value.total_files||0),1)]),E.value.total_size?(c(),f("div",Bd,[i[25]||(i[25]=n("span",null,"",-1)),n("strong",null,b($e(E.value.total_size)),1)])):P("",!0)],64)):(c(),f(ae,{key:1},[n("div",Kd,[i[26]||(i[26]=n("span",null,"",-1)),n("strong",null,b(E.value.submission_count||0),1)]),n("div",zd,[i[27]||(i[27]=n("span",null,"",-1)),n("strong",null,b(E.value.pending_submissions||0),1)]),n("div",Wd,[i[28]||(i[28]=n("span",null,"",-1)),n("strong",null,b(E.value.approved_submissions||0),1)]),n("div",Jd,[i[29]||(i[29]=n("span",null,"",-1)),n("strong",null,b(E.value.rejected_submissions||0),1)])],64))])):j.value==="session-detail"?(c(),f("div",Gd,[n("div",Xd,[i[30]||(i[30]=n("span",null,"ID",-1)),n("strong",null,b(le.value||""),1)]),n("div",Zd,[i[31]||(i[31]=n("span",null,"",-1)),n("strong",null,b((($=te.value)==null?void 0:$.files_count)||0),1)]),n("div",Yd,[i[32]||(i[32]=n("span",null,"",-1)),n("strong",null,b(_e.value?_e.value.total_chunks:0),1)])])):P("",!0)]),n("div",Qd,[j.value!=="folders"?(c(),f("button",{key:0,class:"ghost-button",onClick:Le}," ")):P("",!0),n("button",{class:"back-button",onClick:nt}," ")])]),n("div",ec,[n("div",tc,[j.value==="folders"?(c(),f("div",sc,[n("section",nc,[i[58]||(i[58]=n("div",{class:"step-heading"},[n("div",null,[n("h3",null,"")])],-1)),n("div",lc,[n("label",null,[i[34]||(i[34]=n("span",null," *",-1)),de(n("input",{"onUpdate:modelValue":i[0]||(i[0]=m=>C.folder_name=m),type:"text",placeholder:""},null,512),[[ke,C.folder_name]])]),n("label",null,[i[35]||(i[35]=n("span",null,"",-1)),de(n("input",{"onUpdate:modelValue":i[1]||(i[1]=m=>C.description=m),type:"text",placeholder:""},null,512),[[ke,C.description]])])]),n("div",oc,[n("label",null,[n("div",ic,[i[36]||(i[36]=n("span",null," ID*",-1)),n("button",{class:"ghost-button small",onClick:rs,disabled:u.value,style:{"font-size":"12px",padding:"4px 8px"}},b(u.value?"...":""),9,rc)]),i[39]||(i[39]=n("p",{class:"help-text"}," ID ",-1)),u.value?(c(),f("div",ac,[...i[37]||(i[37]=[n("span",{class:"spinner"},null,-1),n("p",null,"...",-1)])])):_.value?(c(),f("p",uc,""+b(_.value),1)):a.value.length===0?(c(),f("div",dc,[i[38]||(i[38]=n("p",null,"",-1)),n("button",{class:"ghost-button small",onClick:rs,style:{"margin-top":"8px"}},"")])):(c(),f("div",cc,[(c(!0),f(ae,null,xe(a.value,m=>(c(),f("label",{key:m.value,class:"tag-option"},[de(n("input",{type:"checkbox",value:m.value,"onUpdate:modelValue":i[2]||(i[2]=z=>C.selectedDepartments=z),disabled:h.value},null,8,fc),[[cn,C.selectedDepartments]]),n("span",null,b(m.label)+"ID: "+b(m.value)+"",1)]))),128))]))])]),n("div",pc,[n("label",null,[i[41]||(i[41]=n("span",null," *",-1)),de(n("select",{"onUpdate:modelValue":i[3]||(i[3]=m=>C.knowledge_type=m),disabled:h.value,onChange:Fl},[...i[40]||(i[40]=[n("option",{value:"raw"},"raw",-1),n("option",{value:"template"},"template",-1)])],40,vc),[[yt,C.knowledge_type]]),i[42]||(i[42]=n("p",{class:"help-text",style:{"margin-top":"4px","font-size":"12px",color:"#6b7280"}}," rawtemplatepng, jpg, jpeg, bmp, tiff ",-1))]),C.knowledge_type==="template"?(c(),f("label",_c,[i[44]||(i[44]=n("span",null," *",-1)),de(n("select",{"onUpdate:modelValue":i[4]||(i[4]=m=>C.template_id=m),disabled:h.value||ee.value,required:""},[i[43]||(i[43]=n("option",{value:""},"",-1)),(c(!0),f(ae,null,xe(ve.value,m=>(c(),f("option",{key:m.template_id,value:m.template_id},b(m.template_name),9,gc))),128))],8,mc),[[yt,C.template_id]]),ee.value?(c(),f("p",hc," ... ")):ve.value.length===0?(c(),f("p",yc,"  ")):P("",!0)])):P("",!0)]),n("div",bc,[n("button",{class:"primary-button",onClick:qi,disabled:!U.value||h.value},[h.value?(c(),f("span",$c,[...i[45]||(i[45]=[n("span",{class:"spinner"},null,-1),Z("...",-1)])])):(c(),f("span",kc,""))],8,wc)]),A.value?(c(),f("div",Cc,[i[57]||(i[57]=n("h4",null,"",-1)),n("div",Sc,[n("label",null,[i[46]||(i[46]=n("span",null," *",-1)),de(n("input",{"onUpdate:modelValue":i[5]||(i[5]=m=>C.folder_name=m),type:"text"},null,512),[[ke,C.folder_name]])]),n("label",null,[i[47]||(i[47]=n("span",null,"",-1)),de(n("input",{"onUpdate:modelValue":i[6]||(i[6]=m=>C.description=m),type:"text"},null,512),[[ke,C.description]])])]),n("div",Tc,[n("label",null,[n("div",xc,[i[48]||(i[48]=n("span",null," ID*",-1)),n("button",{class:"ghost-button small",onClick:rs,disabled:u.value,style:{"font-size":"12px",padding:"4px 8px"}},b(u.value?"...":""),9,Ec)]),u.value?(c(),f("div",Oc,[...i[49]||(i[49]=[n("span",{class:"spinner"},null,-1),n("p",null,"...",-1)])])):_.value?(c(),f("p",Ac,""+b(_.value),1)):a.value.length===0?(c(),f("div",Pc,[i[50]||(i[50]=n("p",null,"",-1)),n("button",{class:"ghost-button small",onClick:rs,style:{"margin-top":"8px"}},"")])):(c(),f("div",Ic,[(c(!0),f(ae,null,xe(a.value,m=>(c(),f("label",{key:`edit-${m.value}`,class:"tag-option"},[de(n("input",{type:"checkbox",value:m.value,"onUpdate:modelValue":i[7]||(i[7]=z=>C.selectedDepartments=z),disabled:D.value},null,8,Uc),[[cn,C.selectedDepartments]]),n("span",null,b(m.label)+"ID: "+b(m.value)+"",1)]))),128))]))])]),n("div",Fc,[n("label",null,[i[52]||(i[52]=n("span",null," *",-1)),de(n("select",{"onUpdate:modelValue":i[8]||(i[8]=m=>C.knowledge_type=m),disabled:D.value,onChange:Fl},[...i[51]||(i[51]=[n("option",{value:"raw"},"raw",-1),n("option",{value:"template"},"template",-1)])],40,Mc),[[yt,C.knowledge_type]]),i[53]||(i[53]=n("p",{class:"help-text",style:{"margin-top":"4px","font-size":"12px",color:"#6b7280"}}," rawtemplatepng, jpg, jpeg, bmp, tiff ",-1))]),C.knowledge_type==="template"?(c(),f("label",Dc,[i[55]||(i[55]=n("span",null," *",-1)),de(n("select",{"onUpdate:modelValue":i[9]||(i[9]=m=>C.template_id=m),disabled:D.value||ee.value,required:""},[i[54]||(i[54]=n("option",{value:""},"",-1)),(c(!0),f(ae,null,xe(ve.value,m=>(c(),f("option",{key:m.template_id,value:m.template_id},b(m.template_name),9,Lc))),128))],8,Rc),[[yt,C.template_id]]),ee.value?(c(),f("p",jc," ... ")):ve.value.length===0?(c(),f("p",Vc,"  ")):P("",!0)])):P("",!0)]),n("div",Nc,[n("button",{class:"ghost-button",onClick:Ot,disabled:D.value},"",8,Hc),n("button",{class:"primary-button",onClick:Ki,disabled:D.value},[D.value?(c(),f("span",Kc,[...i[56]||(i[56]=[n("span",{class:"spinner"},null,-1),Z("...",-1)])])):(c(),f("span",Bc,""))],8,qc)])])):P("",!0)]),n("section",zc,[n("div",Wc,[i[59]||(i[59]=n("div",null,[n("h3",null,"")],-1)),n("button",{class:"ghost-button subtle",onClick:i[10]||(i[10]=m=>Yt(v.value.page,v.value.limit)),disabled:We.value},b(We.value?"...":""),9,Jc)]),Ne.value?(c(),f("p",Gc,""+b(Ne.value),1)):P("",!0),We.value?(c(),f("div",Xc,[...i[60]||(i[60]=[n("span",{class:"spinner"},null,-1),n("p",null,"...",-1)])])):ht.value.length>0?(c(),f("div",Zc,[(c(!0),f(ae,null,xe(ht.value,m=>(c(),f("div",{key:m.folder_id,class:"folder-item",onClick:z=>je(m)},[n("div",Qc,[n("code",ef,b(m.folder_id.substring(0,8))+"...",1),n("div",{class:"folder-actions",onClick:i[11]||(i[11]=Je(()=>{},["stop"]))},[n("button",{class:"ghost-button small",onClick:Je(z=>Bi(m),["stop"])},"",8,tf),n("button",{class:"ghost-button small danger",onClick:Je(z=>zi(m),["stop"]),disabled:O.value},"",8,sf)])]),n("div",nf,[n("span",null,[i[61]||(i[61]=n("strong",null,":",-1)),Z(" "+b(m.folder_name),1)]),n("span",null,[i[62]||(i[62]=n("strong",null,":",-1)),Z(" "+b(m.description||""),1)]),n("span",null,[i[63]||(i[63]=n("strong",null,":",-1)),n("span",{style:yn({color:m.knowledge_type==="template"?"#8b5cf6":"#3b82f6"})},b(m.knowledge_type==="template"?"":""),5)]),n("span",null,[i[64]||(i[64]=n("strong",null,":",-1)),Z(" "+b(qt(m.department_ids)),1)]),m.knowledge_type==="raw"?(c(),f(ae,{key:0},[n("span",null,[i[65]||(i[65]=n("strong",null,":",-1)),Z(" "+b(m.session_count||0),1)]),n("span",null,[i[66]||(i[66]=n("strong",null,":",-1)),Z(" "+b(m.total_files||0),1)]),m.total_size?(c(),f("span",lf,[i[67]||(i[67]=n("strong",null,":",-1)),Z(" "+b($e(m.total_size)),1)])):P("",!0)],64)):(c(),f(ae,{key:1},[n("span",null,[i[68]||(i[68]=n("strong",null,":",-1)),Z(" "+b(m.submission_count||0),1)]),n("span",null,[i[69]||(i[69]=n("strong",null,":",-1)),Z(" "+b(m.pending_submissions||0),1)]),n("span",null,[i[70]||(i[70]=n("strong",null,":",-1)),Z(" "+b(m.approved_submissions||0),1)]),n("span",null,[i[71]||(i[71]=n("strong",null,":",-1)),Z(" "+b(m.rejected_submissions||0),1)])],64))]),n("div",of,b(Te(m.created_at)),1)],8,Yc))),128)),v.value.total_pages>1?(c(),f("div",rf,[n("button",{class:"ghost-button",onClick:i[12]||(i[12]=m=>Pl(v.value.page-1)),disabled:v.value.page<=1},"",8,af),n("span",uf," "+b(v.value.page)+" / "+b(v.value.total_pages)+"  ( "+b(v.value.total)+" )",1),n("button",{class:"ghost-button",onClick:i[13]||(i[13]=m=>Pl(v.value.page+1)),disabled:v.value.page>=v.value.total_pages},"",8,df)])):P("",!0)])):(c(),f("div",cf,[...i[72]||(i[72]=[n("p",null,"",-1)])]))])])):j.value==="folder-detail"&&E.value?(c(),f("div",ff,[n("section",pf,[n("div",vf,[n("div",null,[n("h3",null,b(E.value.folder_name),1),n("p",null,b(E.value.description||""),1)])]),n("div",_f,[E.value.knowledge_type==="raw"?(c(),f(ae,{key:0},[n("div",null,[i[73]||(i[73]=n("span",null,"",-1)),n("strong",null,b(E.value.session_count||0),1)]),n("div",null,[i[74]||(i[74]=n("span",null,"",-1)),n("strong",null,b(E.value.total_files||0),1)]),E.value.total_size?(c(),f("div",mf,[i[75]||(i[75]=n("span",null,"",-1)),n("strong",null,b($e(E.value.total_size)),1)])):P("",!0)],64)):(c(),f(ae,{key:1},[n("div",null,[i[76]||(i[76]=n("span",null,"",-1)),n("strong",null,b(E.value.submission_count||0),1)]),n("div",null,[i[77]||(i[77]=n("span",null,"",-1)),n("strong",null,b(E.value.pending_submissions||0),1)]),n("div",null,[i[78]||(i[78]=n("span",null,"",-1)),n("strong",null,b(E.value.approved_submissions||0),1)]),n("div",null,[i[79]||(i[79]=n("span",null,"",-1)),n("strong",null,b(E.value.rejected_submissions||0),1)])],64)),n("div",null,[i[80]||(i[80]=n("span",null,"",-1)),n("strong",null,b(qt(E.value.department_ids)),1)])])]),n("section",gf,[i[97]||(i[97]=n("div",{class:"step-heading"},[n("div",null,[n("h3",null,"")])],-1)),E.value&&E.value.knowledge_type==="raw"?(c(),f(ae,{key:0},[n("div",hf,[n("label",null,[i[81]||(i[81]=n("span",null," (source) *",-1)),de(n("input",{"onUpdate:modelValue":i[14]||(i[14]=m=>I.source=m),type:"text",placeholder:""},null,512),[[ke,I.source]])]),n("label",null,[i[82]||(i[82]=n("span",null," (description) *",-1)),de(n("input",{"onUpdate:modelValue":i[15]||(i[15]=m=>I.description=m),type:"text",placeholder:"2024 "},null,512),[[ke,I.description]])])]),n("div",yf,[n("label",null,[i[84]||(i[84]=n("span",null," (data_type) *",-1)),de(n("select",{"onUpdate:modelValue":i[16]||(i[16]=m=>I.data_type=m),disabled:J.value},[...i[83]||(i[83]=[n("option",{value:"private"}," (Private)",-1),n("option",{value:"public"}," (Public)",-1)])],8,bf),[[yt,I.data_type]])])]),i[85]||(i[85]=n("p",{class:"help-text",style:{"margin-top":"-10px","margin-bottom":"15px"}},[n("strong",null,":"),Z("  ")],-1))],64)):P("",!0),E.value&&E.value.knowledge_type==="raw"?(c(),f("div",wf,[n("input",{type:"file",multiple:"",ref_key:"fileInput",ref:X,class:"hidden-input",accept:".pdf,.docx,.txt,.jpg,.jpeg,.png,.bmp,.tiff",onChange:On,disabled:J.value},null,40,kf),n("div",{class:"upload-box",onClick:xn},[G.value.length===0?(c(),f("div",$f,[i[86]||(i[86]=n("p",{class:"upload-title"},"",-1)),i[87]||(i[87]=n("p",{class:"upload-hint"}," PDFDOCXTXTJPGJPEGPNGBMPTIFF",-1)),n("p",Cf," "+b(en(Mn).MAX_FILES)+"  "+b(en(Mn).MAX_FILE_SIZE_MB)+"MB "+b(en(Mn).MAX_TOTAL_SIZE_MB)+"MB",1)])):(c(),f("div",Sf,[n("p",Tf," "+b(G.value.length)+" ",1),i[88]||(i[88]=n("p",{class:"upload-hint"},"",-1))]))]),G.value.length>0?(c(),f("div",xf,[(c(!0),f(ae,null,xe(G.value,(m,z)=>(c(),f("div",{key:`${m.name}-${z}`,class:"file-chip"},[n("div",null,[n("strong",null,b(m.name),1),n("small",null,b($e(m.size)),1)]),n("button",{class:"remove-file",onClick:Fe=>B(z)},"",8,Ef)]))),128))])):P("",!0)])):P("",!0),E.value&&E.value.knowledge_type==="template"?(c(),f("div",Of,[E.value.template_id?V.value?(c(),f("div",Pf,[n("div",If,[i[89]||(i[89]=n("label",null,"",-1)),n("p",Uf,[Z("  "+b(V.value.template_name)+" ",1),V.value.description?(c(),f("span",Ff," - "+b(V.value.description),1)):P("",!0)])]),n("div",Mf,[i[90]||(i[90]=n("label",null," *",-1)),n("div",Df,[n("input",{type:"file",accept:"image/*",onChange:Xi,disabled:J.value,id:"templateImageInput",class:"file-input"},null,40,Rf),n("label",Lf,[M.image_file?(c(),f("span",Vf,[Z("  "+b(M.image_file.name)+" ",1),n("button",{type:"button",onClick:Je(Zi,["stop"]),class:"clear-file-btn"},"")])):(c(),f("span",jf," "))])]),M.image_file?(c(),f("div",Nf,[n("img",{src:Qi(M.image_file),alt:"",class:"image-preview"},null,8,Hf),n("button",{type:"button",onClick:Yi,disabled:re.value||J.value,class:"preview-ocr-btn"},[re.value?(c(),f("span",Bf," OCR ...")):(c(),f("span",Kf,"  OCR "))],8,qf)])):P("",!0),ie.value?(c(),f("div",zf,"  "+b(ie.value),1)):P("",!0),K.value&&K.value.auto_filled_data?(c(),f("div",Wf,"  OCR  ")):P("",!0)]),n("div",Jf,[i[95]||(i[95]=n("label",null,"",-1)),n("div",Gf,[(c(!0),f(ae,null,xe(V.value.fields,(m,z)=>{var Fe,ks;return c(),f(ae,{key:m.field_id},[m.position==="full"||!m.position?(c(),f("div",Xf,[n("label",null,[Z(b(m.field_name)+" ",1),m.required?(c(),f("span",Zf,"*")):P("",!0),K.value&&K.value.auto_filled_data&&Bs(m)?(c(),f("span",{key:1,class:De(["ocr-badge",zs(ws(m))]),title:Ks(m)},[i[91]||(i[91]=Z("  OCR ",-1)),At(m)?(c(),f("span",Qf,b(At(m))+"% ",1)):P("",!0)],10,Yf)):P("",!0)]),de(n("input",{type:"text","onUpdate:modelValue":kt=>M.filled_data[m.field_id]=kt,required:m.required,placeholder:`${m.field_name}`,class:"form-input",disabled:J.value},null,8,ep),[[ke,M.filled_data[m.field_id]]])])):m.position==="left"?(c(),f("div",tp,[n("div",sp,[n("label",null,[Z(b(m.field_name)+" ",1),m.required?(c(),f("span",np,"*")):P("",!0),K.value&&K.value.auto_filled_data&&Bs(m)?(c(),f("span",{key:1,class:De(["ocr-badge",zs(ws(m))]),title:Ks(m)},[i[92]||(i[92]=Z("  OCR ",-1)),At(m)?(c(),f("span",op,b(At(m))+"% ",1)):P("",!0)],10,lp)):P("",!0)]),de(n("input",{type:"text","onUpdate:modelValue":kt=>M.filled_data[m.field_id]=kt,required:m.required,placeholder:`${m.field_name}`,class:"form-input",disabled:J.value},null,8,ip),[[ke,M.filled_data[m.field_id]]])]),((Fe=V.value.fields[z+1])==null?void 0:Fe.position)==="right"?(c(),f("div",rp,[n("label",null,[Z(b(V.value.fields[z+1].field_name)+" ",1),V.value.fields[z+1].required?(c(),f("span",ap,"*")):P("",!0),K.value&&K.value.auto_filled_data&&Bs(V.value.fields[z+1])?(c(),f("span",{key:1,class:De(["ocr-badge",zs(ws(V.value.fields[z+1]))]),title:Ks(V.value.fields[z+1])},[i[93]||(i[93]=Z("  OCR ",-1)),At(V.value.fields[z+1])?(c(),f("span",dp,b(At(V.value.fields[z+1]))+"% ",1)):P("",!0)],10,up)):P("",!0)]),de(n("input",{type:"text","onUpdate:modelValue":kt=>M.filled_data[V.value.fields[z+1].field_id]=kt,required:V.value.fields[z+1].required,placeholder:`${V.value.fields[z+1].field_name}`,class:"form-input",disabled:J.value},null,8,cp),[[ke,M.filled_data[V.value.fields[z+1].field_id]]])])):(c(),f("div",fp))])):m.position==="right"&&((ks=V.value.fields[z-1])==null?void 0:ks.position)!=="left"?(c(),f("div",pp,[n("label",null,[Z(b(m.field_name)+" ",1),m.required?(c(),f("span",vp,"*")):P("",!0),K.value&&K.value.auto_filled_data&&Bs(m)?(c(),f("span",{key:1,class:De(["ocr-badge",zs(ws(m))]),title:Ks(m)},[i[94]||(i[94]=Z("  OCR ",-1)),At(m)?(c(),f("span",mp,b(At(m))+"% ",1)):P("",!0)],10,_p)):P("",!0)]),de(n("input",{type:"text","onUpdate:modelValue":kt=>M.filled_data[m.field_id]=kt,required:m.required,placeholder:`${m.field_name}`,class:"form-input",disabled:J.value},null,8,gp),[[ke,M.filled_data[m.field_id]]])])):P("",!0)],64)}),128))])])])):P("",!0):(c(),f("div",Af,"   "))])):P("",!0),n("div",hp,[n("button",{class:"primary-button",onClick:is,disabled:!W.value||J.value},[J.value?(c(),f("span",wp,[...i[96]||(i[96]=[n("span",{class:"spinner"},null,-1),Z("...",-1)])])):(c(),f("span",bp,""))],8,yp)]),ue.value?(c(),f("p",kp,""+b(ue.value),1)):P("",!0)]),n("section",$p,[n("div",Cp,[i[98]||(i[98]=n("div",null,[n("h3",null,"")],-1)),n("button",{class:"ghost-button subtle",onClick:i[17]||(i[17]=m=>bs(H.value.page,H.value.limit)),disabled:R.value},b(R.value?"...":""),9,Sp)]),Q.value?(c(),f("p",Tp,""+b(Q.value),1)):P("",!0),R.value?(c(),f("div",xp,[...i[99]||(i[99]=[n("span",{class:"spinner"},null,-1),n("p",null,"...",-1)])])):N.value.length>0?(c(),f("div",Ep,[(c(!0),f(ae,null,xe(N.value,m=>(c(),f("div",{key:m.session_id,class:"session-item",onClick:z=>lt(m)},[n("div",Ap,[n("code",Pp,b(m.session_id.substring(0,8))+"...",1),n("span",{class:De(["status-badge",In(m.status||m.submission_status)])},b(Un(m.status||m.submission_status)),3)]),n("div",Ip,[n("span",null,[i[100]||(i[100]=n("strong",null,":",-1)),Z(" "+b(m.source||m.template_name||""),1)]),m.submission_status?(c(),f("span",Up,[i[101]||(i[101]=n("strong",null,":",-1)),n("span",{class:De(["status-badge",In(m.submission_status)])},b(Un(m.submission_status)),3)])):(c(),f("span",Fp,[i[102]||(i[102]=n("strong",null,":",-1)),Z(" "+b(m.files_count||0),1)])),m.submitted_by?(c(),f("span",Mp,[i[103]||(i[103]=n("strong",null,":",-1)),Z(" "+b(m.submitted_by),1)])):P("",!0)]),n("div",Dp,b(Te(m.created_at||m.submitted_at)),1)],8,Op))),128)),H.value.total_pages>1?(c(),f("div",Rp,[n("button",{class:"ghost-button",onClick:i[18]||(i[18]=m=>Il(H.value.page-1)),disabled:H.value.page<=1},"",8,Lp),n("span",jp," "+b(H.value.page)+" / "+b(H.value.total_pages)+"  ( "+b(H.value.total)+" )",1),n("button",{class:"ghost-button",onClick:i[19]||(i[19]=m=>Il(H.value.page+1)),disabled:H.value.page>=H.value.total_pages},"",8,Vp)])):P("",!0)])):(c(),f("div",Np,[...i[104]||(i[104]=[n("p",null,"",-1)])]))])])):j.value==="session-detail"?(c(),f("div",Hp,[te.value?(c(),f("section",qp,[n("div",Bp,[n("div",null,[i[105]||(i[105]=n("h3",null,"",-1)),n("p",null,"Session ID: "+b(te.value.session_id),1)]),n("div",Kp,[n("button",{class:"ghost-button",onClick:Pn,disabled:!le.value||Ke.value},b(Ke.value?"...":""),9,zp),n("button",{class:"ghost-button danger",onClick:Mi,disabled:!le.value||ze.value},b(ze.value?"...":""),9,Wp)])]),n("div",Jp,[n("div",null,[i[106]||(i[106]=n("span",null,"",-1)),n("span",{class:De(["status-badge",In(te.value.session_status||te.value.status)])},b(Un(te.value.session_status||te.value.status)),3)]),n("div",null,[i[107]||(i[107]=n("span",null,"",-1)),n("strong",null,b(te.value.source),1)]),n("div",null,[i[108]||(i[108]=n("span",null,"",-1)),n("strong",null,b(te.value.description),1)]),n("div",null,[i[109]||(i[109]=n("span",null,"",-1)),n("strong",null,b(te.value.files_count||((q=te.value.files)==null?void 0:q.length)||0),1)]),te.value.data_type?(c(),f("div",Gp,[i[110]||(i[110]=n("span",null,"",-1)),n("strong",null,b(te.value.data_type==="public"?"":""),1)])):P("",!0),te.value.user_id?(c(),f("div",Xp,[i[111]||(i[111]=n("span",null,"ID",-1)),n("strong",null,b(te.value.user_id),1)])):P("",!0),te.value.folder_id?(c(),f("div",Zp,[i[112]||(i[112]=n("span",null,"ID",-1)),n("strong",null,b(te.value.folder_id.substring(0,8))+"...",1)])):P("",!0),te.value.batch_id?(c(),f("div",Yp,[i[113]||(i[113]=n("span",null,"ID",-1)),n("strong",null,b(te.value.batch_id.substring(0,8))+"...",1)])):P("",!0),te.value.department_ids?(c(),f("div",Qp,[i[114]||(i[114]=n("span",null,"",-1)),n("strong",null,b(qt(te.value.department_ids)),1)])):P("",!0),te.value.created_at?(c(),f("div",ev,[i[115]||(i[115]=n("span",null,"",-1)),n("strong",null,b(Te(te.value.created_at)),1)])):P("",!0),te.value.updated_at?(c(),f("div",tv,[i[116]||(i[116]=n("span",null,"",-1)),n("strong",null,b(Te(te.value.updated_at)),1)])):P("",!0)]),(ne=te.value.files)!=null&&ne.length?(c(),f("div",sv,[i[117]||(i[117]=n("div",{class:"files-header"},[n("span",null,""),n("span",null,""),n("span",null,""),n("span",null,"")],-1)),(c(!0),f(ae,null,xe(te.value.files,m=>(c(),f("div",{key:m.filename,class:"files-row"},[n("span",null,b(m.filename),1),n("span",null,b(m.file_type),1),n("span",null,b($e(m.size)),1),n("span",null,b(Te(m.upload_time)),1)]))),128))])):P("",!0)])):P("",!0),n("section",nv,[n("div",lv,[i[120]||(i[120]=n("div",null,[n("h3",null,"")],-1)),n("div",ov,[n("button",{class:"ghost-button",onClick:xl,disabled:!se.value||Ge.value},[Ge.value?(c(),f("span",av,[...i[118]||(i[118]=[n("span",{class:"spinner"},null,-1),Z("...",-1)])])):(c(),f("span",rv,""))],8,iv),_e.value?(c(),f("button",{key:0,class:"ghost-button",onClick:Di,disabled:Ue.value},b(Ie.value?"":""),9,uv)):P("",!0),le.value&&!Ie.value?(c(),f("button",{key:1,class:"ghost-button",onClick:Al,disabled:Ue.value},b(Be.value?"":""),9,dv)):P("",!0),Ie.value&&_e.value||le.value&&Be.value?(c(),f("button",{key:2,class:"primary-button",onClick:Ni,disabled:Ue.value},[Ue.value?(c(),f("span",pv,[...i[119]||(i[119]=[n("span",{class:"spinner"},null,-1),Z("...",-1)])])):(c(),f("span",fv,""))],8,cv)):P("",!0)])]),Y.value?(c(),f("p",vv,""+b(Y.value),1)):P("",!0),Re.value?(c(),f("p",_v,""+b(Re.value),1)):P("",!0),le.value&&(Ie.value||Be.value||_e.value)?(c(),f("div",mv,[n("div",gv,[i[121]||(i[121]=n("h4",null,"",-1)),n("button",{class:"ghost-button subtle",onClick:Al},b(Be.value?"":""),1)]),Be.value?(c(),f("div",hv,[n("div",yv,[n("label",null,[i[122]||(i[122]=n("span",null," (source)",-1)),de(n("input",{"onUpdate:modelValue":i[20]||(i[20]=m=>he.source=m),type:"text",placeholder:""},null,512),[[ke,he.source]])]),n("label",null,[i[123]||(i[123]=n("span",null," (description)",-1)),de(n("input",{"onUpdate:modelValue":i[21]||(i[21]=m=>he.description=m),type:"text",placeholder:""},null,512),[[ke,he.description]])])]),i[124]||(i[124]=n("p",{class:"help-text",style:{"margin-top":"10px",color:"#64748b"}},[n("strong",null,":"),Z("  ")],-1))])):P("",!0)])):P("",!0),Ge.value?(c(),f("div",bv,[...i[125]||(i[125]=[n("span",{class:"spinner"},null,-1),n("p",null,"...",-1)])])):P("",!0),_e.value?(c(),f("div",wv,[n("div",kv,[n("div",null,[i[126]||(i[126]=n("span",null,"",-1)),n("strong",null,b(_e.value.total_files),1)]),n("div",null,[i[127]||(i[127]=n("span",null,"",-1)),n("strong",null,b(_e.value.total_chunks),1)]),n("div",null,[i[128]||(i[128]=n("span",null,"",-1)),n("strong",null,b(_e.value.source),1)]),n("div",null,[i[129]||(i[129]=n("span",null,"",-1)),n("strong",null,b(qt(_e.value.department_ids||_e.value.department)),1)])]),n("div",$v,[(c(!0),f(ae,null,xe(_e.value.files,m=>{var z,Fe,ks,kt;return c(),f("div",{key:m.file_id||m.filename,class:"preview-file"},[n("div",Cv,[n("div",null,[n("h4",null,b(m.filename),1),n("p",null,b((z=m.file_type)==null?void 0:z.toUpperCase())+"  "+b(m.total_chunks)+" ",1)]),m.file_base64||m.image_base64?(c(),f("span",Sv,"")):P("",!0)]),m.file_base64&&((Fe=m.file_type)==null?void 0:Fe.toLowerCase())==="pdf"?(c(),f("div",Tv,[n("iframe",{src:`data:application/pdf;base64,${m.file_base64}`,type:"application/pdf",class:"pdf-viewer",title:"PDF Preview"},null,8,xv)])):(m.file_base64||m.image_base64)&&["jpg","jpeg","png","bmp","tiff"].includes((ks=m.file_type)==null?void 0:ks.toLowerCase())?(c(),f("div",Ev,[n("img",{src:`data:image/${m.file_type||"jpeg"};base64,${m.file_base64||m.image_base64}`,alt:"Image preview"},null,8,Ov)])):["docx","txt"].includes((kt=m.file_type)==null?void 0:kt.toLowerCase())&&m.original_content?(c(),f("div",Av,[i[130]||(i[130]=n("strong",null,"",-1)),n("pre",Pv,b(m.original_content),1)])):m.original_content&&!m.file_base64&&!m.image_base64?(c(),f("div",Iv,[i[131]||(i[131]=n("strong",null,"",-1)),n("pre",Uv,b(hs(m.original_content,800)),1)])):P("",!0),n("div",Fv,[Ie.value?(c(),f(ae,{key:0},[me.value[m.file_id]&&me.value[m.file_id].length>0?(c(),f("div",Mv,[(c(!0),f(ae,null,xe(me.value[m.file_id],(Pt,It)=>(c(),f("div",{key:`${m.file_id}-edit-${It}`,class:"chunk-card editing"},[n("div",Dv,[Z("  "+b(It+1)+"  "+b(Pt.length)+"  ",1),n("div",Rv,[n("button",{class:"chunk-action-btn",onClick:Ws=>Ri(m.file_id,It),title:""},"",8,Lv),n("button",{class:"chunk-action-btn",onClick:Ws=>Li(m.file_id,It),disabled:It===me.value[m.file_id].length-1,title:""},"",8,jv),n("button",{class:"chunk-action-btn danger",onClick:Ws=>ji(m.file_id,It),title:""},"",8,Vv)])]),de(n("textarea",{"onUpdate:modelValue":Ws=>me.value[m.file_id][It]=Ws,class:"chunk-textarea",rows:Math.min(10,Math.ceil(Pt.length/50))},null,8,Nv),[[ke,me.value[m.file_id][It]]])]))),128))])):(c(),f("div",Hv,[...i[132]||(i[132]=[n("p",null,"",-1)])])),n("div",qv,[n("button",{class:"add-chunk-btn",onClick:Pt=>Vi(m.file_id)},"+ ",8,Bv)])],64)):(c(!0),f(ae,{key:1},xe(m.chunks,(Pt,It)=>(c(),f("div",{key:`${m.file_id}-${Pt.chunk_id}`,class:"chunk-card"},[n("div",Kv," "+b(Pt.chunk_id)+"  "+b(Pt.chunk_size)+" ",1),n("pre",zv,b(Pt.description||Pt.text),1)]))),128))])])}),128))])])):P("",!0)]),n("section",Wv,[n("div",Jv,[i[134]||(i[134]=n("div",null,[n("h3",null,"")],-1)),n("button",{class:"primary-button",onClick:Hi,disabled:!ye.value||ge.value},[ge.value?(c(),f("span",Zv,[...i[133]||(i[133]=[n("span",{class:"spinner"},null,-1),Z("...",-1)])])):(c(),f("span",Xv,""))],8,Gv)]),be.value?(c(),f("p",Yv,""+b(be.value),1)):P("",!0),ce.value?(c(),f("div",Qv,[i[139]||(i[139]=n("h4",null,"",-1)),n("p",null,[i[135]||(i[135]=n("strong",null,"Batch ID:",-1)),Z(" "+b(ce.value.batch_id),1)]),n("p",null,[i[136]||(i[136]=n("strong",null,"Session ID:",-1)),Z(" "+b(ce.value.session_id),1)]),n("p",null,[i[137]||(i[137]=n("strong",null,":",-1)),Z(" "+b(ce.value.indexed_chunks),1)]),n("p",null,[i[138]||(i[138]=n("strong",null,":",-1)),Z(" "+b(ce.value.message),1)])])):P("",!0)])])):P("",!0)])])])])}}},t_=Tn(e_,[["__scopeId","data-v-920fec9e"]]),s_={class:"template-management"},n_={class:"template-header"},l_={class:"header-content"},o_={class:"header-actions"},i_={class:"tabs"},r_={class:"template-content"},a_={key:0,class:"templates-section"},u_={key:0,class:"loading"},d_={key:1,class:"error"},c_={key:2,class:"empty"},f_={key:0,class:"empty-hint"},p_={key:1,class:"empty-hint"},v_={key:3,class:"templates-grid"},__={class:"template-header-card"},m_={key:0,class:"template-actions"},g_=["onClick"],h_=["onClick"],y_={key:0,class:"template-description"},b_={class:"template-fields"},w_={key:0,class:"required"},k_={class:"template-footer"},$_=["onClick"],C_={class:"template-date"},S_={key:4,class:"pagination"},T_=["disabled"],x_=["disabled"],E_={key:1,class:"submissions-section"},O_={class:"submissions-filters"},A_=["value"],P_={key:0,class:"loading"},I_={key:1,class:"error"},U_={key:2,class:"empty"},F_={key:3,class:"submissions-list"},M_={class:"submission-header"},D_={class:"submission-info"},R_={key:0},L_={key:1},j_={class:"submission-actions"},V_=["onClick"],N_=["onClick"],H_={key:4,class:"pagination"},q_=["disabled"],B_=["disabled"],K_={class:"form-group"},z_={class:"form-group"},W_={class:"form-group"},J_={class:"form-group"},G_={class:"fields-editor"},X_={class:"field-row"},Z_=["onUpdate:modelValue"],Y_=["onUpdate:modelValue"],Q_={class:"field-required"},em=["onUpdate:modelValue"],tm={class:"field-row"},sm=["onUpdate:modelValue"],nm=["onClick"],lm={class:"form-group"},om={class:"layout-preview"},im={key:0,class:"preview-field preview-full"},rm={class:"preview-label"},am={key:0,class:"preview-required"},um={key:1,class:"preview-row"},dm={class:"preview-field preview-left"},cm={class:"preview-label"},fm={key:0,class:"preview-required"},pm={key:0,class:"preview-field preview-right"},vm={class:"preview-label"},_m={key:0,class:"preview-required"},mm={key:1,class:"preview-spacer"},gm={key:2,class:"preview-field preview-full"},hm={class:"preview-label"},ym={key:0,class:"preview-required"},bm={class:"form-actions"},wm=["disabled"],km={class:"form-group"},$m=["value"],Cm={class:"form-group"},Sm={class:"file-upload-area"},Tm={for:"imageFileInput",class:"file-upload-label"},xm={key:0},Em={key:1,class:"file-selected"},Om={key:0,class:"image-preview-area"},Am=["src"],Pm=["disabled"],Im={key:0},Um={key:1},Fm={key:1,class:"ocr-error"},Mm={key:2,class:"ocr-success"},Dm={key:0,class:"confidence-summary"},Rm={class:"form-group"},Lm={class:"fields-input"},jm={key:0,class:"field-input field-full"},Vm={key:0,class:"required"},Nm=["title"],Hm={key:0,class:"confidence-score"},qm=["onUpdate:modelValue","required","placeholder"],Bm={key:1,class:"field-row-layout"},Km={class:"field-input field-left"},zm={key:0,class:"required"},Wm=["title"],Jm={key:0,class:"confidence-score"},Gm=["onUpdate:modelValue","required","placeholder"],Xm={key:0,class:"field-input field-right"},Zm={key:0,class:"required"},Ym=["title"],Qm={key:0,class:"confidence-score"},eg=["onUpdate:modelValue","required","placeholder"],tg={key:1,class:"field-spacer"},sg={key:2,class:"field-input field-full"},ng={key:0,class:"required"},lg=["title"],og={key:0,class:"confidence-score"},ig=["type","onUpdate:modelValue","required","placeholder","pattern"],rg=["onUpdate:modelValue","required"],ag=["value"],ug={class:"form-actions"},dg=["disabled"],cg={key:0},fg={key:1},pg={class:"submission-detail"},vg={class:"detail-section"},_g={key:0},mg={key:1},gg={key:2},hg={class:"detail-section"},yg={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"12px"}},bg=["disabled"],wg={key:0},kg={key:1},$g={key:0,class:"loading-image"},Cg=["src"],Sg=["src"],Tg={key:3,class:"image-error"},xg={class:"detail-section"},Eg={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"12px"}},Og={class:"filled-data"},Ag={key:0,class:"detail-section"},Pg={class:"filled-data"},Ig={class:"data-item-header"},Ug={class:"data-item-value"},Fg={class:"form-actions"},Mg={class:"form-group"},Dg={class:"radio-group"},Rg={key:0,class:"form-group"},Lg={class:"form-actions"},jg=["disabled"],Vg={class:"form-group"},Ng={class:"fields-input"},Hg={key:0,class:"required"},qg=["onUpdate:modelValue","required","placeholder"],Bg={class:"form-actions"},Kg=["disabled"],zg={key:0},Wg={key:1},Jg={__name:"TemplateManagement",emits:["navigate"],setup(e,{emit:t}){const s=t,l=L("employee"),o=L(""),r=L(""),a=L("templates"),u=L([]),_=L(!1),w=L(null),g=L({page:1,limit:20,total:0,total_pages:0}),S=L([]),I=L(!1),C=L(null),G=L({page:1,limit:20,total:0,total_pages:0}),X=Ze({status:"",template_id:""}),ve=L(!1),ee=L(null),V=L(null),M=L(null),K=L(null),ie=L(null),re=Ze({template_name:"",description:"",report_prompt:"",fields:[{field_name:"",required:!1,position:"left",description:""}]}),J=Ze({knowledge_base_id:"",image_file:null,filled_data:{}}),te=L([]),le=Ze({approve:!0,reason:""}),ue=Ze({filled_data:{}}),Ve=L(!1),Ke=L(!1),ze=L(!1),_e=L(!1),Ge=L(!1),Y=L(null),ce=L(null),ge=L(!1),be=L(null),Ie=L(!1);Hs(()=>{var d,y,B;const x=localStorage.getItem("authData");if(x)try{const fe=JSON.parse(x);l.value=((d=fe.user)==null?void 0:d.role)||"employee",o.value=((y=fe.user)==null?void 0:y.id)||"",r.value=((B=fe.user)==null?void 0:B.username)||""}catch(fe){console.warn("Failed to parse authData",fe)}Ue(),Re(),me()});const me=async()=>{try{const x=await xi(1,100);te.value=x.knowledge_bases||[]}catch(x){console.error(":",x)}},Ue=async(x=1)=>{_.value=!0,w.value=null;try{const d=await $l(x,20);u.value=d.templates||[],g.value=d.pagination||{page:1,limit:20,total:0,total_pages:0}}catch(d){w.value=d.message||""}finally{_.value=!1}},Re=async(x=1)=>{I.value=!0,C.value=null;try{const d={page:x,limit:20};X.status&&(d.status=X.status),X.template_id&&(d.template_id=X.template_id);const y=await Pi(d);S.value=y.submissions||[],G.value=y.pagination||{page:1,limit:20,total:0,total_pages:0}}catch(d){C.value=d.message||""}finally{I.value=!1}},Be=async()=>{Ve.value=!0;try{const x=re.fields.map(d=>{const y={field_name:d.field_name,required:d.required||!1};return d.position&&(y.position=d.position),d.description&&(y.description=d.description),y});ee.value?await Oi(ee.value.template_id,{template_name:re.template_name,description:re.description||null,report_prompt:re.report_prompt||null,fields:x}):await Ei(re.template_name,x,re.description||null,re.report_prompt||null),pt(),Ue()}catch(x){alert(x.message||"")}finally{Ve.value=!1}},he=async x=>{if(confirm(`"${x.template_name}"`))try{await Ai(x.template_id),Ue()}catch(d){alert(d.message||"")}},gt=x=>{ee.value=x,re.template_name=x.template_name,re.description=x.description||"",re.report_prompt=x.report_prompt||"",re.fields=x.fields.map(d=>({field_name:d.field_name||"",required:d.required||!1,position:d.position||"left",description:d.description||""})),ve.value=!0},pt=()=>{ve.value=!1,ee.value=null,re.template_name="",re.description="",re.report_prompt="",re.fields=[{field_name:"",required:!1,position:"left",description:""}]},rt=()=>{re.fields.push({field_name:"",required:!1,position:"left",description:""})},ht=x=>{re.fields.splice(x,1)},We=x=>{V.value=x,J.knowledge_base_id="",J.filled_data={},J.image_file=null,Y.value=null,ce.value=null,x.fields.forEach(d=>{J.filled_data[d.field_id]=""})},Ne=async()=>{if(!(!J.image_file||!V.value)){Ge.value=!0,ce.value=null;try{const x=await Sl(V.value.template_id,J.image_file);if(Y.value=x,x.auto_filled_data&&V.value){const d={};V.value.fields.forEach(y=>{const B=y.field_name.toLowerCase().replace(/\s+/g,"_");d[B]=y.field_id,d[y.field_name.toLowerCase()]=y.field_id,d[y.field_id]=y.field_id}),Object.keys(x.auto_filled_data).forEach(y=>{let B=d[y.toLowerCase()]||d[y]||y;J.filled_data.hasOwnProperty(B)&&(!J.filled_data[B]||J.filled_data[B]==="")&&(J.filled_data[B]=x.auto_filled_data[y])})}}catch(x){ce.value=x.message||"OCR ",console.error("OCR preview error:",x)}finally{Ge.value=!1}}},v=async()=>{if(!J.knowledge_base_id){alert("");return}if(!J.image_file){alert("");return}const x=V.value.fields.filter(d=>d.required&&!J.filled_data[d.field_id]).map(d=>d.field_name);if(x.length>0){alert(`${x.join("")}`);return}Ke.value=!0;try{await Tl(V.value.template_id,J.knowledge_base_id,J.image_file,J.filled_data),O(),alert(""),Re()}catch(d){alert(d.message||"")}finally{Ke.value=!1}},h=()=>{J.image_file=null,Y.value=null,ce.value=null,V.value.fields.forEach(x=>{J.filled_data[x.field_id]=""})},O=()=>{V.value=null,J.knowledge_base_id="",J.filled_data={},J.image_file=null,Y.value=null,ce.value=null},D=async x=>{if(!x||!x.submission_id){be.value=null;return}be.value&&(URL.revokeObjectURL(be.value),be.value=null),Ie.value=!0;try{try{const d=await fn(x.submission_id);if(d&&d.file_base64&&d.mime_type){be.value=`data:${d.mime_type};base64,${d.file_base64}`;return}}catch(d){console.warn("JSON API  API:",d)}if(x.knowledge_base_id){const d=Ee(`/knowledge-bases/${encodeURIComponent(x.knowledge_base_id)}/template-submissions/${encodeURIComponent(x.submission_id)}/file`),y=js();if(!y.Authorization)throw new Error("");const B=await fetch(d,{method:"GET",headers:{...y}});if(!B.ok)throw new Error(` (HTTP ${B.status})`);const fe=await B.blob();be.value=URL.createObjectURL(fe)}else if(x.image_file_url){const d=On(x.image_file_url),y=js();if(y.Authorization){const B=await fetch(d,{method:"GET",headers:{...y}});if(!B.ok)throw new Error(` (HTTP ${B.status})`);const fe=await B.blob();be.value=URL.createObjectURL(fe)}else be.value=d}else throw new Error("")}catch(d){console.error(":",d),be.value=null}finally{Ie.value=!1}},F=async x=>{try{const d=await ol(x.submission_id);M.value=d,await D(d)}catch(d){alert(d.message||"")}},A=()=>{be.value&&(URL.revokeObjectURL(be.value),be.value=null),M.value=null},j=()=>{M.value&&M.value.submission_id&&D(M.value)},E=async x=>{if(!x||!x.submission_id){alert("");return}ge.value=!0;try{let d,y=`submission_${x.submission_id.substring(0,8)}.png`;try{const $e=await fn(x.submission_id);if($e&&$e.file_base64&&$e.mime_type){const Te=$e.file_base64,hs=$e.mime_type,qt=atob(Te),ys=new Array(qt.length);for(let is=0;is<qt.length;is++)ys[is]=qt.charCodeAt(is);const ut=new Uint8Array(ys);d=new Blob([ut],{type:hs}),$e.filename?y=$e.filename:$e.file_type&&(y=`submission_${x.submission_id.substring(0,8)}.${$e.file_type}`)}else throw new Error("")}catch($e){if(console.warn("JSON API  API:",$e),x.knowledge_base_id)try{d=await Fi(x.knowledge_base_id,x.submission_id)}catch(hs){console.warn(" API :",hs),d=await pn(x.submission_id)}else d=await pn(x.submission_id);let Te="png";d.type&&(d.type.includes("png")?Te="png":d.type.includes("jpeg")||d.type.includes("jpg")?Te="jpg":d.type.includes("bmp")?Te="bmp":d.type.includes("tiff")&&(Te="tiff")),y=`submission_${x.submission_id.substring(0,8)}.${Te}`}const B=window.URL.createObjectURL(d),fe=document.createElement("a");fe.href=B,fe.download=y,document.body.appendChild(fe),fe.click(),document.body.removeChild(fe),window.URL.revokeObjectURL(B),alert("")}catch(d){console.error(":",d),alert(d.message||"")}finally{ge.value=!1}},N=x=>{K.value=x,le.approve=!0,le.reason=""},R=async()=>{if(!le.approve&&!le.reason){alert("");return}ze.value=!0;try{await Ui(K.value.submission_id,le.approve,le.reason||null),Q(),alert(""),Re(),M.value&&F(K.value)}catch(x){alert(x.message||"")}finally{ze.value=!1}},Q=()=>{K.value=null,le.approve=!0,le.reason=""},H=async x=>{try{let d=x;(!x.filled_data||Object.keys(x.filled_data).length===0)&&(d=await ol(x.submission_id)),ie.value=d,ue.filled_data=JSON.parse(JSON.stringify(d.filled_data||{}))}catch(d){alert(d.message||"")}},T=async()=>{if(ie.value){if(ie.value.template_id)try{const x=await Cl(ie.value.template_id);if(x&&x.fields){const d=x.fields.filter(y=>y.required&&!ue.filled_data[y.field_id]).map(y=>y.field_name||y.field_id);if(d.length>0){alert(`${d.join("")}`);return}}}catch(x){console.warn(":",x.message)}_e.value=!0;try{const x=ie.value.submission_id,d=await Ii(x,ue.filled_data);alert(""),Re(),M.value&&M.value.submission_id===x&&(M.value=d,await D(d)),k()}catch(x){alert(x.message||"")}finally{_e.value=!1}}},k=()=>{ie.value=null,ue.filled_data={}},U=x=>{if(ie.value){if(ie.value.fields){const d=ie.value.fields.find(y=>y.field_id===x);return(d==null?void 0:d.required)||!1}if(ie.value.template&&ie.value.template.fields){const d=ie.value.template.fields.find(y=>y.field_id===x);return(d==null?void 0:d.required)||!1}}return!1},W=x=>x?new Date(x).toLocaleString("zh-CN"):"",se=x=>({pending:"",approved:"",rejected:""})[x]||x,ye=x=>(l.value==="admin"||l.value==="manager")&&x.submission_status==="pending",we=x=>!(!x||x.submission_status!=="pending"),He=x=>({text:"text",number:"number",date:"date",email:"email",phone:"tel"})[x]||"text",Le=x=>x&&{green:"confidence-high",yellow:"confidence-medium",red:"confidence-low"}[x.toLowerCase()]||"",nt=x=>{if(!V.value||!V.value.fields)return x;const d=V.value.fields.find(y=>y.field_id===x);return d?d.field_name:x},at=x=>{if(!Y.value||!Y.value.auto_filled_data)return null;const d=Y.value.auto_filled_data;if(d.hasOwnProperty(x.field_id))return x.field_id;const y=x.field_name.toLowerCase().replace(/\s+/g,"_");if(d.hasOwnProperty(y))return y;const B=x.field_name.toLowerCase();if(d.hasOwnProperty(B))return B;for(const fe in d){const $e=fe.toLowerCase();if($e===y||$e===B||$e.includes(y)||y.includes($e))return fe}return null},je=x=>at(x)!==null,Me=x=>{if(!Y.value||!Y.value.confidence_colors)return null;const d=at(x);return d?Y.value.confidence_colors[d]:null},lt=x=>{if(!Y.value||!Y.value.confidence_scores)return null;const d=at(x);return d?Y.value.confidence_scores[d]:null},Ot=x=>{if(!Y.value)return"OCR ";const d=lt(x),y=Me(x);return d!==void 0?`OCR  - : ${d}% (${y||""})`:"OCR "},xn=x=>{const d=x.target.files[0];d&&(J.image_file=d,Y.value=null,ce.value=null)},En=x=>x?URL.createObjectURL(x):"",On=x=>{if(!x)return"";if(x.startsWith("http"))return x;const d=localStorage.getItem("chatConfig");let y="https://travesti-scott-specialty-achieving.trycloudflare.com";if(d)try{y=JSON.parse(d).baseUrl||y}catch(B){console.warn("Failed to parse chatConfig",B)}return x.startsWith("/")?`${y}${x}`:`${y}/api${x}`},An=()=>{s("navigate","chat")};return(x,d)=>(c(),f("div",s_,[n("div",n_,[n("div",l_,[d[27]||(d[27]=n("h1",null,"",-1)),n("div",o_,[l.value==="admin"?(c(),f("button",{key:0,class:"create-btn",onClick:d[0]||(d[0]=y=>ve.value=!0)}," +  ")):P("",!0),n("button",{class:"back-btn",onClick:An}," ")])]),n("div",i_,[n("button",{class:De(["tab",{active:a.value==="templates"}]),onClick:d[1]||(d[1]=y=>a.value="templates")},"  ",2),n("button",{class:De(["tab",{active:a.value==="submissions"}]),onClick:d[2]||(d[2]=y=>a.value="submissions")},"  ",2)])]),n("div",r_,[a.value==="templates"?(c(),f("div",a_,[_.value?(c(),f("div",u_,"...")):w.value?(c(),f("div",d_,b(w.value),1)):u.value.length===0?(c(),f("div",c_,[d[28]||(d[28]=n("div",{class:"empty-icon"},"",-1)),d[29]||(d[29]=n("p",{class:"empty-title"},"",-1)),l.value==="admin"?(c(),f("p",f_,'""')):(c(),f("p",p_,""))])):(c(),f("div",v_,[(c(!0),f(ae,null,xe(u.value,y=>(c(),f("div",{key:y.template_id,class:"template-card"},[n("div",__,[n("h3",null,b(y.template_name),1),l.value==="admin"?(c(),f("div",m_,[n("button",{class:"icon-btn",onClick:B=>gt(y),title:""},"",8,g_),n("button",{class:"icon-btn",onClick:B=>he(y),title:""},"",8,h_)])):P("",!0)]),y.description?(c(),f("p",y_,b(y.description),1)):P("",!0),n("div",b_,[(c(!0),f(ae,null,xe(y.fields,B=>(c(),f("div",{key:B.field_id,class:"field-tag"},[n("span",null,b(B.field_name),1),n("span",{class:De(["field-position-badge",`position-${B.position||"full"}`])},b(B.position==="left"?"":B.position==="right"?"":""),3),B.required?(c(),f("span",w_,"*")):P("",!0)]))),128))]),n("div",k_,[n("button",{class:"submit-btn",onClick:B=>We(y)},"",8,$_),n("span",C_,b(W(y.created_at)),1)])]))),128))])),g.value.total_pages>1?(c(),f("div",S_,[n("button",{disabled:g.value.page===1,onClick:d[3]||(d[3]=y=>Ue(g.value.page-1))},"  ",8,T_),n("span",null," "+b(g.value.page)+" / "+b(g.value.total_pages)+" ",1),n("button",{disabled:g.value.page>=g.value.total_pages,onClick:d[4]||(d[4]=y=>Ue(g.value.page+1))},"  ",8,x_)])):P("",!0)])):P("",!0),a.value==="submissions"?(c(),f("div",E_,[n("div",O_,[de(n("select",{"onUpdate:modelValue":d[5]||(d[5]=y=>X.status=y),onChange:d[6]||(d[6]=y=>Re(1))},[...d[30]||(d[30]=[n("option",{value:""},"",-1),n("option",{value:"pending"},"",-1),n("option",{value:"approved"},"",-1),n("option",{value:"rejected"},"",-1)])],544),[[yt,X.status]]),de(n("select",{"onUpdate:modelValue":d[7]||(d[7]=y=>X.template_id=y),onChange:d[8]||(d[8]=y=>Re(1))},[d[31]||(d[31]=n("option",{value:""},"",-1)),(c(!0),f(ae,null,xe(u.value,y=>(c(),f("option",{key:y.template_id,value:y.template_id},b(y.template_name),9,A_))),128))],544),[[yt,X.template_id]])]),I.value?(c(),f("div",P_,"...")):C.value?(c(),f("div",I_,b(C.value),1)):S.value.length===0?(c(),f("div",U_,[...d[32]||(d[32]=[n("div",{class:"empty-icon"},"",-1),n("p",{class:"empty-title"},"",-1),n("p",{class:"empty-hint"},"",-1)])])):(c(),f("div",F_,[(c(!0),f(ae,null,xe(S.value,y=>(c(),f("div",{key:y.submission_id,class:"submission-card"},[n("div",M_,[n("h3",null,b(y.template_name),1),n("span",{class:De(["status-badge",y.submission_status])},b(se(y.submission_status)),3)]),n("div",D_,[n("p",null,[d[33]||(d[33]=n("strong",null,":",-1)),Z(" "+b(y.submitted_by),1)]),n("p",null,[d[34]||(d[34]=n("strong",null,":",-1)),Z(" "+b(W(y.submitted_at)),1)]),y.approved_by?(c(),f("p",R_,[n("strong",null,b(y.submission_status==="approved"?"":"")+":",1),Z(" "+b(y.approved_by),1)])):P("",!0),y.rejection_reason?(c(),f("p",L_,[d[35]||(d[35]=n("strong",null,":",-1)),Z(" "+b(y.rejection_reason),1)])):P("",!0)]),n("div",j_,[n("button",{class:"view-btn",onClick:B=>F(y)},"",8,V_),ye(y)?(c(),f("button",{key:0,class:"approve-btn",onClick:B=>N(y)},"  ",8,N_)):P("",!0)])]))),128))])),G.value.total_pages>1?(c(),f("div",H_,[n("button",{disabled:G.value.page===1,onClick:d[9]||(d[9]=y=>Re(G.value.page-1))},"  ",8,q_),n("span",null," "+b(G.value.page)+" / "+b(G.value.total_pages)+" ",1),n("button",{disabled:G.value.page>=G.value.total_pages,onClick:d[10]||(d[10]=y=>Re(G.value.page+1))},"  ",8,B_)])):P("",!0)])):P("",!0)]),ve.value||ee.value?(c(),f("div",{key:0,class:"modal-overlay",onClick:pt},[n("div",{class:"modal-content",onClick:d[14]||(d[14]=Je(()=>{},["stop"]))},[n("h2",null,b(ee.value?"":""),1),n("form",{onSubmit:Je(Be,["prevent"])},[n("div",K_,[d[36]||(d[36]=n("label",null," *",-1)),de(n("input",{"onUpdate:modelValue":d[11]||(d[11]=y=>re.template_name=y),required:""},null,512),[[ke,re.template_name]])]),n("div",z_,[d[37]||(d[37]=n("label",null,"",-1)),de(n("textarea",{"onUpdate:modelValue":d[12]||(d[12]=y=>re.description=y),rows:"3"},null,512),[[ke,re.description]])]),n("div",W_,[d[38]||(d[38]=n("label",null,"",-1)),de(n("textarea",{"onUpdate:modelValue":d[13]||(d[13]=y=>re.report_prompt=y),rows:"4",placeholder:"AI"},null,512),[[ke,re.report_prompt]]),d[39]||(d[39]=n("small",{class:"form-hint"},"AI",-1))]),n("div",J_,[d[42]||(d[42]=n("label",null," *",-1)),n("div",G_,[(c(!0),f(ae,null,xe(re.fields,(y,B)=>(c(),f("div",{key:B,class:"field-item"},[n("div",X_,[de(n("input",{"onUpdate:modelValue":fe=>y.field_name=fe,placeholder:" *",class:"field-name",required:""},null,8,Z_),[[ke,y.field_name]]),de(n("select",{"onUpdate:modelValue":fe=>y.position=fe,class:"field-position",required:""},[...d[40]||(d[40]=[n("option",{value:""}," *",-1),n("option",{value:"left"}," (50%) - ",-1),n("option",{value:"right"}," (50%) - ",-1),n("option",{value:"full"}," (100%) - ",-1)])],8,Y_),[[yt,y.position]]),n("label",Q_,[de(n("input",{type:"checkbox","onUpdate:modelValue":fe=>y.required=fe},null,8,em),[[cn,y.required]]),d[41]||(d[41]=Z("  ",-1))])]),n("div",tm,[de(n("textarea",{"onUpdate:modelValue":fe=>y.description=fe,placeholder:"AI",class:"field-description",rows:"2"},null,8,sm),[[ke,y.description]])]),n("button",{type:"button",class:"remove-field-btn",onClick:fe=>ht(B)},"",8,nm)]))),128)),n("button",{type:"button",class:"add-field-btn",onClick:rt},"+ ")])]),n("div",lm,[d[47]||(d[47]=n("label",null,"",-1)),n("div",om,[(c(!0),f(ae,null,xe(re.fields,(y,B)=>{var fe,$e;return c(),f(ae,{key:B},[y.position==="full"||!y.position?(c(),f("div",im,[n("span",rm,b(y.field_name||""),1),y.required?(c(),f("span",am,"*")):P("",!0),d[43]||(d[43]=n("span",{class:"preview-badge preview-badge-full"},"",-1))])):y.position==="left"?(c(),f("div",um,[n("div",dm,[n("span",cm,b(y.field_name||""),1),y.required?(c(),f("span",fm,"*")):P("",!0),d[44]||(d[44]=n("span",{class:"preview-badge preview-badge-left"},"",-1))]),((fe=re.fields[B+1])==null?void 0:fe.position)==="right"?(c(),f("div",pm,[n("span",vm,b(re.fields[B+1].field_name||""),1),re.fields[B+1].required?(c(),f("span",_m,"*")):P("",!0),d[45]||(d[45]=n("span",{class:"preview-badge preview-badge-right"},"",-1))])):(c(),f("div",mm))])):y.position==="right"&&(($e=re.fields[B-1])==null?void 0:$e.position)!=="left"?(c(),f("div",gm,[n("span",hm,b(y.field_name||""),1),y.required?(c(),f("span",ym,"*")):P("",!0),d[46]||(d[46]=n("span",{class:"preview-badge preview-badge-right"},"()",-1))])):P("",!0)],64)}),128))])]),n("div",bm,[n("button",{type:"button",onClick:pt},""),n("button",{type:"submit",disabled:Ve.value},"",8,wm)])],32)])])):P("",!0),V.value?(c(),f("div",{key:1,class:"modal-overlay",onClick:O},[n("div",{class:"modal-content large",onClick:d[16]||(d[16]=Je(()=>{},["stop"]))},[n("h2",null,": "+b(V.value.template_name),1),n("form",{onSubmit:Je(v,["prevent"])},[n("div",km,[d[49]||(d[49]=n("label",null," *",-1)),de(n("select",{"onUpdate:modelValue":d[15]||(d[15]=y=>J.knowledge_base_id=y),required:"",class:"form-input"},[d[48]||(d[48]=n("option",{value:""},"",-1)),(c(!0),f(ae,null,xe(te.value,y=>(c(),f("option",{key:y.knowledge_base_id,value:y.knowledge_base_id},b(y.knowledge_base_name),9,$m))),128))],512),[[yt,J.knowledge_base_id]])]),n("div",Cm,[d[51]||(d[51]=n("label",null," *",-1)),n("div",Sm,[n("input",{type:"file",accept:"image/*",onChange:xn,required:"",id:"imageFileInput",class:"file-input"},null,32),n("label",Tm,[J.image_file?(c(),f("span",Em,[Z("  "+b(J.image_file.name)+" ",1),n("button",{type:"button",onClick:Je(h,["stop"]),class:"clear-file-btn"},"")])):(c(),f("span",xm," "))])]),J.image_file?(c(),f("div",Om,[n("img",{src:En(J.image_file),alt:"",class:"image-preview"},null,8,Am),n("button",{type:"button",onClick:Ne,disabled:Ge.value,class:"preview-ocr-btn"},[Ge.value?(c(),f("span",Im," OCR ...")):(c(),f("span",Um,"  OCR "))],8,Pm)])):P("",!0),ce.value?(c(),f("div",Fm,"  "+b(ce.value),1)):P("",!0),Y.value&&Y.value.auto_filled_data?(c(),f("div",Mm,[d[50]||(d[50]=Z("  OCR  ",-1)),Y.value.confidence_scores?(c(),f("div",Dm,[(c(!0),f(ae,null,xe(Y.value.confidence_scores,(y,B)=>{var fe;return c(),f("span",{key:B,class:De(["confidence-item",Le((fe=Y.value.confidence_colors)==null?void 0:fe[B])])},b(nt(B))+": "+b(y)+"% ",3)}),128))])):P("",!0)])):P("",!0)]),n("div",Rm,[d[57]||(d[57]=n("label",null,"",-1)),n("div",Lm,[(c(!0),f(ae,null,xe(V.value.fields,(y,B)=>{var fe,$e;return c(),f(ae,{key:y.field_id},[y.position==="full"||!y.position?(c(),f("div",jm,[n("label",null,[Z(b(y.field_name)+" ",1),y.required?(c(),f("span",Vm,"*")):P("",!0),Y.value&&Y.value.auto_filled_data&&je(y)?(c(),f("span",{key:1,class:De(["ocr-badge",Le(Me(y))]),title:Ot(y)},[d[52]||(d[52]=Z("  OCR ",-1)),lt(y)?(c(),f("span",Hm,b(lt(y))+"% ",1)):P("",!0)],10,Nm)):P("",!0)]),de(n("input",{type:"text","onUpdate:modelValue":Te=>J.filled_data[y.field_id]=Te,required:y.required,placeholder:`${y.field_name}`,class:"form-input"},null,8,qm),[[ke,J.filled_data[y.field_id]]])])):y.position==="left"?(c(),f("div",Bm,[n("div",Km,[n("label",null,[Z(b(y.field_name)+" ",1),y.required?(c(),f("span",zm,"*")):P("",!0),Y.value&&Y.value.auto_filled_data&&je(y)?(c(),f("span",{key:1,class:De(["ocr-badge",Le(Me(y))]),title:Ot(y)},[d[53]||(d[53]=Z("  OCR ",-1)),lt(y)?(c(),f("span",Jm,b(lt(y))+"% ",1)):P("",!0)],10,Wm)):P("",!0)]),de(n("input",{type:"text","onUpdate:modelValue":Te=>J.filled_data[y.field_id]=Te,required:y.required,placeholder:`${y.field_name}`,class:"form-input"},null,8,Gm),[[ke,J.filled_data[y.field_id]]])]),((fe=V.value.fields[B+1])==null?void 0:fe.position)==="right"?(c(),f("div",Xm,[n("label",null,[Z(b(V.value.fields[B+1].field_name)+" ",1),V.value.fields[B+1].required?(c(),f("span",Zm,"*")):P("",!0),Y.value&&Y.value.auto_filled_data&&je(V.value.fields[B+1])?(c(),f("span",{key:1,class:De(["ocr-badge",Le(Me(V.value.fields[B+1]))]),title:Ot(V.value.fields[B+1])},[d[54]||(d[54]=Z("  OCR ",-1)),lt(V.value.fields[B+1])?(c(),f("span",Qm,b(lt(V.value.fields[B+1]))+"% ",1)):P("",!0)],10,Ym)):P("",!0)]),de(n("input",{type:"text","onUpdate:modelValue":Te=>J.filled_data[V.value.fields[B+1].field_id]=Te,required:V.value.fields[B+1].required,placeholder:`${V.value.fields[B+1].field_name}`,class:"form-input"},null,8,eg),[[ke,J.filled_data[V.value.fields[B+1].field_id]]])])):(c(),f("div",tg))])):y.position==="right"&&(($e=V.value.fields[B-1])==null?void 0:$e.position)!=="left"?(c(),f("div",sg,[n("label",null,[Z(b(y.field_name)+" ",1),y.required?(c(),f("span",ng,"*")):P("",!0),Y.value&&Y.value.auto_filled_data&&je(y)?(c(),f("span",{key:1,class:De(["ocr-badge",Le(Me(y))]),title:Ot(y)},[d[55]||(d[55]=Z("  OCR ",-1)),lt(y)?(c(),f("span",og,b(lt(y))+"% ",1)):P("",!0)],10,lg)):P("",!0)]),y.field_type!=="select"?de((c(),f("input",{key:0,type:He(y.field_type),"onUpdate:modelValue":Te=>J.filled_data[y.field_id]=Te,required:y.required,placeholder:y.placeholder||`${y.field_name}`,pattern:y.regex_pattern,class:"form-input"},null,8,ig)),[[hu,J.filled_data[y.field_id]]]):de((c(),f("select",{key:1,"onUpdate:modelValue":Te=>J.filled_data[y.field_id]=Te,required:y.required,class:"form-input"},[d[56]||(d[56]=n("option",{value:""},"",-1)),(c(!0),f(ae,null,xe(y.options,Te=>(c(),f("option",{key:Te,value:Te},b(Te),9,ag))),128))],8,rg)),[[yt,J.filled_data[y.field_id]]])])):P("",!0)],64)}),128))])]),n("div",ug,[n("button",{type:"button",onClick:O},""),n("button",{type:"submit",disabled:Ke.value||!J.image_file},[Ke.value?(c(),f("span",cg,"...")):(c(),f("span",fg,""))],8,dg)])],32)])])):P("",!0),M.value?(c(),f("div",{key:2,class:"modal-overlay",onClick:A},[n("div",{class:"modal-content large",onClick:d[21]||(d[21]=Je(()=>{},["stop"]))},[d[71]||(d[71]=n("h2",null,"",-1)),n("div",pg,[n("div",vg,[d[65]||(d[65]=n("h3",null,"",-1)),n("p",null,[d[58]||(d[58]=n("strong",null,":",-1)),Z(" "+b(M.value.template_name),1)]),n("p",null,[d[59]||(d[59]=n("strong",null,":",-1)),n("span",{class:De(["status-badge",M.value.submission_status])},b(se(M.value.submission_status)),3)]),n("p",null,[d[60]||(d[60]=n("strong",null,":",-1)),Z(" "+b(M.value.submitted_by),1)]),n("p",null,[d[61]||(d[61]=n("strong",null,":",-1)),Z(" "+b(W(M.value.submitted_at)),1)]),M.value.approved_by?(c(),f("p",_g,[d[62]||(d[62]=n("strong",null,":",-1)),Z(" "+b(M.value.approved_by),1)])):P("",!0),M.value.approved_at?(c(),f("p",mg,[d[63]||(d[63]=n("strong",null,":",-1)),Z(" "+b(W(M.value.approved_at)),1)])):P("",!0),M.value.rejection_reason?(c(),f("p",gg,[d[64]||(d[64]=n("strong",null,":",-1)),Z(" "+b(M.value.rejection_reason),1)])):P("",!0)]),n("div",hg,[n("div",yg,[d[66]||(d[66]=n("h3",{style:{margin:"0"}},"",-1)),M.value.image_file_url?(c(),f("button",{key:0,onClick:d[17]||(d[17]=y=>E(M.value)),disabled:ge.value,class:"download-image-btn"},[ge.value?(c(),f("span",wg,"...")):(c(),f("span",kg," "))],8,bg)):P("",!0)]),Ie.value?(c(),f("div",$g,[...d[67]||(d[67]=[n("span",{class:"spinner"},null,-1),n("p",null,"...",-1)])])):be.value?(c(),f("img",{key:1,src:be.value,alt:"",class:"submission-image"},null,8,Cg)):M.value.image_file_url&&M.value.image_file_url.startsWith("http")?(c(),f("img",{key:2,src:M.value.image_file_url,alt:"",class:"submission-image",onError:j},null,40,Sg)):M.value.submission_id&&!Ie.value?(c(),f("div",Tg,[...d[68]||(d[68]=[n("p",null," ",-1)])])):P("",!0)]),n("div",xg,[n("div",Eg,[d[69]||(d[69]=n("h3",{style:{margin:"0"}},"",-1)),we(M.value)?(c(),f("button",{key:0,onClick:d[18]||(d[18]=y=>H(M.value)),class:"edit-btn"},"   ")):P("",!0)]),n("div",Og,[(c(!0),f(ae,null,xe(M.value.filled_data,(y,B)=>(c(),f("div",{key:B,class:"data-item"},[n("strong",null,b(B)+":",1),Z(" "+b(y),1)]))),128))])]),M.value.auto_filled_data?(c(),f("div",Ag,[d[70]||(d[70]=n("h3",null,"OCR ",-1)),n("div",Pg,[(c(!0),f(ae,null,xe(M.value.auto_filled_data,(y,B)=>{var fe,$e;return c(),f("div",{key:B,class:"data-item"},[n("div",Ig,[n("strong",null,b(B)+":",1),(fe=M.value.confidence_scores)!=null&&fe[B]?(c(),f("span",{key:0,class:De(["confidence-badge",Le(($e=M.value.confidence_colors)==null?void 0:$e[B])])},b(M.value.confidence_scores[B])+"% ",3)):P("",!0)]),n("div",Ug,b(y),1)])}),128))])])):P("",!0)]),n("div",Fg,[we(M.value)?(c(),f("button",{key:0,onClick:d[19]||(d[19]=y=>H(M.value)),class:"edit-btn"},"   ")):P("",!0),ye(M.value)?(c(),f("button",{key:1,onClick:d[20]||(d[20]=y=>N(M.value))},"  ")):P("",!0),n("button",{onClick:A},"")])])])):P("",!0),K.value?(c(),f("div",{key:3,class:"modal-overlay",onClick:Q},[n("div",{class:"modal-content",onClick:d[25]||(d[25]=Je(()=>{},["stop"]))},[d[76]||(d[76]=n("h2",null,"",-1)),n("form",{onSubmit:Je(R,["prevent"])},[n("div",Mg,[d[74]||(d[74]=n("label",null,"",-1)),n("div",Dg,[n("label",null,[de(n("input",{type:"radio","onUpdate:modelValue":d[22]||(d[22]=y=>le.approve=y),value:!0},null,512),[[ll,le.approve]]),d[72]||(d[72]=Z("  ",-1))]),n("label",null,[de(n("input",{type:"radio","onUpdate:modelValue":d[23]||(d[23]=y=>le.approve=y),value:!1},null,512),[[ll,le.approve]]),d[73]||(d[73]=Z("  ",-1))])])]),le.approve?P("",!0):(c(),f("div",Rg,[d[75]||(d[75]=n("label",null," *",-1)),de(n("textarea",{"onUpdate:modelValue":d[24]||(d[24]=y=>le.reason=y),rows:"3",required:"",placeholder:""},null,512),[[ke,le.reason]])])),n("div",Lg,[n("button",{type:"button",onClick:Q},""),n("button",{type:"submit",disabled:ze.value},"",8,jg)])],32)])])):P("",!0),ie.value?(c(),f("div",{key:4,class:"modal-overlay",onClick:k},[n("div",{class:"modal-content large",onClick:d[26]||(d[26]=Je(()=>{},["stop"]))},[d[78]||(d[78]=n("h2",null,"",-1)),n("form",{onSubmit:Je(T,["prevent"])},[n("div",Vg,[d[77]||(d[77]=n("label",null," *",-1)),n("div",Ng,[(c(!0),f(ae,null,xe(ue.filled_data,(y,B)=>(c(),f("div",{key:B,class:"field-input field-full"},[n("label",null,[Z(b(B)+" ",1),U(B)?(c(),f("span",Hg,"*")):P("",!0)]),de(n("input",{type:"text","onUpdate:modelValue":fe=>ue.filled_data[B]=fe,required:U(B),placeholder:`${B}`,class:"form-input"},null,8,qg),[[ke,ue.filled_data[B]]])]))),128))])]),n("div",Bg,[n("button",{type:"button",onClick:k},""),n("button",{type:"submit",disabled:_e.value},[_e.value?(c(),f("span",zg,"...")):(c(),f("span",Wg,""))],8,Kg)])],32)])])):P("",!0)]))}},Gg=Tn(Jg,[["__scopeId","data-v-4785d2e1"]]),Xg={key:1,class:"app-container"},Zg={class:"app-header"},Yg={class:"header-content"},Qg={class:"user-info"},eh={class:"username"},th={class:"user-role"},sh={__name:"App",setup(e){const t={chat:Pd,ingestV2:t_,templates:Gg},s=Ur(t.chat),l=L(!1),o=L(null),r=()=>{try{const g=localStorage.getItem("authData");if(g){const S=JSON.parse(g);if(S.expires_at&&S.expires_at>Date.now())return l.value=!0,o.value=S.user,!0;localStorage.removeItem("authData"),localStorage.removeItem("authToken")}}catch(g){console.warn("Failed to check auth",g)}return l.value=!1,o.value=null,!1},a=g=>{l.value=!0,o.value=g.user,window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("auth-token-updated",{detail:g}))},u=()=>{localStorage.removeItem("authData"),localStorage.removeItem("authToken");const g=localStorage.getItem("chatConfig");if(g)try{const S=JSON.parse(g);delete S.authToken,localStorage.setItem("chatConfig",JSON.stringify(S))}catch(S){console.warn("Failed to update chatConfig",S)}l.value=!1,o.value=null},_=g=>({admin:"",manager:"",employee:""})[g]||g||"",w=g=>{s.value=t[g]||t.chat};return Hs(()=>{r()}),(g,S)=>{var I,C;return l.value?(c(),f("div",Xg,[n("header",Zg,[n("div",Yg,[S[0]||(S[0]=n("h1",{class:"app-title"},"MyGPT ",-1)),n("div",Qg,[n("span",eh,b((I=o.value)==null?void 0:I.username),1),n("span",th,b(_((C=o.value)==null?void 0:C.role)),1),n("button",{class:"logout-button",onClick:u},"")])])]),(c(),tl(oa(s.value),{onNavigate:w},null,32))])):(c(),tl(Hu,{key:0,onLoginSuccess:a}))}}};Tu(sh).mount("#app");
